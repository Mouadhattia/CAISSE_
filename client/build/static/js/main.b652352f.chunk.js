(this.webpackJsonpcaisse=this.webpackJsonpcaisse||[]).push([[0],{245:function(e,t,n){},360:function(e,t,n){},361:function(e,t,n){},405:function(e){e.exports=JSON.parse("{}")},406:function(e,t,n){},432:function(e,t){},444:function(e,t){},447:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=447},450:function(e,t){},452:function(e,t){},486:function(e,t){},488:function(e,t){},516:function(e,t){},518:function(e,t){},519:function(e,t){},524:function(e,t){},526:function(e,t){},532:function(e,t){},534:function(e,t){},553:function(e,t){},565:function(e,t){},568:function(e,t){},600:function(e,t,n){"use strict";n.r(t);var c,i=n(1),r=n.n(i),a=n(35),s=(n(360),n(6)),o=n(15),l=(n(361),n(10)),d=n(9),u=n(60),j=n.n(u),A=(n(155),n(646)),b=n(12),h=n(3),g=n(21),O=n(32),m=n(51),p=Object(m.c)({name:"message",initialState:{},reducers:{setMessage:function(e,t){return{message:t.payload}},clearMessage:function(){return{message:""}}}}),x=p.reducer,v=p.actions,f=v.setMessage,C=(v.clearMessage,x),y=n(19),I=n.n(y),B={login:function(e,t){return I.a.post("http://141.94.77.9:5000/api/login",{username:e,password:t}).then((function(e){return e.data.token&&(console.log(e.data),localStorage.setItem("user",JSON.stringify(e.data.token)),localStorage.setItem("username",e.data.username),localStorage.setItem("tva",e.data.tva),localStorage.setItem("address",e.data.address),localStorage.setItem("telephone",e.data.telephone)),e.data}))},logout:function(){localStorage.removeItem("user")}},E=JSON.parse(localStorage.getItem("user")),Q=Object(m.b)("auth/register",function(){var e=Object(O.a)(Object(g.a)().mark((function e(t,n){var c,i,r,a,s,o;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.first_name,i=t.last_name,r=t.email,a=t.password,e.prev=1,e.next=4,B.register(c,i,r,a);case 4:return s=e.sent,console.log(s),n.dispatch(f(s.data.message)),e.abrupt("return",s.data);case 10:return e.prev=10,e.t0=e.catch(1),o=e.t0.response&&e.t0.response.data&&e.t0.response.data.message||e.t0.message||e.t0.toString(),n.dispatch(f(o)),e.abrupt("return",n.rejectWithValue());case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()),k=Object(m.b)("auth/login",function(){var e=Object(O.a)(Object(g.a)().mark((function e(t,n){var c,i,r,a;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.username,i=t.password,e.prev=1,e.next=4,B.login(c,i);case 4:return r=e.sent,console.log(r),e.abrupt("return",{user:r});case 9:return e.prev=9,e.t0=e.catch(1),a=e.t0.response&&e.t0.response.data&&e.t0.response.data.message||e.t0.message||e.t0.toString(),n.dispatch(f(a)),e.abrupt("return",n.rejectWithValue());case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),w=Object(m.b)("auth/logout",Object(O.a)(Object(g.a)().mark((function e(){return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.logout();case 2:case"end":return e.stop()}}),e)})))),N=E?{isLoggedIn:!0,user:E}:{isLoggedIn:!1,user:null},S=Object(m.c)({name:"auth",initialState:N,reducers:{restore:function(e,t){e.isLoggedIn=!0,e.user=t.payload.user}},extraReducers:(c={},Object(h.a)(c,Q.fulfilled,(function(e,t){e.isLoggedIn=!1})),Object(h.a)(c,Q.rejected,(function(e,t){e.isLoggedIn=!1})),Object(h.a)(c,k.fulfilled,(function(e,t){e.isLoggedIn=!0,e.user=t.payload.user})),Object(h.a)(c,k.rejected,(function(e,t){e.isLoggedIn=!1,e.user=null})),Object(h.a)(c,w.fulfilled,(function(e,t){e.isLoggedIn=!1,e.user=null})),c)}),_=S.reducer,T=(S.actions.restore,_),D=n(337),F=n(149),P=n(659),L={success:"success",verifyUserAndPassword:"verify username and password",username:"username",password:"password",access:"access",auth:"authentication",cashier:"cashier",connect:"connect",connecter:"Login ",reset:"reset",freeTable:"free table",busytables:"busy table",newTable:"new table",nbrCouverts:"number of person",validate:"validate",backToTable:"back to tables",couverts:"person",artice:"article",price:"price",surplace:"Direct ",tiroir:"cash register",cancel:"cancel",added:"added",disconnect:"disconnect",closureHistory:"closure history",selectDate:"select a date",print:"print",latestClosure:"latest closure",TotalInit:"initial cashier total",close:"close",ofCashier:"of cash register",confirm:"Confirm",cashierr:"Cash Register"},M={success:"success",verifyUserAndPassword:"verifier utilisateur et mot de passe",username:"utilisateur",password:"mot de passe",access:"acceder",auth:"authentification",cashier:"caisse",connect:"Connexion",connecter:"Se connecter",reset:"reset",freeTable:"table libre",busytables:"table en cours",newTable:"Nouvelle Table",nbrCouverts:"nombre de couverts",validate:"valider",backToTable:"retour Au Tables",couverts:"couverts",artice:"Nom",price:"prix",surplace:"sur place ",tiroir:"Tiroir",cancel:"Annuler",aded:"ajouter",disconnect:"d\xe9connexion",closureHistory:"historique de cl\xf4tures",selectDate:"s\xe9l\xe9ctionner une date",print:"imprimer",latestClosure:"Derniere Cl\xf4ture",TotalInit:"total de caisse initial",close:"cl\xf4turer",ofCashier:"de caisse",cashierr:"Caisse",confirm:"OK"};D.a.use(F.e).init({resources:{en:{translation:L},fr:{translation:M}},lng:"fr",fallbackLng:"en",interpolation:{escapeValue:!1}});var R=P.a,J=n(25),z=n.n(J),q=n(0),H=function(e){var t=e.user,n=e.setShowLogin,c=e.setClickable,r=R().t,a=Object(i.useState)(""),u=Object(s.a)(a,2),h=u[0],g=u[1],O=Object(i.useState)("default"),m=Object(s.a)(O,2),p=m[0],x=(m[1],Object(i.useRef)()),v=Object(i.useState)([]),f=Object(s.a)(v,2),C=f[0],y=f[1],I=localStorage.getItem("caisse_open"),B=Object(o.f)(),E=Object(b.c)();return Object(i.useEffect)((function(){!function(){var e=["0","1","2","3","4","5","6","7","8","9"," "," "],t="",n=[],c=0,i=0;do{do{var r=Math.floor(Math.random()*e.length),a=e[r];" "!=a?t=t+a+" ":t+=a,c+=1,e.splice(r,1),console.log("inner")}while(3!=c);n.push(t),t="",c=0,i+=1,console.log("outter")}while(4!=i);console.log(n),y([].concat(n))}()}),[]),Object(q.jsxs)("div",{className:"login_container",children:[Object(q.jsxs)("div",{style:{display:"flex"},children:[Object(q.jsxs)("div",{className:"mdp_container",children:[Object(q.jsx)(l.a,{icon:d.I,className:"mdp_icon",color:"white"}),Object(q.jsx)("div",{className:"input",children:h.split("").map((function(e){return Object(q.jsx)("h1",{style:{color:"white"},children:"*"})}))})]}),Object(q.jsx)(l.a,{style:{marginRight:"1.2rem"},icon:d.G,onClick:function(){n(!1),c(!0)},size:"3x"})]}),Object(q.jsx)(j.a,{theme:"hg-theme-default hg-layout-default myTheme",buttonTheme:[{class:"key_btn",buttons:"0 1 2 3 4 5 6 7 8 9  "},{class:"hg-highlight",buttons:"Q q"}],keyboardRef:function(e){return x.current=e},layoutName:p,layout:{default:C},onChange:function(e){e.length<12&&g(e),console.log("Input changed",e)},onKeyPress:function(e){console.log("Button pressed",e)}}),Object(q.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginTop:"3rem"},children:[Object(q.jsxs)(A.a,{className:"my_btn x5",onClick:function(){return localStorage.setItem("username",t),void E(k({username:t,password:h})).unwrap().then((function(e){z.a.fire({icon:"success",title:"Connect\xe9e",showConfirmButton:!1,timer:1e3}),B(1==I?"/main":"/caisse")})).catch((function(e){z.a.fire({icon:"error",title:"Verifier Mot de passe",showConfirmButton:!1,timer:1e3})}))},children:[Object(q.jsx)(l.a,{icon:d.D,size:"1x",color:"#0dcaf0",style:{marginRight:"0.5rem"}}),r("connecter")]}),Object(q.jsxs)(A.a,{className:"my_btn x5",onClick:function(){g(""),x.current.setInput("")},children:[Object(q.jsx)(l.a,{icon:d.H,size:"1x",color:"#0dcaf0",style:{marginRight:"0.5rem"}}),r("cancel")]})]})]})},K=function(e){var t=e.user,n=(R().t,Object(i.useState)(!1)),c=Object(s.a)(n,2),r=c[0],a=c[1],o=Object(i.useState)(!0),l=Object(s.a)(o,2),d=l[0],u=l[1];return Object(q.jsxs)("div",{className:"auth_card",onClick:function(){1==d&&(a(!r),u(!1))},children:[Object(q.jsx)("span",{children:Object(q.jsx)("img",{src:"http://141.94.77.9/caisse/icons/waiter.png",width:"128px",height:"128px",alt:""})}),Object(q.jsx)("h6",{children:t}),r&&Object(q.jsx)(H,{user:t,setShowLogin:a,setClickable:u})]})},G=function(){R().t;var e,t=(null===(e=localStorage.getItem("staff"))||void 0===e?void 0:e.split(","))||[],n=Object(o.f)();return Object(i.useEffect)((function(){void 0==t[0]&&n("/init")}),[]),Object(q.jsx)("div",{className:"auth_window",children:Object(q.jsx)("div",{style:{display:"flex"},children:t.map((function(e){return Object(q.jsx)(K,{user:e})}))})})},W=function(e){var t=e.title,n=R().t;return Object(q.jsx)("div",{className:"my_navbar",children:Object(q.jsx)("h4",{className:"logo",children:n("".concat(t))})})},U=(n(245),n(656)),Z=n(647),X=n(657),V=function(){return Object(q.jsxs)("div",{className:"my_container",children:[Object(q.jsx)(W,{title:"connect"}),Object(q.jsx)(G,{}),Object(q.jsx)(U.a,{bg:"light",variant:"light",fixed:"bottom",children:Object(q.jsxs)(Z.a,{children:[Object(q.jsxs)(U.a.Brand,{href:"#home",children:["Tous droits reserv\xe9es ",Object(q.jsx)("b",{children:"CAISSECONNECT.FR"})," \xa9 2022"]}),Object(q.jsx)(X.a,{className:"me-auto",children:Object(q.jsx)(X.a.Link,{href:"#home"})})]})})]})},Y=n(4),$=n(648),ee=(n.p,n.p+"static/media/logo.3c484734.png"),te=n(13),ne=Object(m.c)({name:"data",initialState:{zones:[],tables:[],categories:[],products:[],nSteps:[],orderHistory:[],clients:[],tva_mode:[]},reducers:{storeClients:function(e,t){e.clients=t.payload.clients},storeZones:function(e,t){e.zones=t.payload.zones},storeTables:function(e,t){e.tables=t.payload.tables},storeCategories:function(e,t){e.categories=t.payload.categories},storeProducts:function(e,t){e.products=t.payload.products},storeNSteps:function(e,t){e.nSteps=t.payload.nSteps},storeOrderHistory:function(e,t){e.orderHistory=t.payload.orderHistory},storeTvaMode:function(e,t){e.tva_mode=t.payload.tva_mode},updateProduct:function(e,t){var n=e.products.findIndex((function(e){return e.id==t.payload.id})),c=Object(te.a)(e.products);c[n]=Object(Y.a)(Object(Y.a)({},c[n]),{},{active:0}),e.products=c}}}),ce=ne.reducer,ie=ne.actions,re=ie.storeZones,ae=ie.storeTables,se=ie.storeCategories,oe=ie.storeProducts,le=ie.storeNSteps,de=ie.storeOrderHistory,ue=ie.storeClients,je=ie.updateProduct,Ae=ie.storeTvaMode,be=ce,he=function(){var e=Object(b.c)(),t=R().t,n=Object(o.f)(),c=Object(i.useState)({show:!1,variant:"",msg:""}),r=Object(s.a)(c,2),a=r[0],u=r[1],j=Object(i.useState)({username:"",password:""}),h=Object(s.a)(j,2),g=h[0],O=h[1];return Object(q.jsx)("div",{className:"authincation h-100 c",children:Object(q.jsx)("div",{className:"container h-100",children:Object(q.jsx)("div",{className:"row justify-content-center h-100 align-items-center",children:Object(q.jsxs)("div",{className:"col-md-6",children:[Object(q.jsx)("div",{className:"authincation-content",children:Object(q.jsx)("div",{className:"row no-gutters",children:Object(q.jsxs)("div",{className:"col-xl-12",children:[Object(q.jsx)("div",{className:"row",children:Object(q.jsxs)("div",{className:"col-5 mx-auto top",children:[Object(q.jsx)("br",{}),Object(q.jsx)("div",{className:"text-center ",children:Object(q.jsx)("img",{className:"logo-compact ",src:ee,width:"100%",alt:""})})]})}),Object(q.jsxs)("div",{className:"auth-form",children:[Object(q.jsx)("h4",{className:"text-center mb-4",children:"Connectez-vous \xe0 votre compte"}),Object(q.jsxs)("form",{children:[Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{className:"mb-1 pull-left",children:Object(q.jsx)("strong",{children:t("username")})}),Object(q.jsx)("input",{onChange:function(e){return O(Object(Y.a)(Object(Y.a)({},g),{},{username:e.target.value}))},type:"text",className:"form-control",placeholder:"Nom d'utilisateur",autocomplete:"off"})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{className:"mb-1 pull-left",children:Object(q.jsx)("strong",{children:t("password")})}),Object(q.jsx)("input",{onChange:function(e){return O(Object(Y.a)(Object(Y.a)({},g),{},{password:e.target.value}))},type:"password",className:"form-control",placeholder:"Mot de passe",autocomplete:"new-password","v-model":"User.MotDePasse"})]}),Object(q.jsx)("div",{className:"form-row d-flex justify-content-between mt-4 mb-2",children:Object(q.jsx)("div",{className:"form-group",children:Object(q.jsxs)("div",{className:"custom-control custom-checkbox ml-1",children:[Object(q.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"basic_checkbox_1"}),Object(q.jsx)("label",{className:"custom-control-label",for:"basic_checkbox_1",children:"Gardez-moi connect\xe9"})]})})}),Object(q.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show hidden",id:"error",children:[Object(q.jsxs)("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",className:"mr-2",children:[Object(q.jsx)("polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"}),Object(q.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),Object(q.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),Object(q.jsx)("strong",{id:"errorMessage"})]})]}),Object(q.jsx)("div",{className:"text-center col-12",children:Object(q.jsxs)(A.a,{variant:"warning",size:"lg",onClick:function(){I.a.post("http://141.94.77.9:5000/api/init",Object(Y.a)({},g)).then((function(c){console.log(c.data),localStorage.setItem("staff",c.data.staff),localStorage.setItem("user_id",c.data.user_id),localStorage.setItem("currency",c.data.currency),e(ue({clients:c.data.clients})),u({show:!0,msg:t("success"),variant:"success"}),I.a.post("http://141.94.77.9:5000/api/getCaisse",{user_id:c.data.user_id}).then((function(e){localStorage.setItem("caisse_id",e.data.id),localStorage.setItem("caisse_open",1==e.data.is_open?1:0)})),setTimeout((function(){n("/")}),1e3)})).catch((function(e){console.log(e),localStorage.removeItem("staff"),u({show:!0,msg:t("verifyUserAndPassword"),variant:"danger"})}))},children:[Object(q.jsx)(l.a,{icon:d.t})," Se connecter"]})})]})]})})}),a.show?Object(q.jsx)($.a,{variant:a.variant,children:a.msg}):""]})})})})},ge=n(335),Oe=n(649),me=n(601),pe=Object(m.c)({name:"order",initialState:{orders:[],checkoutData:[],currentOrders:[],selectedTable:{},client:{},nbrCouverts:0,remarque:"",orderType:"emporter"},reducers:{setRemarque:function(e,t){e.remarque=t.payload.remarque},storeSelectedTable:function(e,t){console.log(t.payload),e.selectedTable=t.payload.selectedTable},setNbrCouverts:function(e,t){e.nbrCouverts=t.payload.nbrCouverts},setNewCurrentOrder:function(e,t){e.currentOrders=[].concat(Object(te.a)(e.currentOrders),[t.payload.order])},setNewOrder:function(e,t){var n=e.orders.findIndex((function(e){return e.id==t.payload.order.id})),c=Object(te.a)(e.orders);-1==n||t.payload.order.is_supp?e.orders=[].concat(Object(te.a)(e.orders),[t.payload.order]):(c[n]=Object(Y.a)(Object(Y.a)({},c[n]),{},{qt:c[n].qt+1}),e.orders=Object(te.a)(c))},setOrderChange:function(e,t){e.orders.findIndex((function(e){return e.id==t.payload.order.id}));var n=Object(te.a)(e.orders);n[t.payload.key]=t.payload.order,e.orders=Object(te.a)(n)},deleteOrder:function(e,t){e.orders=e.orders.filter((function(e,n){return n!=t.payload.key}))},clearOrders:function(e,t){e.orders=[]},clearData:function(e,t){e.checkoutData=[]},addNewcheckoutData:function(e,t){e.checkoutData.some((function(e){return e.order_id==t.payload.order.order_id}))||(e.checkoutData=[].concat(Object(te.a)(e.checkoutData),[t.payload.order]))},addNewcheckoutDataFromDB:function(e,t){if(-1==e.checkoutData.findIndex((function(e){return e.order_id==t.payload.order.order_id}))){var n=t.payload.order.orderItems.map((function(e){return Object(Y.a)(Object(Y.a)({},e),{},{qt:e.quantity})})),c=t.payload.order.tva*t.payload.order.price/100;e.checkoutData=[].concat(Object(te.a)(e.checkoutData),[Object(Y.a)(Object(Y.a)({},t.payload.order),{},{orderItems:n,orderType:t.payload.order.order_type,taxPrice:c})])}},deletecheckoutData:function(e,t){e.checkoutData=e.checkoutData.filter((function(e){return e.order_id!=t.payload.order_id}))},setCheckoutChange:function(e,t){var n=e.checkoutData.findIndex((function(e){return e.order_id==t.payload.order.order_id})),c=Object(te.a)(e.checkoutData);c[n]=t.payload.order,e.checkoutData=Object(te.a)(c)},initClient:function(e,t){e.client=t.payload.client},deleteClientandTable:function(e,t){e.client={},e.selectedTable={}},cancelOrder:function(e,t){Object(te.a)(e.checkoutData).forEach((function(n){n.order_id==t.payload.order_id&&(n=t.payload,e.checkoutData=[])}))},setType:function(e,t){e.orderType=t.payload}}}),xe=pe.reducer,ve=pe.actions,fe=ve.storeSelectedTable,Ce=(ve.setNbrCouverts,ve.setNewOrder),ye=ve.setOrderChange,Ie=ve.deleteOrder,Be=ve.addNewcheckoutData,Ee=ve.clearOrders,Qe=ve.deletecheckoutData,ke=ve.initClient,we=ve.deleteClientandTable,Ne=(ve.setNewCurrentOrder,ve.setCheckoutChange),Se=ve.addNewcheckoutDataFromDB,_e=ve.setRemarque,Te=(ve.cancelOrder,ve.clearData),De=ve.setType,Fe=xe,Pe=function(e){var t=e.selectedZone,n=R().t,c=Object(te.a)(Array(12).keys()),r=Object(b.d)((function(e){return e.data.tables})),a=Object(b.d)((function(e){return e.order.checkoutData})),u=Object(i.useState)({}),j=Object(s.a)(u,2),h=j[0],g=j[1],O=Object(i.useState)(!1),m=Object(s.a)(O,2),p=m[0],x=m[1],v=Object(i.useState)(0),f=Object(s.a)(v,2),C=(f[0],f[1],Object(b.c)()),y=Object(o.f)(),I=function(e){return r.filter((function(e){return e.zone_id==t})).find((function(t){return t.position==e}))},B=function(e){if(void 0!=I(e)&&0!=I(e).active)if(g({id:I(e).id,nbr:I(e).numero,ppl:I(e).nbrePersonne,libre:I(e).libre,nbrCouverts:1}),0==I(e).libre){var t=a.filter((function(t){return t.table_number==I(e).id&&"completed"!=t.status}))[0];y("/checkout/".concat(t.order_id))}else x(!0)};return Object(q.jsxs)("div",{style:{marginTop:"1rem"},children:[Object(q.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:Object(q.jsx)(Oe.a,{style:{},children:Object(q.jsxs)("tbody",{children:[Object(q.jsx)("tr",{children:c.map((function(e){var t,n,c,i;return Object(q.jsx)("td",{children:Object(q.jsx)(A.a,{className:"rond"==(null===(t=I(e))||void 0===t?void 0:t.type)?"table_btn round":"table_btn",variant:I(e)?null!==(n=I(e))&&void 0!==n&&n.active?null!==(c=I(e))&&void 0!==c&&c.libre?"success":"danger":"secondary":"dark",onClick:function(){return B(e)},children:null===(i=I(e))||void 0===i?void 0:i.numero})})}))}),Object(q.jsx)("tr",{children:c.map((function(e){return e+12})).map((function(e){var t,n,c,i;return Object(q.jsx)("td",{children:Object(q.jsx)(A.a,{className:"rond"==(null===(t=I(e))||void 0===t?void 0:t.type)?"table_btn round":"table_btn",variant:I(e)?null!==(n=I(e))&&void 0!==n&&n.active?null!==(c=I(e))&&void 0!==c&&c.libre?"success":"danger":"secondary":"dark",onClick:function(){return B(e)},children:null===(i=I(e))||void 0===i?void 0:i.numero})})}))}),Object(q.jsx)("tr",{children:c.map((function(e){return e+24})).map((function(e){var t,n,c,i;return Object(q.jsx)("td",{children:Object(q.jsx)(A.a,{className:"rond"==(null===(t=I(e))||void 0===t?void 0:t.type)?"table_btn round":"table_btn",variant:I(e)?null!==(n=I(e))&&void 0!==n&&n.active?null!==(c=I(e))&&void 0!==c&&c.libre?"success":"danger":"secondary":"dark",onClick:function(){return B(e)},children:null===(i=I(e))||void 0===i?void 0:i.numero})})}))}),Object(q.jsx)("tr",{children:c.map((function(e){return e+36})).map((function(e){var t,n,c,i;return Object(q.jsx)("td",{children:Object(q.jsx)(A.a,{className:"rond"==(null===(t=I(e))||void 0===t?void 0:t.type)?"table_btn round":"table_btn",variant:I(e)?null!==(n=I(e))&&void 0!==n&&n.active?null!==(c=I(e))&&void 0!==c&&c.libre?"success":"danger":"secondary":"dark",onClick:function(){return B(e)},children:null===(i=I(e))||void 0===i?void 0:i.numero})})}))}),Object(q.jsx)("tr",{children:c.map((function(e){return e+48})).map((function(e){var t,n,c,i;return Object(q.jsx)("td",{children:Object(q.jsx)(A.a,{className:"rond"==(null===(t=I(e))||void 0===t?void 0:t.type)?"table_btn round":"table_btn",variant:I(e)?null!==(n=I(e))&&void 0!==n&&n.active?null!==(c=I(e))&&void 0!==c&&c.libre?"success":"danger":"secondary":"dark",onClick:function(){return B(e)},children:null===(i=I(e))||void 0===i?void 0:i.numero})})}))}),Object(q.jsx)("tr",{children:c.map((function(e){return e+60})).map((function(e){var t,n,c,i;return Object(q.jsx)("td",{children:Object(q.jsx)(A.a,{className:"rond"==(null===(t=I(e))||void 0===t?void 0:t.type)?"table_btn round":"table_btn",variant:I(e)?null!==(n=I(e))&&void 0!==n&&n.active?null!==(c=I(e))&&void 0!==c&&c.libre?"success":"danger":"secondary":"dark",onClick:function(){return B(e)},children:null===(i=I(e))||void 0===i?void 0:i.numero})})}))})]})})}),Object(q.jsx)(me.a,{show:p,onHide:function(){return x(!1)},children:1==h.libre?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(me.a.Header,{closeButton:!0,children:Object(q.jsx)(me.a.Title,{children:Object(q.jsxs)("h5",{style:{fontSize:"24px"},children:[Object(q.jsx)(l.a,{icon:d.K,style:{marginRight:"1rem"}}),n("newTable")]})})}),Object(q.jsxs)(me.a.Body,{children:[n("nbrCouverts"),Array.from({length:h.ppl},(function(e,t){return t+1})).map((function(e){return Object(q.jsx)(A.a,{className:"ml",onClick:function(){g(Object(Y.a)(Object(Y.a)({},h),{},{nbrCouverts:e})),console.log(h)},variant:(null===h||void 0===h?void 0:h.nbrCouverts)==e?"warning":"dark",style:{backgroundColor:(null===h||void 0===h?void 0:h.nbrCouverts)==e?"#ff6b6b":"black",borderColor:(null===h||void 0===h?void 0:h.nbrCouverts)==e?"#ff6b6b":"black"},children:e})}))]}),Object(q.jsxs)(me.a.Footer,{children:[Object(q.jsx)(A.a,{variant:"secondary",onClick:function(){return x(!1)},children:n("cancel")}),Object(q.jsxs)(A.a,{style:{backgroundColor:"#ff6b6b",borderColor:"#ff6b6b"},variant:"warning",onClick:function(){return x(!1),console.log(h),C(fe({selectedTable:h})),C(ke({client:{type:"surplace"}})),C(De("surplace")),void setTimeout((function(){y("/menu")}),300)},children:[Object(q.jsx)(l.a,{icon:d.l,style:{marginRight:"0.5rem"}}),n("validate")]})]})]}):Object(q.jsx)(me.a.Body,{children:Object(q.jsx)(A.a,{variant:"danger",onClick:function(){y("/checkout/".concat(h.id))},children:"Checkout !"})})})]})},Le=function(){var e=localStorage.getItem("user_id"),t=Object(b.c)(),n=Object(o.f)(),c=Object(i.useState)(""),r=Object(s.a)(c,2),a=r[0],u=r[1],j=Object(b.d)((function(e){return e.data.zones})),h=Object(b.d)((function(e){return e.order.checkoutData})),g=Object(i.useState)(!1),O=Object(s.a)(g,2),m=O[0],p=O[1];return Object(i.useEffect)((function(){I.a.post("http://141.94.77.9:5000/api/getUserZones",{user_id:e}).then((function(e){var n;t(re({zones:e.data.zones})),t(ae({tables:e.data.tables})),u(null===(n=j[0])||void 0===n?void 0:n.id)}))}),[h]),Object(q.jsxs)("div",{children:[Object(q.jsx)(l.a,{icon:d.f,style:{position:"absolute",right:"1rem",top:"1rem",cursor:"pointer"},size:"2x",color:"white",onClick:function(){return p(!0)}}),Object(q.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginTop:"1.5rem",height:"45px"},children:[Object(q.jsx)("h2",{className:"plan-restuarnat",style:{position:"absolute",left:"3.5%"},children:Object(q.jsx)("b",{children:"Plan du Restaurant"})}),j.map((function(e){return Object(q.jsx)(A.a,{className:"zone_button",style:{marginLeft:"1rem"},onClick:function(){return u(e.id)},variant:a==e.id?"dark":"outline-dark",children:e.nom})}))]}),Object(q.jsx)(Pe,{selectedZone:a}),Object(q.jsxs)(ge.a,{placement:"end",show:m,onHide:function(){return p(!1)},children:[Object(q.jsx)(ge.a.Header,{closeButton:!0,children:Object(q.jsx)(ge.a.Title,{children:"menu"})}),Object(q.jsx)(ge.a.Body,{children:Object(q.jsxs)("div",{className:"my_offcanvas",children:[Object(q.jsxs)("div",{className:"offcanvas_item",children:[Object(q.jsx)(l.a,{icon:d.p}),Object(q.jsx)("p",{children:"Acc\xe9der aux back-Office"})]}),Object(q.jsxs)("div",{className:"offcanvas_item",onClick:function(){return n("/clients")},children:[Object(q.jsx)(l.a,{icon:d.J}),Object(q.jsx)("p",{children:"Gestion des clients"})]}),Object(q.jsxs)("div",{className:"offcanvas_item",children:[Object(q.jsx)(l.a,{icon:d.x}),Object(q.jsx)("p",{children:"Commandes a livrer"})]}),Object(q.jsxs)("div",{className:"offcanvas_item",children:[Object(q.jsx)(l.a,{icon:d.a}),Object(q.jsx)("p",{children:"Commandes a emporter"})]}),Object(q.jsxs)("div",{className:"offcanvas_item",children:[Object(q.jsx)(l.a,{icon:d.F}),Object(q.jsx)("p",{children:"Gestion des avoirs"})]}),Object(q.jsxs)("div",{className:"offcanvas_item",children:[Object(q.jsx)(l.a,{icon:d.k}),Object(q.jsx)("p",{children:"Cloture de caisse"})]}),Object(q.jsxs)("div",{className:"offcanvas_item",children:[Object(q.jsx)(l.a,{icon:d.h}),Object(q.jsx)("p",{children:"Cumuler les tables"})]}),Object(q.jsxs)("div",{className:"offcanvas_item",children:[Object(q.jsx)(l.a,{icon:d.s}),Object(q.jsx)("p",{children:"Rappel ticket"})]})]})})]})]})},Me=(n.p,n(55)),Re=n(650),Je=n(655),ze=n(180),qe=n(651),He=n(331),Ke=(n(193),n(184)),Ge=n.p+"static/media/loading.30c0aa7c.gif",We=function(){var e,t,n,c,r,a,u,j,h,m,p=localStorage.getItem("user_id"),x=Object(b.d)((function(e){return e.data.zones})),v=Object(i.useState)(""),f=Object(s.a)(v,2),C=f[0],y=f[1],B=Object(b.d)((function(e){return e.data.tables})),E=Object(b.d)((function(e){return e.data.orderHistory})),Q=Object(b.d)((function(e){return e.order.checkoutData})),k=Object(b.d)((function(e){return e.data.clients})),w=Object(b.c)(),N=Object(o.f)(),S=null===B||void 0===B||null===(e=B.filter((function(e){return 1==e.libre})))||void 0===e?void 0:e.length,_=(null===B||void 0===B||null===(t=B.filter((function(e){return 0==e.libre})))||void 0===t||t.length,Object(i.useState)(!1)),T=Object(s.a)(_,2),D=T[0],F=T[1],P=Object(i.useState)(!1),L=Object(s.a)(P,2),M=L[0],R=L[1],J=Object(i.useState)(!1),H=Object(s.a)(J,2),K=H[0],G=H[1],W=Object(i.useState)(""),V=Object(s.a)(W,2),$=V[0],ee=V[1],te=window.location.hash,ne=(k.map((function(e){return e.nom_prenom})),Object(b.d)((function(e){return e.data.orderHistory})),new Date),ce=ne.toISOString().substr(0,10),ie=ne.getHours()+":"+ne.getMinutes(),re=(null===Q||void 0===Q||null===(n=Q.filter((function(e){return e.date>ce})))||void 0===n?void 0:n.length)||0,ae=(null===Q||void 0===Q||null===(c=Q.filter((function(e){return("pending"==e.status||"cooking"==e.status||"ready"==e.status)&&e.date==ce})))||void 0===c?void 0:c.length)||0,se=(null===Q||void 0===Q||null===(r=Q.filter((function(e){return"rejected"==e.status})))||void 0===r?void 0:r.length)||0,oe=(null===E||void 0===E||null===(a=E.filter((function(e){return"completed"==e.status})))||void 0===a?void 0:a.length)||0;Object(i.useEffect)((function(){I.a.post("http://141.94.77.9:5000/api/getclients",{user_id:p}).then((function(e){w(ue({clients:e.data.clients}))}))}),[]);var le=Object(i.useState)([]),de=Object(s.a)(le,2),je=de[0],Ae=de[1],be=Object(i.useState)(!1),he=Object(s.a)(be,2),ge=he[0],Oe=he[1],pe=Object(i.useState)({}),xe=Object(s.a)(pe,2),ve=(xe[0],xe[1],Object(i.useState)({})),Ce=Object(s.a)(ve,2),ye=(Ce[0],Ce[1],Object(i.useState)(!1)),Ie=Object(s.a)(ye,2),Be=Ie[0],Qe=Ie[1],Ne=Object(i.useState)(0),Se=Object(s.a)(Ne,2),Te=Se[0],Fe=Se[1],Pe=Object(i.useState)(!1),Le=Object(s.a)(Pe,2),Me=Le[0],We=Le[1],Ue=Object(i.useState)(""),Ze=Object(s.a)(Ue,2),Xe=Ze[0],Ve=Ze[1],Ye=Object(i.useState)({prenom:"",company:"",code1:"",code2:"",etage:"",interphone:"",name:"",phone:"",address:"",post:"",city:"",message:"",email:"",type:"emporter",nbrCouverts:1,id:Number(Math.floor(Math.random()*Date.now()).toString().substring(11)),date:ce,time:ie}),$e=Object(s.a)(Ye,2),et=$e[0],tt=$e[1],nt=function(e){return B.find((function(t){return t.numero==e}))},ct=function(){F(!1),Qe(!1)},it=function(){w(we()),F(!0)},rt=function(){var e=Object(O.a)(Object(g.a)().mark((function e(){var t;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Oe(!0),t=localStorage.getItem("caisse_id"),e.next=4,I.a.post("http://141.94.77.9:5000/api/getallorders",{user_id:p,caisse_id:t,customer_id:et.id}).then((function(e){console.log({zboub:e.data}),Ae(e.data),Oe(!1)})).catch((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),at=function(e){G(!0),We(!0);var t=null===k||void 0===k?void 0:k.filter((function(t){return t.nom_prenom.toLowerCase().includes(null===e||void 0===e?void 0:e.toLowerCase())||t.telephone.toLowerCase().includes(null===e||void 0===e?void 0:e.toLowerCase())||t.email.toLowerCase().includes(null===e||void 0===e?void 0:e.toLowerCase())}))[0];t&&tt(Object(Y.a)(Object(Y.a)({},et),{},{id:t.id,prenom:t.nom_prenom,company:t.societe,code1:t.code_1,code2:t.code_2,etage:t.etage,interphone:t.interphone,name:t.nom_prenom,phone:t.telephone,address:t.adresse,post:t.code_postal,city:t.ville,email:t.email}))};return console.log("path",te),Object(q.jsx)("div",{children:Object(q.jsxs)(U.a,{bg:"light",variant:"light",fixed:"bottom",className:"nav-buttom",children:[Object(q.jsxs)(Z.a,{children:[Object(q.jsxs)(X.a,{className:"me-auto",children:[Object(q.jsx)(X.a.Link,{children:Object(q.jsxs)(A.a,{variant:"success",className:"nav-buttom-button",children:["Libres ",Object(q.jsx)(Re.a,{bg:"success",children:S})]})}),Object(q.jsx)(X.a.Link,{children:Object(q.jsxs)(A.a,{variant:"danger",onClick:function(){w(Ee()),N("/history/encours")},className:"nav-buttom-button",children:["Encours",Object(q.jsxs)(Re.a,{bg:"danger",children:[" ",ae]})]})}),Object(q.jsx)(X.a.Link,{children:Object(q.jsxs)(A.a,{variant:"info",className:"nav-buttom-button",children:["Livr\xe9s ",Object(q.jsx)(Re.a,{bg:"info",children:"0"})]})}),Object(q.jsx)(X.a.Link,{children:Object(q.jsxs)(A.a,{variant:"warning",className:"nav-buttom-button",onClick:function(){w(Ee()),N("/history/annules")},children:["Annul\xe9es ",Object(q.jsx)(Re.a,{bg:"warning",children:se})]})}),Object(q.jsx)(X.a.Link,{children:Object(q.jsxs)(A.a,{className:"nav-buttom-button",variant:"dark",onClick:function(){w(Ee()),N("/history/avenir")},children:["Commandes a Venir ",Object(q.jsx)(Re.a,{bg:"dark",children:re})]})}),Object(q.jsx)(X.a.Link,{children:Object(q.jsxs)(A.a,{className:"nav-buttom-button",variant:"primary",onClick:function(){w(Ee()),N("/history/all")},children:["Termin\xe9es ",Object(q.jsx)(Re.a,{bg:"primary",children:oe})]})}),Object(q.jsx)(X.a.Link,{children:Object(q.jsx)(A.a,{variant:"warning",className:"nav-buttom-button",onClick:function(){I.a.post("http://141.94.77.9:5000/api/getorder",{user_id:p,order_id:Xe}).then((function(e){console.log(e.data),"no data"==e.data?z.a.fire({icon:"warning",title:"pas de commande avec cet identifiant",showConfirmButton:!1,timer:1500}):"completed"==e.data[0].status?z.a.fire({icon:"warning",title:"la commande est termin\xe9e ",showConfirmButton:!1,timer:1500}):(console.log(e.data[0].status),N("/checkout/".concat(Xe)))}))},children:Object(q.jsx)(l.a,{icon:d.z})})}),Object(q.jsx)(X.a.Link,{children:Object(q.jsx)(Je.a.Control,{className:"order_id_input",type:"text",placeholder:"Order_id",onChange:function(e){console.log(e.target.value),Ve(e.target.value)}})})]}),Object(q.jsxs)(A.a,{className:"nav-buttom-button nouvelle-cmd-btn",style:{borderRadius:"50px !important"},variant:"success",size:"lg",onClick:function(){return it()},children:[Object(q.jsx)(l.a,{icon:d.z,style:{marginRight:"1rem"}}),"Nouvelle Commande"]}),te.includes("menu")?Object(q.jsx)(A.a,{className:"nav_butoons-note",onClick:function(){return R(!0)},style:{borderRadius:"50px !important",display:"flex",alignItems:"center",borderColor:"#d63031",backgroundColor:"transparent",marginLeft:"0.5rem"},variant:"secondary",size:"lg",children:Object(q.jsx)(l.a,{icon:d.F,color:"#d63031"})}):""]}),Object(q.jsxs)(me.a,{show:M,onHide:function(){return R(!1)},children:[Object(q.jsx)(me.a.Header,{closeButton:!0,children:Object(q.jsx)(me.a.Title,{children:"Remarque"})}),Object(q.jsx)(me.a.Body,{children:Object(q.jsxs)(ze.a,{children:[Object(q.jsxs)("h3",{children:[Object(q.jsx)(l.a,{icon:d.F,color:"#d63031",style:{marginRight:"1rem"}}),"Note"]}),Object(q.jsx)(Je.a.Control,{onChange:function(e){return ee(e.target.value)},as:"textarea",type:"text",placeholder:"Remarque ..."})]})}),Object(q.jsxs)(me.a.Footer,{children:[Object(q.jsx)(A.a,{variant:"secondary",onClick:function(){return R(!1)},children:"Annuler"}),Object(q.jsx)(A.a,{variant:"warning",style:{backgroundColor:"#ff6b6b",borderColor:"#ff6b6b"},onClick:function(){w(_e({remarque:$})),R(!1)},children:"Ajouter"})]})]}),Object(q.jsxs)(me.a,{show:D,onHide:ct,style:{zIndex:1050,left:-120,top:50},children:[Object(q.jsx)(me.a.Header,{closeButton:!0,children:Object(q.jsx)(me.a.Title,{children:Object(q.jsxs)("div",{style:{width:"100%"},children:[Object(q.jsx)("h5",{children:"Choix du mode de consommation"}),Object(q.jsx)(A.a,{size:"lg",variant:"emporter"==(null===et||void 0===et?void 0:et.type)?"light":"outline-warning",style:{borderColor:"#ff6b6b",color:"#ff6b6b",marginRight:"2rem"},onClick:function(){w(De("emporter")),tt(Object(Y.a)(Object(Y.a)({},et),{},{type:"emporter"}))},children:"A emporter"}),Object(q.jsx)(A.a,{size:"lg",variant:"livraison"==(null===et||void 0===et?void 0:et.type)?"light":"outline-warning",style:{borderColor:"#ff6b6b",color:"#ff6b6b",marginRight:"2rem"},onClick:function(){w(De("livraison")),tt(Object(Y.a)(Object(Y.a)({},et),{},{type:"livraison"}))},children:"Livraison"}),Object(q.jsx)(A.a,{size:"lg",variant:"surplace"==(null===et||void 0===et?void 0:et.type)?"light":"outline-warning",style:{borderColor:"#ff6b6b",color:"#ff6b6b"},onClick:function(){w(De("surplace")),tt(Object(Y.a)(Object(Y.a)({},et),{},{type:"surplace"}))},children:"sur place"})]})})}),Object(q.jsxs)(me.a.Body,{children:[Be&&Object(q.jsxs)("div",{className:"histo",children:[Object(q.jsxs)("h1",{style:{textAlign:"center"},children:[" ",Object(q.jsx)("b",{children:"Historique Client"})," ",Object(q.jsx)(l.a,{onClick:function(){Qe(!1),Ae([])},className:"times",icon:d.G})]}),Object(q.jsxs)("div",{className:"hhead",children:[Object(q.jsx)("h3",{className:"wid",children:"Type"}),Object(q.jsx)("h3",{className:"wid",children:"Date"}),Object(q.jsx)("h3",{className:"wid",children:"Order"}),Object(q.jsx)("h3",{className:"wid",children:"Prix"}),Object(q.jsx)("h3",{className:"wid",children:"Paiement"})]}),Object(q.jsxs)("div",{className:"hbody",children:[0!=je.length||ge?ge?Object(q.jsxs)("div",{style:{display:"flex"},children:[Object(q.jsx)("h3",{children:"Chargement en cours"}),Object(q.jsx)("img",{src:Ge,alt:"loading",width:30})]}):"":Object(q.jsx)("h1",{children:"Aucune Commande trouv\xe9e"}),null===je||void 0===je?void 0:je.map((function(e,t){var n;return Object(q.jsxs)("div",{className:"el",children:[Object(q.jsx)("h5",{className:"wid",children:null===e||void 0===e?void 0:e.order_type}),Object(q.jsx)("h5",{className:"wid",children:null===e||void 0===e?void 0:e.date}),Object(q.jsxs)("h5",{className:"wid",children:["#",null===e||void 0===e?void 0:e.id]}),Object(q.jsxs)("h5",{className:"wid",children:[null===e||void 0===e||null===(n=e.price)||void 0===n?void 0:n.toFixed(2),"\u20ac"]}),Object(q.jsx)("h5",{className:"wid",children:null===e||void 0===e?void 0:e.pay_method}),Object(q.jsx)(l.a,{icon:d.B,onClick:function(){return function(e){var t={table:(null===e||void 0===e?void 0:e.table_number)||"",client_id:(null===e||void 0===e?void 0:e.customer_id)||0,order_id:e.id,message:e.message||"aucune",customer_name:(null===e||void 0===e?void 0:e.customer_name)||"",customer_company:(null===e||void 0===e?void 0:e.customer_company)||"",code1:(null===e||void 0===e?void 0:e.code1)||"",code2:(null===e||void 0===e?void 0:e.code2)||"",interphone:(null===e||void 0===e?void 0:e.interphone)||"",etage:(null===e||void 0===e?void 0:e.etage)||"",table_number:(null===e||void 0===e?void 0:e.table_number)||0,customer_tel:(null===e||void 0===e?void 0:e.customer_tel)||"",customer_adress:null===e||void 0===e?void 0:e.customer_adress,status:null===e||void 0===e?void 0:e.status,orderType:null===e||void 0===e?void 0:e.order_type,paymentType:null===e||void 0===e?void 0:e.pay_method,totalPrice:null===e||void 0===e?void 0:e.price,taxPrice:null===e||void 0===e?void 0:e.tva,tvas:(null===e||void 0===e?void 0:e.price)*(null===e||void 0===e?void 0:e.tva)/100,orderItems:null===e||void 0===e?void 0:e.orderItems,date:null===e||void 0===e?void 0:e.date,time:null===e||void 0===e?void 0:e.time};I.a.post("http://141.94.77.9:5000/api/printOrder",{kitchen:!1,user_id:p,order:Object(Y.a)(Object(Y.a)({new:!1},t),{},{nbrCouverts:1})}).then((function(e){return console.log(e.data)})).catch((function(e){return console.log(e)}))}(e)},style:{cursor:"pointer"}})]})}))]})]}),Object(q.jsx)("div",{children:"livraison"==(null===et||void 0===et?void 0:et.type)?Object(q.jsx)("div",{children:Object(q.jsxs)(Je.a,{auto:!0,children:[Object(q.jsx)(Je.a.Group,{className:"mb-3",children:Object(q.jsx)(qe.a,{children:Object(q.jsx)(He.a,{children:Object(q.jsx)(Je.a.Control,{value:et.name,type:"text",placeholder:"nom/prenom",onChange:function(e){return tt(Object(Y.a)(Object(Y.a)({},et),{},{name:e.target.value}))}})})})}),Object(q.jsx)(Je.a.Group,{className:"mb-3",children:Object(q.jsxs)(qe.a,{children:[Object(q.jsxs)(He.a,{children:[(null===(u=et.telephone)||void 0===u?void 0:u.length)>0&&(null===(j=et.telephone)||void 0===j?void 0:j.length)<10?Object(q.jsx)(Re.a,{bg:"danger",children:"Numero pas valide (10 chiffres obligatoire)"}):"",Object(q.jsx)(Ke.a,{onInputChange:function(e){tt(Object(Y.a)(Object(Y.a)({},et),{},{phone:e})),We(!1),Qe(!1)},onChange:function(e){at(e[0]),console.log(e)},options:k.map((function(e){return e.telephone})),placeholder:"telephone",type:"number",min:"1",max:"5"})]}),Object(q.jsx)(He.a,{children:Object(q.jsx)(Je.a.Control,{value:et.email,type:"email",placeholder:"Email",onChange:function(e){return tt(Object(Y.a)(Object(Y.a)({},et),{},{email:e.target.value}))}})})]})}),Object(q.jsx)(Je.a.Group,{className:"mb-3",children:Object(q.jsxs)(qe.a,{children:[Object(q.jsx)(He.a,{children:Object(q.jsx)(Je.a.Control,{value:et.address,as:"textarea",type:"text",placeholder:"Addresse",onChange:function(e){return tt(Object(Y.a)(Object(Y.a)({},et),{},{address:e.target.value}))}})}),Object(q.jsx)(He.a,{children:Object(q.jsx)(Je.a.Control,{value:et.company,type:"text",placeholder:"soci\xe9t\xe9",onChange:function(e){return tt(Object(Y.a)(Object(Y.a)({},et),{},{company:e.target.value}))}})})]})}),Object(q.jsx)(Je.a.Group,{className:"mb-3",children:Object(q.jsxs)(qe.a,{children:[Object(q.jsx)(He.a,{children:Object(q.jsx)(Je.a.Control,{value:et.code1,type:"text",placeholder:"code 1",onChange:function(e){return tt(Object(Y.a)(Object(Y.a)({},et),{},{code1:e.target.value}))}})}),Object(q.jsx)(He.a,{children:Object(q.jsx)(Je.a.Control,{value:et.code2,type:"text",placeholder:"code 2",onChange:function(e){return tt(Object(Y.a)(Object(Y.a)({},et),{},{code2:e.target.value}))}})}),Object(q.jsx)(He.a,{xs:"6",children:Object(q.jsx)(Je.a.Control,{value:et.city,type:"text",placeholder:"Ville",onChange:function(e){return tt(Object(Y.a)(Object(Y.a)({},et),{},{city:e.target.value}))}})})]})}),Object(q.jsx)(Je.a.Group,{className:"mb-3",children:Object(q.jsxs)(qe.a,{children:[Object(q.jsx)(He.a,{children:Object(q.jsx)(Je.a.Control,{value:et.interphone,type:"text",placeholder:"interphone",onChange:function(e){return tt(Object(Y.a)(Object(Y.a)({},et),{},{interphone:e.target.value}))}})}),Object(q.jsx)(He.a,{children:Object(q.jsx)(Je.a.Control,{value:et.etage,type:"text",placeholder:"etage",onChange:function(e){return tt(Object(Y.a)(Object(Y.a)({},et),{},{etage:e.target.value}))}})}),Object(q.jsx)(He.a,{xs:"6",children:Object(q.jsx)(Je.a.Control,{value:et.post,type:"postal",placeholder:"Code postal",onChange:function(e){return tt(Object(Y.a)(Object(Y.a)({},et),{},{post:e.target.value}))}})})]})}),Object(q.jsx)(Je.a.Group,{className:"mb-3",children:Object(q.jsx)(qe.a,{children:Object(q.jsx)(He.a,{children:Object(q.jsx)(Je.a.Control,{value:et.message,as:"textarea",type:"text",placeholder:"remarque",onChange:function(e){return tt(Object(Y.a)(Object(Y.a)({},et),{},{message:e.target.value}))}})})})}),Object(q.jsx)(Je.a.Group,{className:"mb-3",children:Object(q.jsxs)(qe.a,{children:[Object(q.jsx)(He.a,{children:Object(q.jsx)(Je.a.Control,{value:et.date,type:"date",defaultValue:et.date,onChange:function(e){return tt(Object(Y.a)(Object(Y.a)({},et),{},{date:e.target.value}))}})}),Object(q.jsx)(He.a,{children:Object(q.jsx)(Je.a.Control,{value:et.time,type:"time",defaultValue:et.time,onChange:function(e){return tt(Object(Y.a)(Object(Y.a)({},et),{},{time:e.target.value}))}})})]})})]})}):"emporter"==(null===et||void 0===et?void 0:et.type)?Object(q.jsx)("div",{children:Object(q.jsxs)(Je.a,{auto:!0,children:[Object(q.jsx)(Je.a.Group,{className:"mb-3",children:Object(q.jsx)(qe.a,{children:Object(q.jsx)(He.a,{children:Object(q.jsx)(Je.a.Control,{value:et.name,type:"text",placeholder:"nom/prenom",onChange:function(e){return tt(Object(Y.a)(Object(Y.a)({},et),{},{name:e.target.value}))}})})})}),Object(q.jsx)(Je.a.Group,{className:"mb-3",children:Object(q.jsx)(qe.a,{children:Object(q.jsxs)(He.a,{children:[(null===(h=et.telephone)||void 0===h?void 0:h.length)>0&&(null===(m=et.telephone)||void 0===m?void 0:m.length)<10?Object(q.jsx)(Re.a,{bg:"danger",children:"Numero pas valide (10 chiffres obligatoire)"}):"",Object(q.jsx)(Ke.a,{onInputChange:function(e){tt(Object(Y.a)(Object(Y.a)({},et),{},{phone:e})),We(!1),Qe(!1)},onChange:function(e){at(e[0]),console.log(e)},options:k.map((function(e){return e.telephone})),placeholder:"telephone"})]})})}),Object(q.jsx)(Je.a.Group,{className:"mb-3",children:Object(q.jsx)(qe.a,{children:Object(q.jsx)(He.a,{children:Object(q.jsx)(Je.a.Control,{value:et.message,as:"textarea",type:"text",placeholder:"remarque",onChange:function(e){return tt(Object(Y.a)(Object(Y.a)({},et),{},{message:e.target.value}))}})})})}),Object(q.jsx)(Je.a.Group,{className:"mb-3",children:Object(q.jsxs)(qe.a,{children:[Object(q.jsx)(He.a,{children:Object(q.jsx)(Je.a.Control,{value:et.date,type:"date",defaultValue:et.date,onChange:function(e){return tt(Object(Y.a)(Object(Y.a)({},et),{},{date:e.target.value}))}})}),Object(q.jsx)(He.a,{children:Object(q.jsx)(Je.a.Control,{value:et.time,type:"time",defaultValue:et.time,onChange:function(e){return tt(Object(Y.a)(Object(Y.a)({},et),{},{time:e.target.value}))}})})]})})]})}):Object(q.jsx)("div",{children:Object(q.jsxs)(Je.a,{auto:!0,children:[Object(q.jsx)(Je.a.Group,{className:"mb-3",children:Object(q.jsx)(qe.a,{children:Object(q.jsx)(He.a,{children:Object(q.jsx)(Ke.a,{onInputChange:function(e){tt(Object(Y.a)(Object(Y.a)({},et),{},{name:e})),We(!1),Qe(!1)},onChange:function(e){return at(e[0])},options:k.map((function(e){return e.nom_prenom})),placeholder:"nom/prenom"})})})}),Object(q.jsxs)(Je.a.Group,{className:"mb-3",children:[Object(q.jsx)(qe.a,{children:Object(q.jsxs)(He.a,{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[Object(q.jsx)("h3",{children:"Zones :"}),x.map((function(e){return Object(q.jsx)(A.a,{className:"zone_button",style:{marginLeft:"1rem"},onClick:function(){return y(e.id)},variant:C==e.id?"dark":"outline-dark",children:e.nom})}))]})}),Object(q.jsx)(qe.a,{children:Object(q.jsxs)(He.a,{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[Object(q.jsx)("h3",{children:"Tables :"}),B.filter((function(e){return 1==e.active&&1==e.libre&&e.zone_id==C})).map((function(e){return Object(q.jsx)("div",{className:e.numero==Te?"tbl sel":"tbl",onClick:function(){return Fe(e.numero)},children:Object(q.jsx)("h6",{children:Object(q.jsx)("b",{children:e.numero})})})}))]})})]}),Object(q.jsx)(Je.a.Group,{className:"mb-3",children:Object(q.jsx)(qe.a,{children:Object(q.jsx)(He.a,{children:Object(q.jsx)(Je.a.Control,{value:et.message,as:"textarea",type:"text",placeholder:"remarque",onChange:function(e){return tt(Object(Y.a)(Object(Y.a)({},et),{},{message:e.target.value}))}})})})})]})})})]}),Object(q.jsxs)(me.a.Footer,{children:[K?Object(q.jsxs)(A.a,{variant:"warning",style:{backgroundColor:"#ff6b6b",borderColor:"#ff6b6b"},onClick:function(){Qe(!Be),rt()},children:[Object(q.jsx)(l.a,{icon:d.s,style:{marginRight:"5px"}}),"Historiques"]}):"",Object(q.jsx)(A.a,{variant:"outline-secondary",onClick:ct,children:"Annuler"}),Object(q.jsxs)(A.a,{variant:"warning",style:{backgroundColor:"#ff6b6b",borderColor:"#ff6b6b"},onClick:function(){return 0==Me?I.a.post("http://141.94.77.9:5000/api/createClient",{user_id:p,client:{etage:et.etage||0,interphone:et.interphone||0,supprimer:0,societe:et.company||"",nom_prenom:et.name||"",telephone:et.phone||"",adresse:et.address||"",code_postal:et.post||0,ville:et.city||"",email:et.email||"",code_1:et.code1||"",code_2:et.code2||""}}).then((function(e){tt(Object(Y.a)(Object(Y.a)({},et),{},{id:e.data.id})),w(ke({client:Object(Y.a)(Object(Y.a)({},et),{},{id:e.data.id})}))})).catch((function(e){return console.log(e)})):w(ke({client:et})),"surplace"==et.type&&(0==Te?z.a.fire({title:"Selectioner une table !"}):(w(fe({selectedTable:{id:nt(Te).id,nbr:nt(Te).numero,ppl:nt(Te).nbrePersonne,libre:nt(Te).libre,nbrCouverts:1}})),ct(),N("/menu"))),void("surplace"!=et.type&&(ct(),N("/menu")))},children:[Object(q.jsx)(l.a,{icon:d.m,style:{marginRight:"5px"}}),"Cr\xe9er la vente"]})]})]})]})})},Ue=n.p+"static/media/serveur.496e23b3.png",Ze=(n(111),Me.a.connect("http://localhost:5002")),Xe=function(){var e=R().t,t=(localStorage.getItem("user"),localStorage.getItem("username")||""),n=localStorage.getItem("user_id"),c=Object(b.c)(),r=Object(o.f)();Object(i.useEffect)((function(){Ze.on("a",(function(e){console.log(e)}))}),[Ze]),Object(i.useEffect)((function(){I.a.post("http://141.94.77.9:5000/api/categories",{user_id:n}).then((function(e){return c(se({categories:e.data.sort((function(e,t){return e.cat_order-t.cat_order}))}))})),I.a.post("http://141.94.77.9:5000/api/products",{user_id:n,category:0}).then((function(e){c(oe({products:e.data.products})),c(le({nSteps:e.data.menuSteps}))}))}),[]),Object(i.useEffect)((function(){var e=localStorage.getItem("caisse_id");I.a.post("http://141.94.77.9:5000/api/getorders",{user_id:n,caisse_id:e}).then((function(e){c(de({orderHistory:e.data})),console.log(e.data);var t=e.data.map((function(e){return Object(Y.a)(Object(Y.a)({},e),{},{table_number:e.table_number||e.order_id,order_id:e.id})}));console.log("got data",t),t.map((function(e){c(Se({order:e}))}))})),I.a.post("http://141.94.77.9:5000/api/gettva").then((function(e){c(Ae({tva_mode:e.data}))}))}),[]);var a=function(){localStorage.removeItem("user"),localStorage.removeItem("username"),r("/")};return Object(q.jsxs)("div",{className:"main_bg",children:[Object(q.jsx)(U.a,{variant:"warning",className:"navbar",children:Object(q.jsxs)(Z.a,{className:"main-container",children:[Object(q.jsx)(U.a.Brand,{children:Object(q.jsx)("div",{class:"logo-container",children:Object(q.jsx)("img",{id:"chrome",class:"logo",src:ee})})}),Object(q.jsx)(U.a.Brand,{}),Object(q.jsxs)(X.a,{className:"ms-auto",children:[Object(q.jsx)(X.a.Link,{children:Object(q.jsxs)("h6",{className:"nav_link-h6",style:{color:"white",paddingTop:"5px"},children:[Object(q.jsx)(l.a,{icon:d.j,style:{marginRight:"5px"},className:"ico2"}),"Agenda"]})}),Object(q.jsx)(X.a.Link,{onClick:function(){return r("/cloture")},children:Object(q.jsxs)("h6",{style:{color:"white",paddingTop:"5px"},className:"nav_link-h6",children:[Object(q.jsx)(l.a,{icon:d.k,style:{marginRight:"5px"},className:"ico1"}),e("cashier")]})}),Object(q.jsx)(X.a.Link,{onClick:function(){return a()},children:Object(q.jsxs)("h6",{style:{color:"white",paddingTop:"5px"},className:"nav_link-h6",children:[Object(q.jsx)(l.a,{icon:d.E,style:{marginRight:"5px"},className:"ico"}),e("disconnect")]})})]}),Object(q.jsxs)("h6",{style:{color:"white",marginLeft:"1rem",marginTop:"0.5rem",borderLeft:"1px solid white",padding:"5px"},className:"nav-link",children:[Object(q.jsx)("img",{src:Ue,width:32,height:32,style:{marginRight:"0.5rem"},className:"server-img"}),Object(q.jsx)("b",{children:t}),Object(q.jsx)(l.a,{onClick:function(){return a()},size:"2x",icon:d.E,style:{marginLeft:"0.5rem",paddingTop:"0.5rem"}})]})]})}),Object(q.jsxs)("div",{className:"x2",children:[Object(q.jsx)(Le,{}),Object(q.jsx)(We,{})]})]})},Ve=n(652),Ye=n.p+"static/media/bgg.5f53063d.png",$e=function(e){(function(e){return"touches"in e})(e)&&e.touches.length<2&&e.preventDefault&&e.preventDefault()},et=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=n.shouldPreventDefault,r=void 0===c||c,a=n.delay,o=void 0===a?300:a,l=Object(i.useState)(!1),d=Object(s.a)(l,2),u=d[0],j=d[1],A=Object(i.useRef)(),b=Object(i.useRef)(),h=Object(i.useCallback)((function(t){r&&t.target&&(t.target.addEventListener("touchend",$e,{passive:!1}),b.current=t.target),A.current=setTimeout((function(){e(t),j(!0)}),o)}),[e,o,r]),g=Object(i.useCallback)((function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];A.current&&clearTimeout(A.current),n&&!u&&t(),j(!1),r&&b.current&&b.current.removeEventListener("touchend",$e)}),[r,t,u]);return{onMouseDown:function(e){return h(e)},onTouchStart:function(e){return h(e)},onMouseUp:function(e){return g(e)},onMouseLeave:function(e){return g(e,!1)},onTouchEnd:function(e){return g(e)}}},tt=function(e){var t,n,c=e.handleUpdateOrder,r=e.orderTo,a=e.setOrderTo,o=e.setshowRemise,u=e.calcOrder,b=(localStorage.getItem("currency"),Object(i.useState)(!0)),h=Object(s.a)(b,2),g=(h[0],h[1],Object(i.useState)("")),O=Object(s.a)(g,2),m=O[0],p=O[1],x=Object(i.useState)(["9 8 7","6 5 4","3 2 1","0 {bksp}"]),v=Object(s.a)(x,2),f=v[0],C=(v[1],Object(i.useRef)()),y=Object(i.useState)(0),I=Object(s.a)(y,2),B=I[0],E=I[1],Q=Object(i.useState)(0),k=Object(s.a)(Q,2),w=k[0],N=k[1],S=Object(i.useState)(0),_=Object(s.a)(S,2),T=_[0],D=_[1],F=Object(i.useState)(!1),P=Object(s.a)(F,2),L=P[0],M=P[1],R=Object(i.useState)(""),J=Object(s.a)(R,2),H=J[0],K=J[1],G=function(){var e=JSON.parse(JSON.stringify(r.order)||{}),t=0;if(1==L)t=0,console.log("offert",t,e);else if(B>0){var n,c;t=(null===(n=r.order)||void 0===n?void 0:n.price)-(null===(c=r.order)||void 0===c?void 0:c.price)*B/100,console.log("perc",t)}else if(w>0){var i;t=(null===(i=r.order)||void 0===i?void 0:i.price)-w,console.log("remise",t)}else T>0&&(t=T,console.log("libre",t));console.log("nothing"),e=Object(Y.a)(Object(Y.a)({},e),{},{finalPrice:t}),a(Object(Y.a)(Object(Y.a)({},r),{},{order:e}))};Object(i.useEffect)((function(){G()}),[L,w,B,T]);var W=function(e){var t=e.e,n=(e.index,t.target.value);p(n),C.current.setInput(n)};return Object(q.jsxs)("div",{className:"remise_modal",children:[Object(q.jsxs)("div",{className:"uper",children:[Object(q.jsx)("h3",{children:"Remise"}),Object(q.jsx)(l.a,{style:{position:"absolute",top:"5px",right:"8px"},onClick:function(){return o(!1)},icon:d.G,size:"2x"})]}),Object(q.jsxs)("div",{className:"con",children:[Object(q.jsxs)(ze.a,{style:{display:"flex"},children:[Object(q.jsx)(Je.a.Label,{className:"remise_input",children:Object(q.jsx)("b",{children:"Remise (%)"})}),Object(q.jsx)(Je.a.Control,{onChange:function(e){return W({e:e,index:5})},className:"remise_input",value:"".concat(B," %"),onFocus:function(){K("remisePerc"),C.current.setInput("")}})]}),Object(q.jsxs)(ze.a,{style:{display:"flex"},children:[Object(q.jsx)(Je.a.Label,{className:"remise_input",children:Object(q.jsx)("b",{children:"Remise (\u20ac)"})}),Object(q.jsx)(Je.a.Control,{onChange:function(e){return W({e:e,index:5})},className:"remise_input",value:"".concat(null===w||void 0===w?void 0:w.toFixed(2)," \u20ac"),onFocus:function(){K("remise"),C.current.setInput("")}})]}),Object(q.jsxs)(ze.a,{style:{display:"flex"},children:[Object(q.jsx)(Je.a.Label,{className:"remise_input",children:Object(q.jsx)("b",{children:"Montant libre (\u20ac)"})}),Object(q.jsx)(Je.a.Control,{onChange:function(e){return W({e:e,index:5})},value:"".concat(null===T||void 0===T?void 0:T.toFixed(2)," \u20ac"),className:"remise_input",onFocus:function(){K("libre"),C.current.setInput("")}})]}),Object(q.jsx)(ze.a,{style:{display:"flex",marginTop:"1rem"},children:Object(q.jsxs)(A.a,{variant:L?"success":"danger",onClick:function(){M(!L),E(Number(m)),N(0),D(0),G()},style:{width:"150px"},children:[Object(q.jsx)(l.a,{icon:L?d.l:d.G,style:{marginRight:"2.2rem"}}),"Offert !"]})}),Object(q.jsx)(ze.a,{style:{display:"flex",marginTop:"0.5rem"},children:Object(q.jsxs)(A.a,{onClick:function(){return c()},variant:"success",style:{width:"150px",height:"80px"},children:[Object(q.jsx)(l.a,{icon:d.z,style:{marginRight:"1rem"}}),"Confirmer"]})})]}),Object(q.jsxs)("div",{className:"off",children:[Object(q.jsx)("h5",{children:Object(q.jsx)("b",{children:"Prix initial : "+(null===(t=r.order)||void 0===t?void 0:t.price.toFixed(2))+"\u20ac"})}),Object(q.jsx)("h5",{children:Object(q.jsx)("b",{children:"Nouveau Prix : "+(null===(n=r.order.finalPrice)||void 0===n?void 0:n.toFixed(2))||!1})})]}),Object(q.jsx)(j.a,{theme:"hg-theme-default hg-layout-default myTheme3",display:{"{bksp}":"EFFACER"},buttonTheme:[{class:"key_btn2",buttons:"0 1 2 3 4 5 6 7 8 9 {bksp} {enter}"},{class:"hg-highlight",buttons:"Q q"}],keyboardRef:function(e){return C.current=e},layoutName:"default",layout:{default:f},onChange:function(e){var t;switch(p(e),console.log("Input changed",e),H){case"remisePerc":Number(e)>100?z.a.fire({icon:"warning",title:"faut etre inferieur a 100%",showConfirmButton:!1,timer:1500}):(E(Number(e)),console.log(B),N(0),D(0),M(!1));break;case"remise":Number(e)>(null===(t=r.order)||void 0===t?void 0:t.price)?z.a.fire({icon:"warning",title:"faut etre inferieur a ".concat(u(r.order).price," \u20ac"),showConfirmButton:!1,timer:1500}):(E(0),N(Number(e)),console.log(w),D(0),M(!1));break;case"libre":E(0),N(0),D(Number(e)),console.log(T),M(!1)}p("")},onKeyPress:function(e){console.log("Button pressed",e)}})]})},nt=function(e){var t,n,c,a,u,j,h,g,O,m,p,x,v,f,C,y=e.selectedTable,B=e.setconfirmed,E=e.confirmed,Q=localStorage.getItem("username"),k=Object(o.f)(),w=R().t,N=Object(b.c)(),S=y.nbr,_=y.nbrCouverts,T=Object(i.useState)(0),D=Object(s.a)(T,2),F=(D[0],D[1],Object(i.useState)(1)),P=Object(s.a)(F,2),L=P[0],M=P[1],J=Object(b.d)((function(e){return e.data.nSteps})),H=Object(i.useState)(0),K=Object(s.a)(H,2),G=K[0],W=K[1],U=Object(b.d)((function(e){return e.order.selectedTable.id})),Z=Object(b.d)((function(e){return e.order.client})),X=Object(b.d)((function(e){return e.order.remarque})),V=Object(o.g)().order_id,$=Object(b.d)((function(e){return e.order.checkoutData||[]})),ee=Object(i.useState)(0),te=Object(s.a)(ee,2),ne=te[0],ce=te[1],ie=Object(b.d)((function(e){return e.order.orders||[]})),re=Object(i.useState)([]),ae=Object(s.a)(re,2),se=ae[0],oe=ae[1],le=Object(i.useState)({order:{},key:0}),de=Object(s.a)(le,2),ue=de[0],je=de[1],Ae=Object(i.useState)(!1),be=Object(s.a)(Ae,2),he=be[0],ge=be[1],pe=Object(b.d)((function(e){return e.data.tva_mode})),xe=Object(b.d)((function(e){return e.order.orderType})),ve=Object(i.useState)(0),fe=Object(s.a)(ve,2),Qe=fe[0],ke=fe[1],we=Object(b.d)((function(e){return e.data.products})),Se=localStorage.getItem("user_id"),_e=localStorage.getItem("username"),Te=Object(i.useState)({}),De=Object(s.a)(Te,2),Fe=De[0],Pe=De[1],Le=$.filter((function(e){return e.order_id==V}))[0];Object(i.useEffect)((function(){var e;void 0!=V&&(console.log(Le),null===Le||void 0===Le||null===(e=Le.orderItems)||void 0===e||e.map((function(e){N(Ce({order:e}))})))}),[]);var Re=function(e){return we.find((function(t){return t.id==e}))||{}},Je=function(e){var t;t=null!==e&&void 0!==e&&e.finalPrice?e.finalPrice:0==(null===e||void 0===e?void 0:e.finalPrice)?0:e.price;var n=e.tva;return"surplace"==xe||"livraison"==xe?n=pe.find((function(e){return"surplace"==e.nom})).valeur:"emporter"==xe&&(n=pe.find((function(e){return"emporter"==e.nom})).valeur),Qe>0&&(n=Qe),e.extras&&e.extras.length&&e.extras.map((function(e){console.log(e.price,e.default_quantity),t+=e.price*e.default_quantity})),e.stepItems&&e.stepItems!={}&&Object.keys(e.stepItems).map((function(n){e.stepItems[n].map((function(e){t+=e.price}))})),1==e.offert?0:{dbPrice:t,price:t*e.qt,tva:t*e.qt*n/100,item_tva:n}};Object(i.useEffect)((function(){var e=JSON.parse(JSON.stringify(ie)||[{}]);oe(e),ie.map((function(e){if(1==e.is_alcool){var t=pe.find((function(e){return"alcool"==e.nom})).valeur;console.log(t),ke(t)}}))}),[ie]);var ze=function(){var e=0,t=0,n=[];return se.map((function(c){e+=Je(c).price,t+=Je(c).tva,n.push({value:Je(c).tva,perc:Je(c).item_tva})})),{tot:e,tva:t,tvas:n}},qe=function(e){var t=e.key,n=e.order,c=e.sign;if(console.log({order:n,sign:c}),"+"==c){var i=Object(Y.a)(Object(Y.a)({},n),{},{qt:n.qt+1});console.log(i),N(ye({key:t,order:i}))}else if(1==n.qt)N(Ie({key:t}));else{var r=Object(Y.a)(Object(Y.a)({},n),{},{qt:n.qt-1});N(ye({key:t,order:r}))}},He=function(){return ge(!1)},Ke=function(e){var t=e.extraKey,n=e.sign,c=JSON.parse(JSON.stringify(ue.order)||{});"+"==n&&c.extras[t].default_quantity<1?(c.extras[t].default_quantity+=1,console.log(c),je(Object(Y.a)(Object(Y.a)({},ue),{},{order:c}))):c.extras[t].default_quantity>0&&(c.extras[t].default_quantity-=1,console.log(c),je(Object(Y.a)(Object(Y.a)({},ue),{},{order:c})))},Ge=function(){N(ye({key:ue.key,order:ue.order})),ge(!1),ot(!1)},We=new Date,Ue=We.toISOString().substr(0,10),Ze=We.getHours()+":"+We.getMinutes(),Xe=function(){var e={table:S||"",server:Q,from_kiosk:!1,client_id:null===Z||void 0===Z?void 0:Z.id,id:V||"",message:X||(null===Z||void 0===Z?void 0:Z.message)||"aucune",customer_name:(null===Z||void 0===Z?void 0:Z.name)||"",customer_company:(null===Z||void 0===Z?void 0:Z.company)||"",code1:(null===Z||void 0===Z?void 0:Z.code1)||"",code2:(null===Z||void 0===Z?void 0:Z.code2)||"",interphone:(null===Z||void 0===Z?void 0:Z.interphone)||"",etage:(null===Z||void 0===Z?void 0:Z.etage)||"",table_number:U||0,customer_tel:(null===Z||void 0===Z?void 0:Z.phone)||"",customer_adress:null!==Z&&void 0!==Z&&Z.address?"".concat(null===Z||void 0===Z?void 0:Z.address," - ").concat(null===Z||void 0===Z?void 0:Z.city," - ").concat(null===Z||void 0===Z?void 0:Z.post,"\n      code 1 : ").concat((null===Z||void 0===Z?void 0:Z.code1)||""," | code2 : ").concat((null===Z||void 0===Z?void 0:Z.code2)||"","\n       interphone : ").concat((null===Z||void 0===Z?void 0:Z.interphone)||""," | etage : ").concat((null===Z||void 0===Z?void 0:Z.etage)||""):"",status:"pending",orderType:xe||"surplace",paymentType:"Especes",totalPrice:ze().tot,taxPrice:ze().tva,tvas:ze().tvas,orderItems:[],date:(null===Z||void 0===Z?void 0:Z.date)||Ue,time:(null===Z||void 0===Z?void 0:Z.time)||Ze};se.map((function(t){e.orderItems.push(Object(Y.a)(Object(Y.a)({},t),{},{price:t.finalPrice||Je(t).dbPrice,tva:Je(t).item_tva}))})),V?(ce(V),I.a.post("http://141.94.77.9:5000/api/updateorder",{order:e,user_id:Se}).then((function(t){console.log(t.data),I.a.post("http://141.94.77.9:5000/api/printOrder",{kitchen:!0,user_id:Se,order:Object(Y.a)(Object(Y.a)({new:!0},e),{},{tvas:"aspa",table_number:e.table||"",order_id:V,Date:new Date,nbrCouverts:(null===Z||void 0===Z?void 0:Z.nbrCouverts)||_})}).then((function(e){return console.log(e.data)})).catch((function(e){return console.log(e)})),N(Ne({order:Object(Y.a)(Object(Y.a)({},e),{},{table_number:U||Le.table_number||(null===Z||void 0===Z?void 0:Z.id),order_id:V,Date:new Date,nbrCouverts:(null===Z||void 0===Z?void 0:Z.nbrCouverts)||_})})),console.log({order:Object(Y.a)(Object(Y.a)({},e),{},{order_id:t.data.id,Date:new Date,nbrCouverts:(null===Z||void 0===Z?void 0:Z.nbrCouverts)||_})}),Me.a.connect("http://141.94.77.9:5002").emit("accept".concat(Se),{order:Object(Y.a)(Object(Y.a)({},e),{},{order_id:V,Date:new Date,nbrCouverts:(null===Z||void 0===Z?void 0:Z.nbrCouverts)||_})})}))):Fe.order_id?(ce(Fe.order_id),I.a.post("http://141.94.77.9:5000/api/updateorder",{order:e,user_id:Se}).then((function(t){console.log(t.data),I.a.post("http://141.94.77.9:5000/api/printOrder",{kitchen:!0,user_id:Se,order:Object(Y.a)(Object(Y.a)({new:!0},e),{},{tvas:"aspa",table_number:e.table||"",order_id:Fe.order_id,Date:new Date,nbrCouverts:(null===Z||void 0===Z?void 0:Z.nbrCouverts)||_})}).then((function(e){return console.log(e.data)})).catch((function(e){return console.log(e)})),N(Ne({order:Object(Y.a)(Object(Y.a)({},e),{},{table_number:U||(null===Le||void 0===Le?void 0:Le.table_number)||(null===Z||void 0===Z?void 0:Z.id),order_id:Fe.order_id,Date:new Date,nbrCouverts:(null===Z||void 0===Z?void 0:Z.nbrCouverts)||_})})),console.log({order:Object(Y.a)(Object(Y.a)({},e),{},{order_id:t.data.id,Date:new Date,nbrCouverts:(null===Z||void 0===Z?void 0:Z.nbrCouverts)||_})}),Me.a.connect("http://141.94.77.9:5002").emit("accept".concat(Se),{order:Object(Y.a)(Object(Y.a)({},e),{},{order_id:Fe.order_id,Date:new Date,nbrCouverts:(null===Z||void 0===Z?void 0:Z.nbrCouverts)||_})})}))):I.a.post("http://141.94.77.9:5000/api/orders",{client:Z,order:e,how_paid:"tout",user_id:Se}).then((function(t){var n,c;ce(t.data.id),I.a.post("http://141.94.77.9:5000/api/printOrder",{kitchen:!0,user_id:Se,order:Object(Y.a)(Object(Y.a)({new:!1},e),{},{tvas:(n=ze().tvas,c="perc",null===n||void 0===n?void 0:n.reduce((function(e,t){return(e[t[c]]=e[t[c]]||[]).push(t.value),e}),{})),table_number:S||"",order_id:t.data.id,Date:new Date,nbrCouverts:(null===Z||void 0===Z?void 0:Z.nbrCouverts)||_})}).then((function(e){return console.log(e.data)})).catch((function(e){return console.log(e)})),N(Be({order:Object(Y.a)(Object(Y.a)({},e),{},{table_number:U||(null===Z||void 0===Z?void 0:Z.id),order_id:t.data.id,Date:(new Date).getTime(),nbrCouverts:(null===Z||void 0===Z?void 0:Z.nbrCouverts)||_})})),Me.a.connect("http://141.94.77.9:5002").emit("accept".concat(Se),{order:Object(Y.a)(Object(Y.a)({},e),{},{order_id:t.data.id,Date:new Date,nbrCouverts:(null===Z||void 0===Z?void 0:Z.nbrCouverts)||_})}),Pe(Object(Y.a)(Object(Y.a)({},e),{},{order_id:t.data.id,Date:new Date,nbrCouverts:(null===Z||void 0===Z?void 0:Z.nbrCouverts)||_}))})).catch((function(e){return console.log(e)}))},$e=function(){0!=ne&&(k("/checkout/"+ne),N(Ee()))},nt=function(e){return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e}})},ct=localStorage.getItem("currency"),it=et((function(){console.log("longpress is triggered")}),(function(){console.log("click is triggered")}),{shouldPreventDefault:!1,delay:500}),rt=Object(i.useState)(!1),at=Object(s.a)(rt,2),st=at[0],ot=at[1];return Object(q.jsxs)("div",{className:"cart-menu",children:[y.nbr?Object(q.jsx)("h6",{className:"cart-menu-table-nbr",children:"table ".concat(S," - ").concat(_," ").concat(w("couverts"))}):Z.name?Object(q.jsx)("h6",{className:"cart-menu-table-nbr",children:"Client ".concat(Z.name," - ").concat(Z.type,"\n          ")}):V?Object(q.jsxs)("b",{children:["Commande # ",V]}):Object(q.jsx)("br",{}),Object(q.jsxs)(Oe.a,{className:"ttt2",children:[Object(q.jsx)("thead",{className:"tbds2",children:Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{children:w("article")}),Object(q.jsx)("th",{children:"Qte"}),Object(q.jsx)("th",{children:w("price")})]})}),Object(q.jsx)("tbody",{className:"scro2 ",style:{backgorunImage:"url(".concat("data:image/png;base64,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INBEQIFsEqQzCBAgQIAAAQJVAgpklbQ5BAgQIECAAIEmAgpkkyCdQYAAAQIECBCoElAgq6TNIUCAAAECBAg0EVAgmwTpDAIECBAgQIBAlYACWSVtDgECBAgQIECgiYAC2SRIZxAgQIAAAQIEqgQUyCppcwgQIECAAAECTQQWt1+/f6665eLd2w+r6/Vx3HizGfbjtmq0OQQIECBAgAABAhMJLL7t9oeJ3vWq1/x4//H43Jsvn171vIcIECBAgAABAgSyBPyEnZWHbQgQIECAAAEC8QIKZHxEFiRAgAABAgQIZAkokFl52IYAAQIECBAgEC+gQMZHZEECBAgQIECAQJaAApmVh20IECBAgAABAvECCmR8RBYkQIAAAQIECGQJKJBZediGAAECBAgQIBAvoEDGR2RBAgQIECBAgECWgAKZlYdtCBAgQIAAAQLxAgpkfEQWJECAAAECBAhkCSiQWXnYhgABAgQIECAQL6BAxkdkQQIECBAgQIBAloACmZWHbQgQIECAAAEC8QIKZHxEFiRAgAABAgQIZAkokFl52IYAAQIECBAgEC+gQMZHZEECBAgQIECAQJaAApmVh20IECBAgAABAvECCmR8RBYkQIAAAQIECGQJKJBZediGAAECBAgQIBAvoEDGR2RBAgQIECBAgECWgAKZlYdtCBAgQIAAAQLxAgpkfEQWJECAAAECBAhkCSiQWXnYhgABAgQIECAQL6BAxkdkQQIECBAgQIBAloACmZWHbQgQIECAAAEC8QIKZHxEFiRAgAABAgQIZAkokFl52IYAAQIECBAgEC+gQMZHZEECBAgQIECAQJaAApmVh20IECBAgAABAvECCmR8RBYkQIAAAQIECGQJLG7vHw9VK12slsPqen0cN95shv24rRptDgECBAgQIECAwEQCi7uH57IC+bS8/E2BvNruJjrDawgQIECAAAECBKoE/IRdJW0OAQIECBAgQKCJgALZJEhnECBAgAABAgSqBBTIKmlzCBAgQIAAAQJNBBTIJkE6gwABAgQIECBQJaBAVkmbQ4AAAQIECBBoIqBANgnSGQQIECBAgACBKgEFskraHAIECBAgQIBAEwEFskmQziBAgAABAgQIVAkokFXS5hAgQIAAAQIEmggokE2CdAYBAgQIECBAoEpAgaySNocAAQIECBAg0ERAgWwSpDMIECBAgAABAlUCCmSVtDkECBAgQIAAgSYCCmSTIJ1BgAABAgQIEKgSUCCrpM0hQIAAAQIECDQRUCCbBOkMAgQIECBAgECVgAJZJW0OAQIECBAgQKCJgALZJEhnECBAgAABAgSqBBTIKmlzCBAgQIAAAQJNBBTIJkE6gwABAgQIECBQJaBAVkmbQ4AAAQIECBBoIqBANgnSGQQIECBAgACBKgEFskraHAIECBAgQIBAEwEFskmQziBAgAABAgQIVAkokFXS5hAgQIAAAQIEmggokE2CdAYBAgQIECBAoEpAgaySNocAAQIECBAg0ERAgWwSpDMIECBAgAABAlUCCmSVtDkECBAgQIAAgSYCi9uv3z9X3XLx7u2H1fX6OG682Qz7cVs12hwCBAgQIECAAIGJBBbfdvvDRO961Wt+vP94fO7Nl0+vet5DBAgQIECAAAECWQJ+ws7KwzYECBAgQIAAgXgBBTI+IgsSIECAAAECBLIEFMisPGxDgAABAgQIEIgXUCDjI7IgAQIECBAgQCBLQIHMysM2BAgQIECAAIF4AQUyPiILEiBAgAABAgSyBBTIrDxsQ4AAAQIECBCIF1Ag4yOyIAECBAgQIEAgS0CBzMrDNgQIECBAgACBeAEFMj4iCxIgQIAAAQIEsgQUyKw8bEOAAAECBAgQiBdQIOMjsiABAgQIECBAIEtAgczKwzYECBAgQIAAgXgBBTI+IgsSIECAAAECBLIEFMisPGxDgAABAgQIEIgXUCDjI7IgAQIECBAgQCBLQIHMysM2BAgQIECAAIF4AQUyPiILEiBAgAABAgSyBBTIrDxsQ4AAAQIECBCIF1Ag4yOyIAECBAgQIEAgS0CBzMrDNgQIECBAgACBeAEFMj4iCxIgQIAAAQIEsgQUyKw8bEOAAAECBAgQiBdQIOMjsiABAgQIECBAIEtAgczKwzYECBAgQIAAgXgBBTI+IgsSIECAAAECBLIEFMisPGxDgAABAgQIEIgXUCDjI7IgAQIECBAgQCBLQIHMysM2BAgQIECAAIF4gcW33f5QueWP9x+P4958+VQ51iwCBAgQIECAAIGJBBa3949lBfJitRxW1+vj6uPNZtiP24nO8BoCBAgQIECAAIEqAT9hV0mbQ4AAAQIECBBoIqBANgnSGQQIECBAgACBKgEFskraHAIECBAgQIBAEwEFskmQziBAgAABAgQIVAkokFXS5hAgQIAAAQIEmggokE2CdAYBAgQIECBAoEpAgaySNocAAQIECBAg0ERAgWwSpDMIECBAgAABAlUCCmSVtDkECBAgQIAAgSYCCmSTIJ1BgAABAgQIEKgSUCCrpM0hQIAAAQIECDQRUCCbBOkMAgQIECBAgECVgAJZJW0OAQIECBAgQKCJgALZJEhnECBAgAABAgSqBBTIKmlzCBAgQIAAAQJNBBTIJkE6gwABAgQIECBQJaBAVkmbQ4AAAQIECBBoIqBANgnSGQQIECBAgACBKgEFskraHAIECBAgQIBAEwEFskmQziBAgAABAgQIVAkokFXS5hAgQIAAAQIEmggokE2CdAYBAgQIECBAoEpAgaySNocAAQIECBAg0ERAgWwSpDMIECBAgAABAlUCCmSVtDkECBAgQIAAgSYCCmSTIJ1BgAABAgQIEKgSUCCrpM0hQIAAAQIECDQRUCCbBOkMAgQIECBAgECVwOL26/fPVcMu3r39sLpeH8eNN5thP26rRptDgAABAgQIECAwkcDi7uH5MNG7XnzN0/Jy+LlAXm13L37GAwQIECBAgAABAlkCfsLOysM2BAgQIECAAIF4AQUyPiILEiBAgAABAgSyBBTIrDxsQ4AAAQIECBCIF1Ag4yOyIAECBAgQIEAgS0CBzMrDNgQIECBAgACBeAEFMj4iCxIgQIAAAQIEsgQUyKw8bEOAAAECBAgQiBdQIOMjsiABAgQIECBAIEtAgczKwzYECBAgQIAAgXgBBTI+IgsSIECAAAECBLIEFMisPGxDgAABAgQIEIgXUCDjI7IgAQIECBAgQCBLQIHMysM2BAgQIECAAIF4AQUyPiILEiBAgAABAgSyBBTIrDxsQ4AAAQIECBCIF1Ag4yOyIAECBAgQIEAgS0CBzMrDNgQIECBAgACBeAEFMj4iCxIgQIAAAQIEsgQUyKw8bEOAAAECBAgQiBdQIOMjsiABAgQIECBAIEtAgczKwzYECBAgQIAAgXgBBTI+IgsSIECAAAECBLIEFMisPGxDgAABAgQIEIgXUCDjI7IgAQIECBAgQCBLQIHMysM2BAgQIECAAIF4AQUyPiILEiBAgAABAgSyBBTIrDxsQ4AAAQIECBCIF1Ag4yOyIAECBAgQIEAgS0CBzMrDNgQIECBAgACBeAEFMj4iCxIgQIAAAQIEsgQUyKw8bEOAAAECBAgQiBdY3N4/Hqq2vFgth9X1+jhuvNkM+3FbNdocAgQIECBAgACBiQQWdw/PZQXyaXn5mwJ5td1NdIbXECBAgAABAgQIVAn4CbtK2hwCBAgQIECAQBMBBbJJkM4gQIAAAQIECFQJKJBV0uYQIECAAAECBJoIKJBNgnQGAQIECBAgQKBKQIGskjaHAAECBAgQINBEQIFsEqQzCBAgQIAAAQJVAgpklbQ5BAgQIECAAIEmAgpkkyCdQYAAAQIECBCoElAgq6TNIUCAAAECBAg0EVAgmwTpDAIECBAgQIBAlYACWSVtDgECBAgQIECgiYAC2SRIZxAgQIAAAQIEqgQUyCppcwgQIECAAAECTQQUyCZBOoMAAQIECBAgUCWgQFZJm0OAAAECBAgQaCKgQDYJ0hkECBAgQIAAgSoBBbJK2hwCBAgQIECAQBMBBbJJkM4gQIAAAQIECFQJKJBV0uYQIECAAAECBJoIKJBNgnQGAQIECBAgQKBKQIGskjaHAAECBAgQINBEQIFsEqQzCBAgQIAAAQJVAgpklbQ5BAgQIECAAIEmAgpkkyCdQYAAAQIECBCoElAgq6TNIUCAAAECBAg0EVAgmwTpDAIECBAgQIBAlYACWSVtDgECBAgQIECgiYAC2SRIZxAgQIAAAQIEqgQUyCppcwgQIECAAAECTQQWt1+/f6665eLd2w+r6/Vx3HizGfbjtmq0OQQIECBAgAABAhMJLO4eng8TvevF1zwtL4efC+TVdvfiZzxAgAABAgQIECCQJeAn7Kw8bEOAAAECBAgQiBdQIOMjsiABAgQIECBAIEtAgczKwzYECBAgQIAAgXgBBTI+IgsSIECAAAECBLIEFMisPGxDgAABAgQIEIgXUCDjI7IgAQIECBAgQCBLQIHMysM2BAgQIECAAIF4AQUyPiILEiBAgAABAgSyBBTIrDxsQ4AAAQIECBCIF1Ag4yOyIAECBAgQIEAgS0CBzMrDNgQIECBAgACBeAEFMj4iCxIgQIAAAQIEsgQUyKw8bEOAAAECBAgQiBdQIOMjsiABAgQIECBAIEtAgczKwzYECBAgQIAAgXgBBTI+IgsSIECAAAECBLIEFMisPGxDgAABAgQIEIgXUCDjI7IgAQIECBAgQCBLQIHMysM2BAgQIECAAIF4AQUyPiILEiBAgAABAgSyBBTIrDxsQ4AAAQIECBCIF1Ag4yOyIAECBAgQIEAgS0CBzMrDNgQIECBAgACBeAEFMj4iCxIgQIAAAQIEsgQUyKw8bEOAAAECBAgQiBdQIOMjsiABAgQIECBAIEtAgczKwzYECBAgQIAAgXgBBTI+IgsSIECAAAECBLIEFMisPGxDgAABAgQIEIgXWHzb7Q+VW/54//E47s2XT5VjzSJAgAABAgQIEJhIYHF7/1hWIC9Wy2F1vT6uPt5shv24negMryFAgAABAgQIEKgS8BN2lbQ5BAgQIECAAIEmAgpkkyCdQYAAAQIECBCoElAgq6TNIUCAAAECBAg0EVAgmwTpDAIECBAgQIBAlYACWSVtDgECBAgQIECgiYAC2SRIZxAgQIAAAQIEqgQUyCppcwgQIECAAAECTQQUyCZBOoMAAQIECBAgUCWgQFZJm0OAAAECBAgQaCKgQDYJ0hkECBAgQIAAgSoBBbJK2hwCBAgQIECAQBMBBbJJkM4gQIAAAQIECFQJKJBV0uYQIECAAAECBJoIKJBNgnQGAQIECBAgQKBKQIGskjaHAAECBAgQINBEQIFsEqQzCBAgQIAAAQJVAgpklbQ5BAgQIECAAIEmAgpkkyCdQYAAAQIECBCoElAgq6TNIUCAAAECBAg0EVAgmwTpDAIECBAgQIBAlYACWSVtDgECBAgQIECgiYAC2SRIZxAgQIAAAQIEqgQUyCppcwgQIECAAAECTQQUyCZBOoMAAQIECBAgUCWgQFZJm0OAAAECBAgQaCKgQDYJ0hkECBAgQIAAgSoBBbJK2hwCBAgQIECAQBMBBbJJkM4gQIAAAQIECFQJKJBV0uYQIECAAAECBJoIKJBNgnQGAQIECBAgQKBKYHH79fvnqmEX795+WF2vj+PGm82wH7dVo80hQIAAAQIECBCYSGBx9/B8mOhdL77maXk5/Fwgr7a7Fz/jAQIECBAgQIAAgSwBP2Fn5WEbAgQIECBAgEC8gAIZH5EFCRAgQIAAAQJZAgpkVh62IUCAAAECBAjECyiQ8RFZkAABAgQIECCQJaBAZuVhGwIECBAgQIBAvIACGR+RBQkQIECAAAECWQIKZFYetiFAgAABAgQIxAsokPERWZAAAQIECBAgkCWgQGblYRsCBAgQIECAQLyAAhkfkQUJECBAgAABAlkCCmRWHrYhQIAAAQIECMQLKJDxEVmQAAECBAgQIJAloEBm5WEbAgQIECBAgEC8gAIZH5EFCRAgQIAAAQJZAgpkVh62IUCAAAECBAjECyiQ8RFZkAABAgQIECCQJaBAZuVhGwIECBAgQIBAvIACGR+RBQkQIECAAAECWQIKZFYetiFAgAABAgQIxAsokPERWZAAAQIECBAgkCWgQGblYRsCBAgQIECAQLyAAhkfkQUJECBAgAABAlkCCmRWHrYhQIAAAQIECMQLKJDxEVmQAAECBAgQIJAloEBm5WEbAgQIECBAgEC8gAIZH5EFCRAgQIAAAQJZAgpkVh62IUCAAAECBAjECyiQ8RFZkAABAgQIECCQJaBAZuVhGwIECBAgQIBAvMDi225/qNzyx/uPx3FvvnyqHGsWAQIECBAgQIDARAKL2/vHsgJ5sVoOq+v1cfXxZjPsx+1EZ3gNAQIECBAgQIBAlYCfsKukzSFAgAABAgQINBFQIJsE6QwCBAgQIECAQJWAAlklbQ4BAgQIECBAoImAAtkkSGcQIECAAAECBKoEFMgqaXMIECBAgAABAk0EFMgmQTqDAAECBAgQIFAloEBWSZtDgAABAgQIEGgioEA2CdIZBAgQIECAAIEqAQWyStocAgQIECBAgEATAQWySZDOIECAAAECBAhUCSiQVdLmECBAgAABAgSaCCiQTYJ0BgECBAgQIECgSkCBrJI2hwABAgQIECDQRECBbBKkMwgQIECAAAECVQIKZJW0OQQIECBAgACBJgIKZJMgnUGAAAECBAgQqBJQIKukzSFAgAABAgQINBFQIJsE6QwCBAgQIECAQJWAAlklbQ4BAgQIECBAoImAAtkkSGcQIECAAAECBKoEFMgqaXMIECBAgAABAk0EFMgmQTqDAAECBAgQIFAloEBWSZtDgAABAgQIEGgioEA2CdIZBAgQIECAAIEqAQWyStocAgQIECBAgEATAQWySZDOIECAAAECBAhUCSiQVdLmECBAgAABAgSaCCiQTYJ0BgECBAgQIECgSkCBrJI2hwABAgQIECDQRGBx9/B8qLrlaXk5rK7Xx3HjzWa42u6qRptDgAABAgQIECAwkcDi9uv3zxO968XXXLx7++HnArkfty9+xgMECBAgQIAAAQJZAn7CzsrDNgQIECBAgACBeAEFMj4iCxIgQIAAAQIEsgQUyKw8bEOAAAECBAgQiBdQIOMjsiABAgQIECBAIEtAgczKwzYECBAgQIAAgXgBBTI+IgsSIECAAAECBLIEFMisPGxDgAABAgQIEIgXUCDjI7IgAQIECBAgQCBLQIHMysM2BAgQIECAAIF4AQUyPiILEiBAgAABAgSyBBTIrDxsQ4AAAQIECBCIF1Ag4yOyIAECBAgQIEAgS0CBzMrDNgQIECBAgACBeAGv0O3aAAAEn0lEQVQFMj4iCxIgQIAAAQIEsgQUyKw8bEOAAAECBAgQiBdQIOMjsiABAgQIECBAIEtAgczKwzYECBAgQIAAgXgBBTI+IgsSIECAAAECBLIEFMisPGxDgAABAgQIEIgXUCDjI7IgAQIECBAgQCBLQIHMysM2BAgQIECAAIF4AQUyPiILEiBAgAABAgSyBBTIrDxsQ4AAAQIECBCIF1Ag4yOyIAECBAgQIEAgS0CBzMrDNgQIECBAgACBeAEFMj4iCxIgQIAAAQIEsgQUyKw8bEOAAAECBAgQiBdQIOMjsiABAgQIECBAIEtAgczKwzYECBAgQIAAgXgBBTI+IgsSIECAAAECBLIEFrf3j4eqlS5Wy2F1vT6OG282w37cVo02hwABAgQIECBAYCKBxd3Dc1mBfFpe/qZAXm13E53hNQQIECBAgAABAlUCfsKukjaHAAECBAgQINBEQIFsEqQzCBAgQIAAAQJVAgpklbQ5BAgQIECAAIEmAgpkkyCdQYAAAQIECBCoElAgq6TNIUCAAAECBAg0EVAgmwTpDAIECBAgQIBAlYACWSVtDgECBAgQIECgiYAC2SRIZxAgQIAAAQIEqgQUyCppcwgQIECAAAECTQQUyCZBOoMAAQIECBAgUCWgQFZJm0OAAAECBAgQaCKgQDYJ0hkECBAgQIAAgSoBBbJK2hwCBAgQIECAQBMBBbJJkM4gQIAAAQIECFQJKJBV0uYQIECAAAECBJoIKJBNgnQGAQIECBAgQKBKQIGskjaHAAECBAgQINBEQIFsEqQzCBAgQIAAAQJVAgpklbQ5BAgQIECAAIEmAgpkkyCdQYAAAQIECBCoElAgq6TNIUCAAAECBAg0EVAgmwTpDAIECBAgQIBAlYACWSVtDgECBAgQIECgiYAC2SRIZxAgQIAAAQIEqgQUyCppcwgQIECAAAECTQQUyCZBOoMAAQIECBAgUCWgQFZJm0OAAAECBAgQaCKgQDYJ0hkECBAgQIAAgSoBBbJK2hwCBAgQIECAQBOBxd3D86Hqlqfl5bC6Xh/HjTeb4Wq7qxptDgECBAgQIECAwEQCi9uv3z9P9K4XX3Px7u2Hnwvkfty++BkPECBAgAABAgQIZAn4CTsrD9sQIECAAAECBOIFFMj4iCxIgAABAgQIEMgSUCCz8rANAQIECBAgQCBeQIGMj8iCBAgQIECAAIEsAQUyKw/bECBAgAABAgTiBRTI+IgsSIAAAQIECBDIElAgs/KwDQECBAgQIEAgXkCBjI/IggQIECBAgACBLAEFMisP2xAgQIAAAQIE4gUUyPiILEiAAAECBAgQyBJQILPysA0BAgQIECBAIF5AgYyPyIIECBAgQIAAgSwBBTIrD9sQIECAAAECBOIFFMj4iCxIgAABAgQIEMgSUCCz8rANAQIECBAgQCBeQIGMj8iCBAgQIECAAIEsAQUyKw/bECBAgAABAgTiBRTI+IgsSIAAAQIECBDIEvhrgRzH8e/ebLVavfqzf/7jevjdnzZ/fb5q7v9e0NxXRzacki/nmr9HnDm/9m+wv7+vlRoG/194vZXv1eutun6v/htF3/hLyMxM/wAAAABJRU5ErkJggg==",") !important")},children:null===se||void 0===se?void 0:se.map((function(e,t){var n,c,i,r,a,s,o,u,j,A,b,h;return Object(q.jsxs)("tr",{className:"catt",style:{backgroundColor:"true"==e.new||1==E?"#55efc4":"transparent",color:"true"==e.new||1==E?"white":"black"},children:[Object(q.jsxs)("td",{className:"mytd",children:[Object(q.jsx)("p",{onClick:function(){je({order:e,key:t}),ot(!0)},className:"mytd_order-name",children:e.name}),e.extras&&e.extras.length?e.extras.filter((function(e){return e.default_quantity>0})).map((function(e){return Object(q.jsxs)("span",{className:"boba",children:[e.title,"-"]})})):"",e.stepItems&&Object.keys(e.stepItems).length?Object(q.jsx)("div",{children:Object.keys(e.stepItems).map((function(t){return e.stepItems[t].map((function(e){return Object(q.jsxs)("span",{style:{textAlign:"start",color:"#ff6b6b"},children:["-",e.name]})}))}))}):e.is_supp?Object(q.jsx)("div",{className:"order_with_supp_item",children:null===e||void 0===e?void 0:e.suppSelected.map((function(t,n){return Object(q.jsxs)("span",{style:{textAlign:"start",color:"#ff6b6b"},children:["- ",null===e||void 0===e?void 0:e.suppSelected.at(n).name]},t)}))}):null!==e&&void 0!==e&&e.slots?Object(q.jsxs)("div",{children:[Object(q.jsx)("span",{style:{textAlign:"start",color:"grey"},children:null===(n=Object.entries(e.slots)[0])||void 0===n||null===(c=n[1])||void 0===c||null===(i=c.products)||void 0===i||null===(r=i.filter((function(e){return e.checked}))[0])||void 0===r?void 0:r.name}),Object(q.jsx)("br",{}),Object(q.jsx)("span",{style:{textAlign:"start",color:"grey"},children:null===(a=Object.entries(e.slots)[1])||void 0===a||null===(s=a[1])||void 0===s||null===(o=s.products)||void 0===o||null===(u=o.filter((function(e){return e.checked}))[0])||void 0===u?void 0:u.name}),Object(q.jsx)("br",{}),Object(q.jsx)("span",{style:{textAlign:"start",color:"grey"},children:null===(j=Object.entries(e.slots)[2])||void 0===j||null===(A=j[1])||void 0===A||null===(b=A.products)||void 0===b||null===(h=b.filter((function(e){return e.checked}))[0])||void 0===h?void 0:h.name})]}):""]}),Object(q.jsxs)("td",{style:{display:"flex",justifyContent:"space-evenly",height:"30px"},children:[Object(q.jsx)(l.a,{icon:d.v,color:"#ff6b6b",onClick:function(){return qe({order:e,key:t,sign:"-"})}}),Object(q.jsx)("p",Object(Y.a)(Object(Y.a)({className:"mytd_order-qty",onClick:function(){je({order:e,key:t}),ge(!0)}},it),{},{children:Object(q.jsx)("b",{children:e.qt})})),Object(q.jsx)(l.a,{icon:d.A,color:"#ff6b6b",onClick:function(){return qe({order:e,key:t,sign:"+"})},variant:"success"})]}),Object(q.jsx)("td",{style:{height:"30px"},children:Object(q.jsxs)("p",{className:"mytd_order-qty",style:{fontWeight:"bold",display:"flex"},children:[Je(e).price.toFixed(2)," ",nt("<i>".concat(ct,"</i>"))]})})]})}))})]}),Object(q.jsxs)("div",{style:{width:"25%",height:"200px",backgroundColor:"#f1f1f1",position:"absolute",bottom:"0"},children:[Object(q.jsx)("div",{style:{borderBottom:"1px solid white",display:"flex",alignItems:"center",position:"relative",backgroundImage:"url(".concat(Ye,")"),objectFit:"contain",width:"100%",height:"50px",paddingTop:"5px"},children:Object(q.jsxs)("h2",{className:"dig",style:{zIndex:"999",color:"#00b894",display:"flex",paddingLeft:"1rem",fontFamily:"DS-DIGIT !important"},children:["Total : ".concat((ze().tot+ze().tva).toFixed(2))," ",nt("<i >".concat(ct,"</i>"))]})}),Object(q.jsxs)("div",{style:{display:"flex"},children:[Object(q.jsx)(A.a,{className:"cart_btn btn4",variant:1==E?"danger":"warning",onClick:function(){ie&&ie.length>0&&(1==E?$e():0==ze().tot?z.a.fire({title:"Attention le montant de la commande est 0 \u20ac !"}):z.a.fire({title:"confirmer la commande ?",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"confirmer",denyButtonText:"annuler"}).then((function(e){e.isConfirmed&&(Xe(),z.a.fire({icon:"success",title:"commande confirm\xe9e",showConfirmButton:!1,timer:1500}),B(!0))})))},children:1==E?Object(q.jsxs)(q.Fragment,{children:[0==ne&&Object(q.jsx)(Ve.a,{animation:"border",variant:"light"})," ","Finir"]}):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(l.a,{icon:d.l})," Confirmer"]})}),Object(q.jsx)(A.a,{className:"cart_btn",variant:"success",onClick:function(){z.a.fire({title:"Ouvrir la caisse pour :",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Faire la monnaie",denyButtonText:"Sans motif",cancelButtonText:"Annuler"}).then((function(e){console.log(e),e.isConfirmed?(I.a.post("http://141.94.77.9:5000/api/pushlog",{user_id:Se,user:_e,faire:"pour Faire la monnaie",title:"Ouverture de tiroir",content:"ouverture de la caisse par le serveur"}),z.a.fire({icon:"success",title:"Ouvert pour faire la monnaie",showConfirmButton:!1,timer:1e3})):e.isDenied&&(I.a.post("http://141.94.77.9:5000/api/pushlog",{user_id:Se,user:_e,faire:"sans motif",title:"Ouverture de tiroir",content:"ouverture de la caisse par le serveur"}),z.a.fire({icon:"success",title:"Ouvert sans motif",showConfirmButton:!1,timer:1e3}))}))},children:w("tiroir")}),Object(q.jsx)(A.a,{className:"cart_btn",variant:"danger",onClick:function(){z.a.fire({title:"Motif d'annulation ",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Aucun",denyButtonText:"Impay\xe9",cancelButtonText:"Fermer"}).then((function(e){if(e.isConfirmed){if(V)I.a.post("http://141.94.77.9:5000/api/cancelorder",{order:Le}),Me.a.connect("http://141.94.77.9:5002").emit("accept".concat(Se),{order:Object(Y.a)({},Le)}),N(Ne({order:Object(Y.a)(Object(Y.a)({},Le),{},{status:"rejected",timeRejection:Ze,rejectedFrom:Q,rejected:"Aucun"})}));if(Fe.order_id)I.a.post("http://141.94.77.9:5000/api/cancelorder",{order:Fe}),Me.a.connect("http://141.94.77.9:5002").emit("accept".concat(Se),{order:Object(Y.a)({},Fe)}),N(Ne({order:Object(Y.a)(Object(Y.a)({},Le),{},{status:"rejected",timeRejection:Ze,rejectedFrom:Q,rejected:"Aucun"})}));I.a.post("http://141.94.77.9:5000/api/pushlog",{user_id:Se,user:_e,faire:"Aucun",title:"Annulation",content:"Annulation de commande par le serveur"}),z.a.fire({icon:"success",title:"Annul\xe9 (Aucun)",showConfirmButton:!1,timer:1e3}),N(Ee()),k("/main")}else if(e.isDenied){if(V)I.a.post("http://141.94.77.9:5000/api/cancelorder",{order:Le}),Me.a.connect("http://141.94.77.9:5002").emit("accept".concat(Se),{order:Object(Y.a)({},Le)}),N(Ne({order:Object(Y.a)(Object(Y.a)({},Le),{},{status:"rejected",timeRejection:Ze,rejectedFrom:Q,rejected:"Impay\xe9"})}));if(Fe.order_id)I.a.post("http://141.94.77.9:5000/api/cancelorder",{order:Fe}),Me.a.connect("http://141.94.77.9:5002").emit("accept".concat(Se),{order:Object(Y.a)({},Fe)}),N(Ne({order:Object(Y.a)(Object(Y.a)({},Le),{},{status:"rejected",timeRejection:Ze,rejectedFrom:Q,rejected:"Impay\xe9"})}));I.a.post("http://141.94.77.9:5000/api/pushlog",{user_id:Se,user:_e,faire:"Impay\xe9",title:"Annulation",content:"Annulation de commande par le serveur"}),z.a.fire({icon:"success",title:"Annul\xe9 (Impay\xe9)",showConfirmButton:!1,timer:1e3}),N(Ee()),k("/main")}}))},children:w("cancel")})]})]}),Object(q.jsxs)(me.a,{dialogClassName:"modal_body",show:he,onHide:function(){He(),M(1)},children:[Object(q.jsx)(me.a.Header,{closeButton:!0,children:Object(q.jsx)(me.a.Title,{children:null===(t=ue.order)||void 0===t?void 0:t.name})}),Object(q.jsxs)(me.a.Body,{children:[Object(q.jsx)("p",{children:null===(n=ue.order)||void 0===n?void 0:n.description}),null!==(c=ue.order)&&void 0!==c&&c.extras&&null!==(a=ue.order)&&void 0!==a&&a.extras.length?null===(u=ue.order)||void 0===u?void 0:u.extras.map((function(e,t){return Object(q.jsxs)("tr",{style:{display:"flex",width:"50%"},children:[Object(q.jsxs)("td",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",height:"30px",width:"25%",marginRight:"1rem"},children:[Object(q.jsx)(l.a,{onClick:function(){return Ke({extraKey:t,sign:"-"})},icon:d.v,color:"#ff6b6b"}),Object(q.jsx)("h5",{children:Object(q.jsx)("b",{children:e.default_quantity})}),Object(q.jsx)(l.a,{onClick:function(){return Ke({extraKey:t,sign:"+"})},icon:d.A,color:"#ff6b6b"})]}),Object(q.jsxs)("td",{style:{marginRight:"1rem"},children:[" ",Object(q.jsx)("h5",{children:Object(q.jsx)("b",{children:e.title})})]}),Object(q.jsxs)("td",{children:[" ",Object(q.jsx)("h5",{children:Object(q.jsxs)("b",{style:{display:"flex",color:"#ff6b6b"},children:[e.price.toFixed(2)," ",nt("<i>".concat(ct,"</i>"))]})})]})]})})):null!==(j=ue.order)&&void 0!==j&&j.isComp?Object(q.jsxs)(Oe.a,{striped:!0,bordered:!0,children:[Object(q.jsx)("thead",{children:Object(q.jsx)("tr",{children:Object.keys((null===(h=ue.order)||void 0===h?void 0:h.slots)||{}).map((function(e){return Object(q.jsx)("td",{children:e})}))})}),Object(q.jsx)("tbody",{children:Object.keys((null===(g=ue.order)||void 0===g?void 0:g.slots)||{}).map((function(e){var t;return Object(q.jsx)("td",{children:null===(t=ue.order)||void 0===t?void 0:t.slots[e].products.map((function(t){return Object(q.jsxs)("div",{style:{display:"flex",cursor:"pointer"},className:t.checked?"checked":"not",onClick:function(){return function(e){var t=e.slotKey,n=e.id;console.log(t,n);var c=JSON.parse(JSON.stringify(ue.order)||{});c.slots[t].products.forEach((function(e){e.id==n?e.checked=!0:e.checked=!1,console.log(e.name)})),je(Object(Y.a)(Object(Y.a)({},ue),{},{order:c}))}({slotKey:e,id:t.id})},children:[Object(q.jsx)("img",{src:t.image,width:"30px",height:"30px"}),Object(q.jsxs)("div",{children:[Object(q.jsx)("h6",{children:t.name}),Object(q.jsx)("p",{children:t.description})]}),Object(q.jsxs)("p",{children:[t.price," ",nt("<i>".concat(ct,"</i>"))]})]})}))})}))})]}):(null===(O=ue.order)||void 0===O?void 0:O.nsteps)>0?Object(q.jsxs)("div",{children:[Object(q.jsx)("h6",{children:Object(q.jsx)("b",{children:null===(m=J.filter((function(e){var t;return e.menu_id==(null===(t=ue.order)||void 0===t?void 0:t.id)}))[0][L])||void 0===m?void 0:m.nom_etape})}),Object(q.jsx)("div",{className:"steps_cont",children:J.filter((function(e){var t;return e.menu_id==(null===(t=ue.order)||void 0===t?void 0:t.id)}))[0][L].choice.map((function(e){var t,n;return Object(q.jsxs)("div",{className:null!==(t=ue.order)&&void 0!==t&&null!==(n=t.stepItems[L])&&void 0!==n&&n.find((function(t){return t.id==e}))?"prod prod_sel":"prod",onClick:function(){return function(e){var t=e.id,n=e.STP;console.log(n),W(L);var c=JSON.parse(JSON.stringify(ue.order)||{}),i=n.max_select;void 0==c.stepItems[L]&&(c.stepItems[L]=[],console.log(c)),c.stepItems[L].length<i&&(c.stepItems[L].find((function(e){return e.id==t}))||(console.log("will push now"),c.stepItems[L].push(Re(t)))),c.stepItems[L].find((function(e){return e.id==t}))||(c.stepItems[L]=[],c.stepItems[L].push(Re(t))),je(Object(Y.a)(Object(Y.a)({},ue),{},{order:c})),console.log("done"),console.log(c)}({id:e,STP:J.filter((function(e){var t;return e.menu_id==(null===(t=ue.order)||void 0===t?void 0:t.id)}))[0][L]})},children:[Object(q.jsx)("img",{src:Re(e).image,alt:"",height:"70px",width:"70px"}),Object(q.jsxs)("h6",{style:{display:"flex"},children:[Object(q.jsxs)("b",{children:[" ",Re(e).name," "]}),Object(q.jsx)("span",{children:Object(q.jsxs)("b",{style:{display:"flex",marginLeft:"1rem",color:"#ff6b6b"},children:[Re(e).price," ",nt("<i>".concat(ct,"</i>"))]})})," "]}),Object(q.jsx)("p",{children:Re(e).description})]})}))}),(null===(p=ue.order)||void 0===p?void 0:p.nsteps)>=L&&L>0?Object(q.jsx)(A.a,{style:{marginRight:"1rem"},variant:"outline-secondary",onClick:function(){L>1&&M(L-1)},children:"retour"}):"",(null===(x=ue.order)||void 0===x?void 0:x.nsteps)>L&&L>0?Object(q.jsx)(A.a,{variant:"outline-warning",onClick:function(){var e;(null===(e=ue.order)||void 0===e?void 0:e.nsteps)>L&&G==L&&M(L+1)},children:"suivant"}):"",(null===(v=ue.order)||void 0===v?void 0:v.nsteps)==L?Object(q.jsx)(A.a,{variant:"outline-warning",onClick:function(){G==L&&Ge()},children:"finir"}):""]}):""]}),Object(q.jsxs)(me.a.Footer,{children:[Object(q.jsx)(A.a,{variant:"danger",onClick:function(){N(Ie({key:ue.key})),He(),M(1)},children:"Supprimer"}),Object(q.jsx)(A.a,{variant:"secondary",onClick:function(){He(),M(1)},children:w("cancel")}),0==(null===(f=ue.order)||void 0===f?void 0:f.nsteps)||null!==(C=ue.order)&&void 0!==C&&C.isComp?Object(q.jsx)(A.a,{variant:"warning",onClick:function(){return Ge()},children:w("aded")}):""]})]}),st&&Object(q.jsx)(tt,{setshowRemise:ot,orderTo:ue,setOrderTo:je,handleUpdateOrder:Ge,calcOrder:Je})]})},ct=function(e){var t=e.setSelectedCategory,n=e.categories,c=e.selectedCategory;return Object(q.jsx)("div",{className:"cat_container",children:n.filter((function(e){return 1==e.state})).map((function(e){return Object(q.jsxs)("div",{style:{background:"".concat(e.color)},className:c==e.id?"cat_item cat_item_selected":"cat_item",onClick:function(){t(e.id)},children:[Object(q.jsx)("img",{width:"50px",height:"50px",src:e.picture,className:"category_img"}),Object(q.jsx)("h6",{className:"cat_name",children:e.name.substring(0,13)+"..."})]})}))})},it=n(658),rt=n(109),at=(n(247),function(e){var t=e.orderWithSupp,n=e.handleAddOrderWithSupp,c=e.handleaAddDrink,r=e.drinks,a=e.suppSelected,o=e.order_id,u=e.setShowSupplements,j=e.setSuppSelected,A=e.setDrinks,h=Object(i.useState)("sauces"),g=Object(s.a)(h,2),O=g[0],m=g[1],p=Object(b.c)();return Object(q.jsxs)("div",{className:"product_with_supp",children:[Object(q.jsx)(l.a,{icon:d.G,style:{position:"absolute",right:"3%",top:"6%",fontSize:"1.5rem",cursor:"pointer"},onClick:function(){return u(!1),A(null),void j([])}}),Object(q.jsxs)("div",{className:"supp_header",children:[Object(q.jsxs)("div",{className:"supp_img",children:[Object(q.jsx)("img",{width:"50px",height:"50px",src:t.image}),Object(q.jsxs)("h5",{children:[t.name," +"]})]}),Object(q.jsx)("div",{className:"supp_selected_items",children:t.suppSelected.map((function(e,t){return Object(q.jsxs)("div",{className:"selected_item",children:[Object(q.jsx)("img",{width:"50px",height:"50px",src:e.image}),Object(q.jsx)("h5",{children:e.name})]},t)}))})]}),"sauces"==O?Object(q.jsx)("div",{className:"supp_body",children:t.supplement.sauces.map((function(e,c){return Object(q.jsxs)("div",{className:3==a.length&&-1==a.findIndex((function(t){return t.id==e.id}))?"supp_item item_disabled":"supp_item ",onClick:function(){return n(e)},children:[Object(q.jsx)("img",{width:"60px",height:"60px",src:e.image}),Object(q.jsx)("h5",{children:e.name}),-1!=t.suppSelected.findIndex((function(t){return t.id==e.id}))&&Object(q.jsx)(l.a,{icon:d.w,style:{color:"red",fontSize:"1.5rem",position:"absolute",bottom:"-9%"}})]},c)}))}):Object(q.jsx)("div",{className:"supp_body",children:t.supplement.drinks.map((function(e,t){return Object(q.jsxs)("div",{className:"supp_item",onClick:function(){return c(e)},children:[Object(q.jsx)("img",{width:"60px",height:"60px",src:e.image}),Object(q.jsx)("h5",{children:e.name}),(null===r||void 0===r?void 0:r.id)==(null===e||void 0===e?void 0:e.id)?Object(q.jsx)(l.a,{icon:d.l,style:{color:"red",fontSize:"1.5rem",position:"absolute",bottom:"-15%"}}):""]},t)}))}),Object(q.jsxs)("div",{className:"supp_footer",children:["sauces"==O&&Object(q.jsxs)("button",{style:{right:"0"},onClick:function(){return m("drinks")},children:[0==a.length?"Non merci":"Suivant",Object(q.jsx)(l.a,{icon:d.c})]}),"drinks"==O&&Object(q.jsxs)("button",{style:{right:"0"},onClick:function(){p(Ce({order:Object(Y.a)(Object(Y.a)({},t),{},{qt:1,stepItems:{},remise:0,offert:!1,new:o?"true":"false"})})),u(!1),A(null),j([])},children:["Terminer",Object(q.jsx)(l.a,{icon:d.c})]}),"drinks"==O&&Object(q.jsxs)("button",{style:{left:"0"},onClick:function(){return m("sauces")},children:[Object(q.jsx)(l.a,{icon:d.b}),"Pr\xe9cedent"]})]})]})}),st=function(e){var t,n,c=e.product,a=e.setAlert,o=e.order_id,u=e.setconfirmed,j=(e.confirmed,Object(i.useState)(0)),m=Object(s.a)(j,2),p=(m[0],m[1],R().t),x=Object(b.c)(),v=Object(b.d)((function(e){return e.data.nSteps})),f=Object(b.d)((function(e){return e.data.products})),C=Object(i.useState)(1),y=Object(s.a)(C,2),B=y[0],E=y[1],Q=Object(i.useState)(1),k=Object(s.a)(Q,2),w=k[0],N=k[1],S=Object(i.useState)(!1),_=Object(s.a)(S,2),T=_[0],D=_[1],F=Object(i.useState)(!1),P=Object(s.a)(F,2),L=P[0],M=P[1],J=Object(i.useState)(void 0),H=Object(s.a)(J,2),K=H[0],G=H[1],W=Object(i.useState)(!1),U=Object(s.a)(W,2),Z=U[0],X=U[1],V=Object(i.useState)(null),$=Object(s.a)(V,2),ee=($[0],$[1]),ne=Object(b.d)((function(e){return e.order.client})),ce=Object(b.d)((function(e){return e.data.tva_mode})),ie=Object(i.useState)(0),re=Object(s.a)(ie,2),ae=re[0],se=(re[1],Object(i.useState)({active:null===c||void 0===c?void 0:c.active,cat_id:null===c||void 0===c?void 0:c.cat_id,description:null===c||void 0===c?void 0:c.description,extras:null===c||void 0===c?void 0:c.extras,id:null===c||void 0===c?void 0:c.id,image:null===c||void 0===c?void 0:c.image,isComp:null===c||void 0===c?void 0:c.isComp,is_alcool:null===c||void 0===c?void 0:c.is_alcool,is_cold:null===c||void 0===c?void 0:c.is_cold,is_hot:null===c||void 0===c?void 0:c.is_hot,is_supp:null===c||void 0===c?void 0:c.is_supp,name:null===c||void 0===c?void 0:c.name,nsteps:null===c||void 0===c?void 0:c.nsteps,price:null===c||void 0===c?void 0:c.price,tva:null===c||void 0===c?void 0:c.tva,drink_id:"",suaces_ids:[],suppSelected:[],qt:1,supplement:{drinks:[],sauces:[]}})),oe=Object(s.a)(se,2),le=oe[0],de=oe[1],ue=Object(i.useState)([]),Ae=Object(s.a)(ue,2),be=Ae[0],he=Ae[1],ge=Object(i.useState)(null),Oe=Object(s.a)(ge,2),pe=Oe[0],xe=Oe[1];Object(i.useEffect)((function(){var e;e=null==pe?Object(te.a)(be):[].concat(Object(te.a)(be),[pe]);var t=be.map((function(e){return e.id}));de(Object(Y.a)(Object(Y.a)({},le),{},{suppSelected:e,suaces_ids:t}))}),[be,pe]);var ve=function(){var e=Object(O.a)(Object(g.a)().mark((function e(t){var n;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:-1!=be.findIndex((function(e){return e.id==t.id}))?(n=be.filter((function(e){return e.id!=t.id})),he(n)):be.length<3&&he([].concat(Object(te.a)(be),[t]));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){var e;"surplace"==ne.type||"livraison"==ne.type?(e=ce.find((function(e){return"surplace"==e.nom})).valeur,ee(e)):"emporter"==ne.type&&(e=ce.find((function(e){return"emporter"==e.nom})).valeur,ee(e)),ae>0&&ee(e=ae),console.log(e)}),[]);var fe=function(e){var t=e.extraKey,n=e.sign;console.log("handleExtra",{extraKey:t,sign:n});var c=JSON.parse(JSON.stringify(K)||{});"+"==n&&c.extras[t].default_quantity<1?(c.extras[t].default_quantity+=1,console.log(c),G(c)):c.extras[t].default_quantity>0&&(c.extras[t].default_quantity-=1,console.log(c),G(c))},ye=function(e){var t=e.show,n=e.msg,c=e.type;a({show:t,msg:n,type:c}),setTimeout((function(){a({show:!1,msg:"",type:""})}),1500)},Ie=function(e){return f.find((function(t){return t.id==e}))||{}},Be=function(e){return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e}})},Ee=localStorage.getItem("currency");return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(rt.a,{}),Object(q.jsxs)("div",{className:"item_container",children:[Object(q.jsx)("p",{children:Object(q.jsx)("b",{children:c.name.substring(0,21)})}),Object(q.jsx)("img",{src:c.image,onClick:function(){var e;if(u(!1),0==(null===c||void 0===c||null===(e=c.extras)||void 0===e?void 0:e.length)&&0==(null===c||void 0===c?void 0:c.nsteps)&&0==(null===c||void 0===c?void 0:c.isComp)&&0==(null===c||void 0===c?void 0:c.is_supp))Object(rt.b)("Ajout\xe9e !",{position:"bottom-center",autoClose:1e3,type:"success",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),x(Ce({order:Object(Y.a)(Object(Y.a)({},c),{},{qt:1,stepItems:{},remise:0,offert:!1,new:o?"true":"false"})}));else if(null!==c&&void 0!==c&&c.is_supp){var t,n;M(!0),de({active:null===c||void 0===c?void 0:c.active,cat_id:null===c||void 0===c?void 0:c.cat_id,description:null===c||void 0===c?void 0:c.description,extras:null===c||void 0===c?void 0:c.extras,id:null===c||void 0===c?void 0:c.id,image:null===c||void 0===c?void 0:c.image,isComp:null===c||void 0===c?void 0:c.isComp,is_alcool:null===c||void 0===c?void 0:c.is_alcool,is_cold:null===c||void 0===c?void 0:c.is_cold,is_hot:null===c||void 0===c?void 0:c.is_hot,is_supp:null===c||void 0===c?void 0:c.is_supp,name:null===c||void 0===c?void 0:c.name,nsteps:null===c||void 0===c?void 0:c.nsteps,price:null===c||void 0===c?void 0:c.price,tva:null===c||void 0===c?void 0:c.tva,drink_id:"",suaces_ids:[],suppSelected:[],qt:1,supplement:{drinks:Object(te.a)(null===c||void 0===c||null===(t=c.supplement)||void 0===t?void 0:t.drinks),sauces:Object(te.a)(null===c||void 0===c||null===(n=c.supplement)||void 0===n?void 0:n.sauces)}})}else D(!0),G(Object(Y.a)(Object(Y.a)({},c),{},{qt:1,stepItems:{},remise:0,offert:!1}))},className:"prod_img"}),Object(q.jsxs)("div",{className:"price",children:["".concat(c.price.toFixed(2)),Be("<i>".concat(Ee,"</i>"))]}),Object(q.jsx)(l.a,{onClick:function(e){return X(!0)},icon:d.G,size:"1x",style:{position:"absolute",top:"0px",right:"5px",color:"red",backgroundColor:"white",borderRadius:"25%"}})]}),Object(q.jsx)("div",{className:"supp_modal",children:L?Object(q.jsx)(at,{setDrinks:xe,setSuppSelected:he,setShowSupplements:M,handleaAddDrink:function(e){e==pe?(xe(null),de(Object(Y.a)(Object(Y.a)({},le),{},{drink_id:e.id,price:c.price}))):(xe(e),de(Object(Y.a)(Object(Y.a)({},le),{},{drink_id:e.id,price:c.price+e.price})))},suppSelected:be,drinks:pe,handleAddOrderWithSupp:ve,orderWithSupp:le,order_id:o}):""}),Object(q.jsxs)(me.a,{dialogClassName:"modal_body",show:T,onHide:function(){D(!1),E(1)},children:[Object(q.jsx)(me.a.Header,{closeButton:!0,children:Object(q.jsxs)(me.a.Title,{children:[Object(q.jsx)("img",{width:"30px",height:"30px",src:c.image}),null===K||void 0===K?void 0:K.name]})}),Object(q.jsxs)(me.a.Body,{children:[Object(q.jsx)("p",{children:null===K||void 0===K?void 0:K.description}),null!==K&&void 0!==K&&K.extras&&null!==K&&void 0!==K&&K.extras.length?null===K||void 0===K?void 0:K.extras.map((function(e,t){return Object(q.jsxs)("tr",{style:{display:"flex",width:"50%"},children:[Object(q.jsxs)("td",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",height:"30px",width:"25%",marginRight:"1rem"},children:[Object(q.jsx)(l.a,{onClick:function(){return fe({extraKey:t,sign:"-"})},icon:d.v,color:"#ff6b6b"}),Object(q.jsx)("h5",{children:Object(q.jsx)("b",{children:e.default_quantity})}),Object(q.jsx)(l.a,{onClick:function(){return fe({extraKey:t,sign:"+"})},icon:d.A,color:"#ff6b6b"})]}),Object(q.jsxs)("td",{style:{marginRight:"1rem"},children:[" ",Object(q.jsx)("h5",{children:Object(q.jsx)("b",{children:e.title})})]}),Object(q.jsxs)("td",{children:[" ",Object(q.jsx)("h5",{children:Object(q.jsxs)("b",{style:{display:"flex",color:"#ff6b6b"},children:[e.price.toFixed(2)," ",Be("<i>".concat(Ee,"</i>"))]})})]})]})})):null!==K&&void 0!==K&&K.isComp?Object(q.jsx)(it.a,{variant:"dark",children:Object.keys((null===K||void 0===K?void 0:K.slots)||{}).map((function(e){var t;return Object(q.jsxs)(it.a.Item,{style:{height:"15rem",width:"100%",textAlign:"center"},className:"chejm",children:[Object(q.jsxs)("h3",{children:[" ",e]}),Object(q.jsxs)("div",{style:(t={display:"flex",justifyContent:"space-around"},Object(h.a)(t,"display","flex"),Object(h.a)(t,"alignItems","center"),Object(h.a)(t,"marginTop","2rem"),t),children:[null===K||void 0===K?void 0:K.slots[e].products.map((function(t){return Object(q.jsxs)("div",{style:{cursor:"pointer",position:"relative"},onClick:function(){return function(e){var t=e.slotKey,n=e.id;console.log(t,n);var c=JSON.parse(JSON.stringify(K)||{});c.slots[t].products.forEach((function(e){e.id==n?e.checked=!0:e.checked=!1,console.log(e.name)})),G(c)}({slotKey:e,id:t.id})},children:[Object(q.jsx)("h6",{children:Object(q.jsx)("b",{style:{color:t.checked?"#ff6b6b":"black"},children:t.name})}),Object(q.jsx)("img",{src:t.image,width:"50px",height:"50px",style:{borderRadius:"50%",borderColor:t.checked?"#ff6b6b":"black"}}),t.checked?Object(q.jsx)(l.a,{icon:d.l,color:"#ff6b6b",style:{position:"absolute",top:"50px",right:"20px"}}):""]})}))," "]})]})}))}):(null===K||void 0===K?void 0:K.nsteps)>0?Object(q.jsxs)("div",{children:[Object(q.jsx)("h6",{children:Object(q.jsx)("b",{children:null===(t=v.filter((function(e){return(null===e||void 0===e?void 0:e.menu_id)==(null===K||void 0===K?void 0:K.id)}))[0][B])||void 0===t?void 0:t.nom_etape})}),Object(q.jsx)("div",{className:"steps_cont",children:null===(n=v.filter((function(e){return e.menu_id==(null===K||void 0===K?void 0:K.id)}))[0][B])||void 0===n?void 0:n.choice.map((function(e){var t;return Object(q.jsxs)("div",{className:null!==K&&void 0!==K&&null!==(t=K.stepItems[B])&&void 0!==t&&t.find((function(t){return t.id==e}))?"prod_sel prod":"prod",onClick:function(){return function(e){var t=e.id,n=e.STP;console.log("stp",n),N(B);var c=JSON.parse(JSON.stringify(K)||{}),i=n.max_select;void 0==c.stepItems[B]&&(c.stepItems[B]=[],console.log(c)),c.stepItems[B].length<i&&(c.stepItems[B].find((function(e){return e.id==t}))||(console.log("will push now"),c.stepItems[B].push(Ie(t)))),c.stepItems[B].find((function(e){return e.id==t}))||(c.stepItems[B]=[],c.stepItems[B].push(Ie(t))),G(c),console.log("done"),console.log(c)}({id:e,STP:v.filter((function(e){return e.menu_id==(null===K||void 0===K?void 0:K.id)}))[0][B]})},children:[Object(q.jsx)("img",{src:Ie(e).image,alt:"",height:"70px",width:"70px"}),Object(q.jsxs)("h6",{style:{display:"flex"},children:[Object(q.jsxs)("b",{children:[Ie(e).name," "]}),Object(q.jsx)("span",{children:Object(q.jsxs)("b",{style:{display:"flex",marginLeft:"1rem",marginRight:"1rem",color:"#ff6b6b"},children:[Ie(e).price," ",Be("<i>".concat(Ee,"</i>"))]})})," "]}),Object(q.jsx)("p",{children:Ie(e).description})]})}))}),(null===K||void 0===K?void 0:K.nsteps)>=B&&B>0?Object(q.jsx)(A.a,{style:{marginRight:"1rem"},variant:"outline-secondary",onClick:function(){B>1&&E(B-1)},children:"Retour"}):"",(null===K||void 0===K?void 0:K.nsteps)>B&&B>0?Object(q.jsx)(A.a,{variant:"outline-warning",onClick:function(){(null===K||void 0===K?void 0:K.nsteps)>B&&w==B&&E(B+1)},children:"Suivant"}):"",(null===K||void 0===K?void 0:K.nsteps)==B?Object(q.jsx)(A.a,{variant:"outline-warning",onClick:function(){w==B&&(Object(rt.b)("Ajout\xe9e !",{position:"bottom-center",autoClose:1e3,type:"success",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),x(Ce({order:Object(Y.a)(Object(Y.a)({},K),{},{new:o?"true":"false"})})),ye({show:!0,msg:p("added"),type:"success"}),D(!1),E(1))},children:"Finir"}):""]}):""]}),Object(q.jsxs)(me.a.Footer,{children:[Object(q.jsx)(A.a,{variant:"secondary",onClick:function(){D(!1),E(1)},children:p("cancel")}),0==(null===K||void 0===K?void 0:K.nsteps)||null!==K&&void 0!==K&&K.isComp?Object(q.jsx)(A.a,{style:{backgroundColor:"#ff6b6b",borderColor:"#ff6b6b"},variant:"warning",onClick:function(){return Object(rt.b)("Ajout\xe9e !",{position:"bottom-center",autoClose:1e3,type:"success",hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),x(Ce({order:Object(Y.a)(Object(Y.a)({},K),{},{new:o?"true":"false"})})),ye({show:!0,msg:p("added"),type:"success"}),void D(!1)},children:p("aded")}):""]})]}),Object(q.jsxs)(me.a,{show:Z,onHide:function(){return X(!1)},children:[Object(q.jsx)(me.a.Header,{closeButton:!0,children:Object(q.jsx)(me.a.Title,{children:"Gestion de stock"})}),Object(q.jsxs)(me.a.Footer,{children:[Object(q.jsx)(A.a,{variant:"secondary",onClick:function(){return X(!1)},children:"Retour au tables"}),Object(q.jsx)(A.a,{variant:"danger",onClick:function(){return X(!1),void I.a.post("http://141.94.77.9:5000/api/resetwarehouse",{prod_id:c.id}).then((function(e){console.log(e.data),x(je({id:c.id})),z.a.fire({icon:"success",title:"produit mis hors stock !",showConfirmButton:!1,timer:1500})}))},children:"Hors stock"})]})]})]})},ot=function(e){var t=e.selectedCategory,n=e.setAlert,c=e.categories,i=e.order_id,r=e.setconfirmed,a=e.confirmed,s=Object(b.d)((function(e){return e.data.products})),o=c.filter((function(e){return e.id==t}))[0];return Object(q.jsxs)("div",{className:"meni-iteams",children:[Object(q.jsx)("h5",{style:{width:"100%"},children:Object(q.jsx)("b",{children:null===o||void 0===o?void 0:o.name})}),s.filter((function(e){return e.cat_id==t&&1==e.active})).sort((function(e,t){return e.position-t.position})).map((function(e){return Object(q.jsx)(st,{order_id:i,product:e,setAlert:n,confirmed:a,setconfirmed:r})}))]})},lt="data:image/png;base64,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",dt=function(e){var t,n,c=e.product,a=e.setAlert,o=e.order_id,u=e.setconfirmed,j=(e.confirmed,Object(i.useState)(0)),g=Object(s.a)(j,2),O=(g[0],g[1],R().t),m=Object(b.c)(),p=Object(b.d)((function(e){return e.data.nSteps})),x=Object(b.d)((function(e){return e.data.products})),v=Object(i.useState)(1),f=Object(s.a)(v,2),C=f[0],y=f[1],B=Object(i.useState)(1),E=Object(s.a)(B,2),Q=E[0],k=E[1],w=Object(i.useState)(!1),N=Object(s.a)(w,2),S=N[0],_=N[1],T=Object(i.useState)(void 0),D=Object(s.a)(T,2),F=D[0],P=D[1],L=Object(i.useState)(!1),M=Object(s.a)(L,2),J=M[0],H=M[1],K=Object(i.useState)(null),G=Object(s.a)(K,2),W=(G[0],G[1]),U=Object(b.d)((function(e){return e.order.client})),Z=Object(b.d)((function(e){return e.data.tva_mode})),X=Object(i.useState)(0),V=Object(s.a)(X,2),$=V[0];V[1];Object(i.useEffect)((function(){var e;"surplace"==U.type||"livraison"==U.type?(e=Z.find((function(e){return"surplace"==e.nom})).valeur,W(e)):"emporter"==U.type&&(e=Z.find((function(e){return"emporter"==e.nom})).valeur,W(e)),$>0&&W(e=$),console.log(e)}),[]);var ee=function(e){var t=e.extraKey,n=e.sign;console.log("handleExtra",{extraKey:t,sign:n});var c=JSON.parse(JSON.stringify(F)||{});"+"==n&&c.extras[t].default_quantity<1?(c.extras[t].default_quantity+=1,console.log(c),P(c)):c.extras[t].default_quantity>0&&(c.extras[t].default_quantity-=1,console.log(c),P(c))},te=function(e){var t=e.show,n=e.msg,c=e.type;a({show:t,msg:n,type:c}),setTimeout((function(){a({show:!1,msg:"",type:""})}),1500)},ne=function(e){return x.find((function(t){return t.id==e}))||{}},ce=function(e){return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e}})},ie=localStorage.getItem("currency");return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(rt.a,{}),Object(q.jsxs)("div",{className:"item_container",children:[Object(q.jsx)("p",{children:Object(q.jsx)("b",{children:c.name.substring(0,21)})}),Object(q.jsx)("img",{src:c.image,onClick:function(){var e;u(!1),0==(null===c||void 0===c||null===(e=c.extras)||void 0===e?void 0:e.length)&&0==(null===c||void 0===c?void 0:c.nsteps)&&0==(null===c||void 0===c?void 0:c.isComp)?m(Ce({order:Object(Y.a)(Object(Y.a)({},c),{},{qt:1,stepItems:{},remise:0,offert:!1,new:o?"true":"false"})})):(_(!0),P(Object(Y.a)(Object(Y.a)({},c),{},{qt:1,stepItems:{},remise:0,offert:!1})))},className:"prod_img"}),Object(q.jsxs)("div",{className:"price",children:["".concat(c.price.toFixed(2)),ce("<i>".concat(ie,"</i>"))]}),Object(q.jsx)(l.a,{onClick:function(e){return H(!0)},icon:d.G,size:"1x",style:{position:"absolute",top:"0px",right:"5px",color:"red",backgroundColor:"white",borderRadius:"25%"}})]}),Object(q.jsxs)(me.a,{dialogClassName:"modal_body",show:S,onHide:function(){_(!1),y(1)},children:[Object(q.jsx)(me.a.Header,{closeButton:!0,children:Object(q.jsxs)(me.a.Title,{children:[Object(q.jsx)("img",{width:"30px",height:"30px",src:c.image}),null===F||void 0===F?void 0:F.name]})}),Object(q.jsxs)(me.a.Body,{children:[Object(q.jsx)("p",{children:null===F||void 0===F?void 0:F.description}),null!==F&&void 0!==F&&F.extras&&null!==F&&void 0!==F&&F.extras.length?null===F||void 0===F?void 0:F.extras.map((function(e,t){return Object(q.jsxs)("tr",{style:{display:"flex",width:"50%"},children:[Object(q.jsxs)("td",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",height:"30px",width:"25%",marginRight:"1rem"},children:[Object(q.jsx)(l.a,{onClick:function(){return ee({extraKey:t,sign:"-"})},icon:d.v,color:"#ff6b6b"}),Object(q.jsx)("h5",{children:Object(q.jsx)("b",{children:e.default_quantity})}),Object(q.jsx)(l.a,{onClick:function(){return ee({extraKey:t,sign:"+"})},icon:d.A,color:"#ff6b6b"})]}),Object(q.jsxs)("td",{style:{marginRight:"1rem"},children:[" ",Object(q.jsx)("h5",{children:Object(q.jsx)("b",{children:e.title})})]}),Object(q.jsxs)("td",{children:[" ",Object(q.jsx)("h5",{children:Object(q.jsxs)("b",{style:{display:"flex",color:"#ff6b6b"},children:[e.price.toFixed(2)," ",ce("<i>".concat(ie,"</i>"))]})})]})]})})):null!==F&&void 0!==F&&F.isComp?Object(q.jsx)(it.a,{variant:"dark",children:Object.keys((null===F||void 0===F?void 0:F.slots)||{}).map((function(e){var t;return Object(q.jsxs)(it.a.Item,{style:{height:"15rem",width:"100%",textAlign:"center"},children:[Object(q.jsxs)("h3",{children:[" ",e]}),Object(q.jsxs)("div",{style:(t={display:"flex",justifyContent:"space-around"},Object(h.a)(t,"display","flex"),Object(h.a)(t,"alignItems","center"),Object(h.a)(t,"marginTop","2rem"),t),children:[null===F||void 0===F?void 0:F.slots[e].products.map((function(t){return Object(q.jsxs)("div",{style:{cursor:"pointer",position:"relative"},onClick:function(){return function(e){var t=e.slotKey,n=e.id;console.log(t,n);var c=JSON.parse(JSON.stringify(F)||{});c.slots[t].products.forEach((function(e){e.id==n?e.checked=!0:e.checked=!1,console.log(e.name)})),P(c)}({slotKey:e,id:t.id})},children:[Object(q.jsx)("h6",{children:Object(q.jsx)("b",{style:{color:t.checked?"#ff6b6b":"black"},children:t.name})}),Object(q.jsx)("img",{src:t.image,width:"50px",height:"50px",style:{borderRadius:"50%",borderColor:t.checked?"#ff6b6b":"black"}}),t.checked?Object(q.jsx)(l.a,{icon:d.l,color:"#ff6b6b",style:{position:"absolute",top:"50px",right:"20px"}}):""]})}))," "]})]})}))}):(null===F||void 0===F?void 0:F.nsteps)>0?Object(q.jsxs)("div",{children:[Object(q.jsx)("h6",{children:Object(q.jsx)("b",{children:null===(t=p.filter((function(e){return(null===e||void 0===e?void 0:e.menu_id)==(null===F||void 0===F?void 0:F.id)}))[0][C])||void 0===t?void 0:t.nom_etape})}),Object(q.jsx)("div",{className:"steps_cont",children:null===(n=p.filter((function(e){return e.menu_id==(null===F||void 0===F?void 0:F.id)}))[0][C])||void 0===n?void 0:n.choice.map((function(e){var t;return Object(q.jsxs)("div",{className:null!==F&&void 0!==F&&null!==(t=F.stepItems[C])&&void 0!==t&&t.find((function(t){return t.id==e}))?"prod_sel prod":"prod",onClick:function(){return function(e){var t=e.id,n=e.STP;console.log("stp",n),k(C);var c=JSON.parse(JSON.stringify(F)||{}),i=n.max_select;void 0==c.stepItems[C]&&(c.stepItems[C]=[],console.log(c)),c.stepItems[C].length<i&&(c.stepItems[C].find((function(e){return e.id==t}))||(console.log("will push now"),c.stepItems[C].push(ne(t)))),c.stepItems[C].find((function(e){return e.id==t}))||(c.stepItems[C]=[],c.stepItems[C].push(ne(t))),P(c),console.log("done"),console.log(c)}({id:e,STP:p.filter((function(e){return e.menu_id==(null===F||void 0===F?void 0:F.id)}))[0][C]})},children:[Object(q.jsx)("img",{src:ne(e).image,alt:"",height:"70px",width:"70px"}),Object(q.jsxs)("h6",{style:{display:"flex"},children:[Object(q.jsxs)("b",{children:[ne(e).name," "]}),Object(q.jsx)("span",{children:Object(q.jsxs)("b",{style:{display:"flex",marginLeft:"1rem",marginRight:"1rem",color:"#ff6b6b"},children:[ne(e).price," ",ce("<i>".concat(ie,"</i>"))]})})," "]}),Object(q.jsx)("p",{children:ne(e).description})]})}))}),(null===F||void 0===F?void 0:F.nsteps)>=C&&C>0?Object(q.jsx)(A.a,{style:{marginRight:"1rem"},variant:"outline-secondary",onClick:function(){C>1&&y(C-1)},children:"Retour"}):"",(null===F||void 0===F?void 0:F.nsteps)>C&&C>0?Object(q.jsx)(A.a,{variant:"outline-warning",onClick:function(){(null===F||void 0===F?void 0:F.nsteps)>C&&Q==C&&y(C+1)},children:"Suivant"}):"",(null===F||void 0===F?void 0:F.nsteps)==C?Object(q.jsx)(A.a,{variant:"outline-warning",onClick:function(){Q==C&&(m(Ce({order:Object(Y.a)(Object(Y.a)({},F),{},{new:o?"true":"false"})})),te({show:!0,msg:O("added"),type:"success"}),_(!1),y(1))},children:"Finir"}):""]}):""]}),Object(q.jsxs)(me.a.Footer,{children:[Object(q.jsx)(A.a,{variant:"secondary",onClick:function(){_(!1),y(1)},children:O("cancel")}),0==(null===F||void 0===F?void 0:F.nsteps)||null!==F&&void 0!==F&&F.isComp?Object(q.jsx)(A.a,{style:{backgroundColor:"#ff6b6b",borderColor:"#ff6b6b"},variant:"warning",onClick:function(){return m(Ce({order:Object(Y.a)(Object(Y.a)({},F),{},{new:o?"true":"false"})})),te({show:!0,msg:O("added"),type:"success"}),void _(!1)},children:O("aded")}):""]})]}),Object(q.jsxs)(me.a,{show:J,onHide:function(){return H(!1)},children:[Object(q.jsx)(me.a.Header,{closeButton:!0,children:Object(q.jsx)(me.a.Title,{children:"Gestion de stock"})}),Object(q.jsxs)(me.a.Footer,{children:[Object(q.jsx)(A.a,{variant:"secondary",onClick:function(){return H(!1)},children:"Retour au tables"}),Object(q.jsx)(A.a,{variant:"danger",onClick:function(){return H(!1),void I.a.post("http://141.94.77.9:5000/api/resetwarehouse",{prod_id:c.id}).then((function(e){console.log(e.data),m(je({id:c.id})),z.a.fire({icon:"success",title:"produit mis hors stock !",showConfirmButton:!1,timer:1500})}))},children:"Hors stock"})]})]})]})},ut=function(){R().t;var e,t=Object(o.f)(),n=Object(i.useState)(!1),c=Object(s.a)(n,2),r=c[0],a=c[1];var u=Object(b.d)((function(e){return e.order.selectedTable})),A=Object(o.g)(),h=localStorage.getItem("user_id"),g=A.order_id,O=Object(b.d)((function(e){return e.data.categories})),m=Object(i.useState)(null===(e=O[0])||void 0===e?void 0:e.id),p=Object(s.a)(m,2),x=p[0],v=p[1],f=Object(i.useState)({show:!1,msg:"",type:""}),C=Object(s.a)(f,2),y=(C[0],C[1]),B=localStorage.getItem("username")||"",E=Object(i.useState)((new Date).toLocaleTimeString("fa-IR")),Q=Object(s.a)(E,2),k=(Q[0],Q[1]),w=Object(i.useState)({level:0,charging:!1}),N=Object(s.a)(w,2),S=(N[0],N[1],Object(i.useState)(!1)),_=Object(s.a)(S,2),T=_[0],D=_[1],F=Object(i.useState)(""),P=Object(s.a)(F,2),L=(P[0],P[1],Object(b.d)((function(e){return e.data.products})));Object(i.useEffect)((function(){var e=setInterval((function(){return M()}),1e3);return function(){clearInterval(e)}}),[]);var M=function(){k((new Date).toLocaleTimeString("fr-fr").replace(/(.*)\D\d+/,"$1"))},J=Object(b.c)();Object(i.useEffect)((function(){I.a.post("http://141.94.77.9:5000/api/categories",{user_id:h}).then((function(e){return J(se({categories:e.data.sort((function(e,t){return e.cat_order-t.cat_order}))}))})),I.a.post("http://141.94.77.9:5000/api/products",{user_id:h,category:0}).then((function(e){J(oe({products:e.data.products})),J(le({nSteps:e.data.menuSteps}))}))}),[]);var z=Object(i.useState)("default"),H=Object(s.a)(z,2),K=H[0],G=H[1],W=Object(i.useState)(""),V=Object(s.a)(W,2),Y=V[0],$=V[1];Object(i.useRef)();return Object(q.jsxs)("div",{children:[Object(q.jsx)(U.a,{style:{backgroundColor:"#0dcaf0",height:"70px"},variant:"warning",children:Object(q.jsxs)(Z.a,{children:[Object(q.jsx)(U.a.Brand,{children:Object(q.jsx)("div",{class:"logo-container",children:Object(q.jsx)("img",{id:"chrome",class:"logo",src:ee})})}),Object(q.jsx)("div",{onClick:function(){a(!0)},style:{cursor:"pointer"},children:Object(q.jsxs)("h6",{style:{color:"white",marginLeft:"1rem",marginTop:"0.5rem",padding:"5px"},children:[Object(q.jsx)("b",{children:"Recherecher"}),Object(q.jsx)(l.a,{icon:d.C,style:{marginLeft:"0.5rem"}})]})}),Object(q.jsx)(X.a,{className:"ms-auto",children:Object(q.jsx)(X.a.Link,{onClick:function(){t("/main"),J(Ee())},children:Object(q.jsx)("img",{width:"45px",src:lt,className:"table-icon"})})}),Object(q.jsxs)("h6",{className:"menu-server-logout",style:{color:"white",marginLeft:"1rem",marginTop:"0.5rem",borderLeft:"1px solid white",padding:"5px"},children:[Object(q.jsx)("img",{src:Ue,width:32,height:32,style:{marginRight:"0.5rem"}}),Object(q.jsx)("b",{children:B}),Object(q.jsx)(l.a,{onClick:function(){return localStorage.removeItem("user"),localStorage.removeItem("username"),void t("/")},size:"2x",icon:d.E,style:{marginLeft:"0.5rem",paddingTop:"0.5rem"}})]})]})}),Object(q.jsx)("div",{className:"cont_my",children:Object(q.jsxs)(qe.a,{style:{height:"85vh",paddingRight:"0 !important",backgroundColor:"white"},children:[Object(q.jsx)(He.a,{xs:2,children:Object(q.jsx)(ct,{selectedCategory:x,setSelectedCategory:v,categories:O})}),Object(q.jsx)(He.a,{xs:7,children:Object(q.jsx)(ot,{order_id:g,categories:O,selectedCategory:x,setAlert:y,confirmed:T,setconfirmed:D})}),Object(q.jsx)(He.a,{xs:3,children:Object(q.jsx)(nt,{selectedTable:u,confirmed:T,setconfirmed:D})}),Object(q.jsx)(We,{})]})}),r?Object(q.jsxs)("div",{className:"all-produc-menu",children:[Object(q.jsxs)("div",{className:"modal-heade",children:[Object(q.jsxs)("div",{className:"input-search-product",children:[Object(q.jsx)("input",{type:"text",placeholder:"Chercher un produit...",value:Y}),Object(q.jsx)(l.a,{icon:d.C,className:"Sm"})]}),Object(q.jsx)(l.a,{icon:d.G,className:"xm",onClick:function(){a(!1)}})]}),Object(q.jsx)("div",{className:"modal-bodys",children:L.filter((function(e){return e.name.toLowerCase().includes(Y.toLowerCase())||e.code.includes(Y)})).map((function(e,t){return Object(q.jsx)(dt,{order_id:g,setAlert:y,setconfirmed:D,product:e})}))}),Object(q.jsx)("div",{className:"keyboard",children:Object(q.jsx)(j.a,{layoutName:K,onChange:function(e){$(e)},onKeyPress:function(e){console.log("Button pressed",e),"{lock}"==e&&"default"==K&&G("shift"),"{lock}"==e&&"shift"==K&&G("default")}})})]}):""]})},jt=Object(m.c)({name:"caisse",initialState:{monnaies:[],initialValue:0},reducers:{setMonnaies:function(e,t){e.monnaies=t.payload.monnaies},clearcaisse:function(){return{caisse:""}},setInitialValue:function(e,t){e.initialValue=t.payload.montant}}}),At=jt.reducer,bt=jt.actions,ht=bt.setMonnaies,gt=(bt.clearcaisse,bt.setInitialValue),Ot=At,mt=n(330),pt=n.p+"static/media/coin.3b947962.png",xt=n.p+"static/media/billet.8e0c912a.png",vt=n.p+"static/media/sound.861677ae.mp3",ft=function(){var e=Object(b.c)(),t=Object(o.f)(),n=Object(i.useState)(new Audio(vt)),c=Object(s.a)(n,2),a=c[0];c[1];Object(i.useEffect)((function(){a.play()}),[]);var l=localStorage.getItem("caisse_open"),d=localStorage.getItem("caisse_id"),u=localStorage.getItem("user_id"),h=localStorage.getItem("username"),g=(Object(b.d)((function(e){return e.caisse.monnaies})),Object(i.useState)([])),O=Object(s.a)(g,2),m=O[0],p=(O[1],Object(i.useState)(0)),x=Object(s.a)(p,2),v=(x[0],x[1]),f=localStorage.getItem("currency"),C=Object(i.useState)(!0),y=Object(s.a)(C,2),B=y[0],E=y[1],Q=Object(i.useState)(""),k=Object(s.a)(Q,2),w=(k[0],k[1]),N=Object(i.useState)(["9 8 7","6 5 4","3 2 1","0 {bksp}"]),S=Object(s.a)(N,2),_=S[0],T=(S[1],Object(i.useRef)()),D=Object(i.useState)(0),F=Object(s.a)(D,2),P=F[0],L=F[1],M=Object(i.useState)([{value:0,real:.02},{value:0,real:.05},{value:0,real:.1},{value:0,real:.2},{value:0,real:.5},{value:0,real:1},{value:0,real:5},{value:0,real:10},{value:0,real:20},{value:0,real:50},{value:0,real:100},{value:0,real:200},{value:0,real:2},{value:0,real:.2},{value:0,real:.1}]),R=Object(s.a)(M,2),J=R[0],H=R[1],K=function(e){var t=e.e,n=(e.index,t.target.value);w(n);var c=Object(te.a)(J);c[P].value=Number(n),H(c),T.current.setInput(n),v(G())};Object(i.useEffect)((function(){I.a.post("http://141.94.77.9:5000/api/getMonnaie",{user_id:u}).then((function(t){e(ht({monnaies:t.data}))}))}),[]),Object(i.useEffect)((function(){if(a.play(),console.log(a),1==l){var e=new Date,n=("00"+(e.getMonth()+1)).slice(-2)+"/"+("00"+e.getDate()).slice(-2)+"/"+e.getFullYear()+" "+("00"+e.getHours()).slice(-2)+":"+("00"+e.getMinutes()).slice(-2)+":"+("00"+e.getSeconds()).slice(-2);z.a.fire({icon:"success",title:"caisse Ouvert !",text:"Date ouverture :"+n,showConfirmButton:!1,timer:1500}),t("/main")}}),[B]);var G=function(){var e=0;return J.map((function(t){e+=t.value*t.real,console.log(e)})),e},V=function(e){return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e}})};return Object(q.jsxs)("div",{className:"my_container",children:[Object(q.jsx)(W,{title:"cashierr"}),Object(q.jsx)("div",{className:"toOpenCaisse",children:Object(q.jsxs)("div",{className:"mon_cont",children:[Object(q.jsxs)("div",{className:"piece",children:[Object(q.jsx)("img",{className:"piece-img-coin",src:pt,width:64,height:64,style:{position:"absolute"}}),Object(q.jsxs)("div",{className:"mon",children:[Object(q.jsxs)("span",{className:"flex",children:["2 ",V("<i>".concat(f,"</i>"))]}),Object(q.jsx)(mt.a,{value:J[12].value,onFocus:function(){L(12),T.current.setInput("")},onChange:function(e){K({e:e,index:12})},type:"number",className:"moninput"}),Object(q.jsxs)("span",{className:"flex",children:[J[12].value*J[12].real," ",V("<i>".concat(f,"</i>"))]})]}),Object(q.jsxs)("div",{className:"mon",children:[Object(q.jsxs)("span",{className:"flex",children:["1 ",V("<i>".concat(f,"</i>"))]}),Object(q.jsx)(mt.a,{onFocus:function(){L(5),T.current.setInput("")},value:J[5].value,onChange:function(e){return K({e:e,index:5})},type:"number",className:"moninput"}),Object(q.jsxs)("span",{className:"flex",children:[J[5].value*J[5].real," ",V("<i>".concat(f,"</i>"))]})]}),Object(q.jsxs)("div",{className:"mon",children:[Object(q.jsxs)("span",{className:"flex",children:["0.5 ",V("<i>".concat(f,"</i>"))]}),Object(q.jsx)(mt.a,{value:J[4].value,onFocus:function(){L(4),T.current.setInput("")},onChange:function(e){return K({e:e,index:4})},type:"number",className:"moninput"}),Object(q.jsxs)("span",{className:"flex",children:[J[4].value*J[4].real," ",V("<i>".concat(f,"</i>"))]})]}),Object(q.jsxs)("div",{className:"mon",children:[Object(q.jsxs)("span",{className:"flex",children:["0.2 ",V("<i>".concat(f,"</i>"))]}),Object(q.jsx)(mt.a,{value:J[13].value,onFocus:function(){L(13),T.current.setInput("")},onChange:function(e){return K({e:e,index:13})},type:"number",className:"moninput"}),Object(q.jsxs)("span",{className:"flex",children:[J[13].value*J[13].real," ",V("<i>".concat(f,"</i>"))]})]}),Object(q.jsxs)("div",{className:"mon",children:[Object(q.jsxs)("span",{className:"flex",children:["0.1 ",V("<i>".concat(f,"</i>"))]}),Object(q.jsx)(mt.a,{value:J[14].value,onFocus:function(){L(14),T.current.setInput("")},onChange:function(e){return K({e:e,index:14})},type:"number",className:"moninput"}),Object(q.jsxs)("span",{className:"flex",children:[J[14].value*J[14].real," ",V("<i>".concat(f,"</i>"))]})]}),Object(q.jsx)(j.a,{theme:"hg-theme-default hg-layout-default myTheme2",display:{"{bksp}":"EFFACER"},buttonTheme:[{class:"key_btn2",buttons:"0 1 2 3 4 5 6 7 8 9 {bksp} {enter}"},{class:"hg-highlight",buttons:"Q q"}],keyboardRef:function(e){return T.current=e},layoutName:"default",layout:{default:_},onChange:function(e){w(e),console.log("Input changed",e);var t=Object(te.a)(J);t[P].value=Number(e),H(t),w("")},onKeyPress:function(e){console.log("Button pressed",e)}})]}),Object(q.jsxs)("div",{className:"billet",children:[Object(q.jsx)("img",{src:xt,width:64,height:64,style:{position:"absolute"}}),Object(q.jsxs)("div",{className:"mon",children:[Object(q.jsxs)("span",{className:"flex",children:["200 ",V("<i>".concat(f,"</i>"))]}),Object(q.jsx)(mt.a,{value:J[11].value,onFocus:function(){L(11),T.current.setInput("")},onChange:function(e){return K({e:e,index:11})},type:"number",className:"moninput"}),Object(q.jsxs)("span",{className:"flex",children:[J[11].value*J[11].real," ",V("<i>".concat(f,"</i>"))]})]}),Object(q.jsxs)("div",{className:"mon",children:[Object(q.jsxs)("span",{className:"flex",children:["100 ",V("<i>".concat(f,"</i>"))]}),Object(q.jsx)(mt.a,{value:J[10].value,onFocus:function(){L(10),T.current.setInput("")},onChange:function(e){return K({e:e,index:10})},type:"number",className:"moninput"}),Object(q.jsxs)("span",{className:"flex",children:[J[10].value*J[10].real," ",V("<i>".concat(f,"</i>"))]})]}),Object(q.jsxs)("div",{className:"mon",children:[Object(q.jsxs)("span",{className:"flex",children:["50 ",V("<i>".concat(f,"</i>"))]}),Object(q.jsx)(mt.a,{value:J[9].value,onFocus:function(){L(9),T.current.setInput("")},onChange:function(e){return K({e:e,index:9})},type:"number",className:"moninput"}),Object(q.jsxs)("span",{className:"flex",children:[J[9].value*J[9].real," ",V("<i>".concat(f,"</i>"))]})]}),Object(q.jsxs)("div",{className:"mon",children:[Object(q.jsxs)("span",{className:"flex",children:["20 ",V("<i>".concat(f,"</i>"))]}),Object(q.jsx)(mt.a,{value:J[8].value,onFocus:function(){L(8),T.current.setInput("")},onChange:function(e){return K({e:e,index:8})},type:"number",className:"moninput"}),Object(q.jsxs)("span",{className:"flex",children:[J[8].value*J[8].real," ",V("<i>".concat(f,"</i>"))]})]}),Object(q.jsxs)("div",{className:"mon",children:[Object(q.jsxs)("span",{className:"flex",children:["10 ",V("<i>".concat(f,"</i>"))]}),Object(q.jsx)(mt.a,{value:J[7].value,onFocus:function(){L(7),T.current.setInput("")},onChange:function(e){return K({e:e,index:7})},type:"number",className:"moninput"}),Object(q.jsxs)("span",{className:"flex",children:[J[7].value*J[7].real," ",V("<i>".concat(f,"</i>"))]})]}),Object(q.jsxs)("div",{className:"mon",children:[Object(q.jsxs)("span",{className:"flex",children:["5 ",V("<i>".concat(f,"</i>"))]}),Object(q.jsx)(mt.a,{value:J[6].value,onFocus:function(){L(6),T.current.setInput("")},onChange:function(e){return K({e:e,index:6})},type:"number",className:"moninput"}),Object(q.jsxs)("span",{className:"flex",children:[J[6].value*J[6].real," ",V("<i>".concat(f,"</i>"))]})]}),Object(q.jsxs)("div",{className:"caisse-ovrir-caisse",children:[Object(q.jsx)("h4",{className:"grand-total",children:Object(q.jsxs)("b",{children:["Grand Total : ",Object(q.jsx)("br",{}),Object(q.jsxs)("span",{style:{display:"flex"},children:[G().toFixed(2),V("<i>".concat(f,"</i>"))]})]})}),Object(q.jsx)(A.a,{onClick:function(){return function(){if(G()>0){console.log(m),console.log(G());var t={caisse_id:d,date:Date.now(),montant:G(),type:"open"};console.log(t),I.a.post("http://141.94.77.9:5000/api/OpenCaisse",{user_id:u,user:h,montant:G(),historiquePrint:t,historique_monnaie:m}).then((function(t){var n;console.log(t.data);var c=null===(n=t.data.historiquePrint)||void 0===n?void 0:n.montant;e(gt({montant:c})),localStorage.setItem("caisse_open",1),E(!B)}))}else z.a.fire({icon:"error",title:"Fond initial est 0 !",showConfirmButton:!1,timer:1500})}()},variant:"warning",className:"open_btn",size:"lg",children:"Ouvrir Caisse"}),Object(q.jsx)(A.a,{onClick:function(){return function(){var t={caisse_id:d,date:Date.now(),montant:30,type:"open"};I.a.post("http://141.94.77.9:5000/api/OpenCaisse",{user_id:u,user:h,montant:30,historiquePrint:t,historique_monnaie:m}).then((function(t){var n;console.log(t.data);var c=null===(n=t.data.historiquePrint)||void 0===n?void 0:n.montant;e(gt({montant:c})),localStorage.setItem("caisse_open",1),E(!B)}))}()},variant:"warning",className:"open_btn-30",size:"lg",children:"Ouvrir avec 30\u20ac"})]})]})]})}),Object(q.jsx)(U.a,{bg:"light",variant:"light",fixed:"bottom",children:Object(q.jsxs)(Z.a,{children:[Object(q.jsxs)(U.a.Brand,{href:"#home",children:["Tous droits reserv\xe9es ",Object(q.jsx)("b",{children:"CAISSECONNECT.FR"})," \xa9 2022"]}),Object(q.jsx)(X.a,{className:"me-auto",children:Object(q.jsx)(X.a.Link,{href:"#home"})})]})})]})},Ct=(n(402),n(403),n(653)),yt=n(103),It=n.n(yt),Bt=function(e){e.data;var t,n,c,i,r,a,s,o,l,d,u,j,A,b,h,g,O,m,p,x=e.recap,v=e.selectedDate,f=e.products,C=e.tvas,y=e.tvasum,I=null===x||void 0===x||null===(t=x.lastOuverture)||void 0===t?void 0:t.date.substr(0,10),B=null===x||void 0===x||null===(n=x.lastOuverture)||void 0===n?void 0:n.date.substr(11,5),E=(new Date).toISOString().substr(11,5),Q=I+"  "+B;return console.log(null===(c=x.today)||void 0===c?void 0:c.tva),Object(q.jsxs)("div",{className:"ticketz",children:[Object(q.jsxs)("div",{className:"z-head",children:[Object(q.jsx)("h3",{children:null===(i=x.Restaurant)||void 0===i?void 0:i.name}),Object(q.jsx)("h1",{children:"Ticket Z"}),Object(q.jsx)("p",{children:null===(r=x.Restaurant)||void 0===r?void 0:r.address}),Object(q.jsxs)("p",{children:["Tel : ",null===(a=x.Restaurant)||void 0===a?void 0:a.telephone]})]}),Object(q.jsxs)("div",{className:"z-body",children:[Object(q.jsx)("p",{children:"---------------------------------"}),Object(q.jsxs)("div",{className:"b_el",children:[Object(q.jsx)("p",{children:Object(q.jsx)("b",{children:"Impression :"})}),Object(q.jsx)("p",{children:v+" "+E})]}),Object(q.jsxs)("div",{className:"b_el",children:[Object(q.jsx)("p",{children:Object(q.jsx)("b",{children:"Ouverture :"})}),Object(q.jsx)("p",{children:Q})]}),Object(q.jsxs)("div",{className:"b_el",children:[Object(q.jsx)("p",{children:Object(q.jsx)("b",{children:"Fermeture :"})}),Object(q.jsx)("p",{children:v+" "+E})]}),Object(q.jsx)("p",{children:"---------------------------------"}),Object(q.jsxs)("h6",{children:[Object(q.jsx)("b",{children:"Commandes :"})," ",null===(s=x.today)||void 0===s?void 0:s.nbr]}),Object(q.jsxs)("h6",{children:[Object(q.jsx)("b",{children:"Clients :"})," ",Object.keys((null===(o=x.today)||void 0===o?void 0:o.clientGroups)||{}).length]}),Object(q.jsxs)("h6",{children:[Object(q.jsx)("b",{children:"Ticket moyen :"})," ",Number((((null===(l=x.today)||void 0===l?void 0:l.total)+(null===(d=x.today)||void 0===d?void 0:d.tva))/(null===(u=x.today)||void 0===u?void 0:u.nbr)).toFixed(2))||0,"\u20ac"]}),Object(q.jsxs)("h6",{children:[Object(q.jsx)("b",{children:"Annules :"})," ",(null===(j=x.today)||void 0===j||null===(A=j.logs)||void 0===A?void 0:A.filter((function(e){return"Annulation"==e.title_log})).length)||0]}),Object(q.jsx)("p",{children:"---------------------------------"}),null===f||void 0===f?void 0:f.map((function(e){return Object(q.jsxs)("div",{className:"b_el",children:[Object(q.jsx)("p",{children:Object(q.jsx)("b",{children:e.quantity+" X "+e.name})}),Object(q.jsxs)("p",{children:[e.totalPrice.toFixed(2),"\u20ac"]})]})})),Object(q.jsx)("p",{children:"---------------------------------"}),Object.keys((null===(b=x.today)||void 0===b?void 0:b.groups)||{}).map((function(e){var t,n;return Object(q.jsxs)("div",{className:"b_el",children:[Object(q.jsxs)("p",{children:[Object(q.jsxs)("b",{children:[null===(t=x.today)||void 0===t?void 0:t.groups[e].length," X "]}),Object(q.jsx)("b",{children:1==e?"Carte Bancaire":2==e?"Esp\xe9ces":e})]}),Object(q.jsx)("p",{children:(null===(n=x.today)||void 0===n?void 0:n.groups[e].reduce((function(e,t){return e+(t.price+t.price*t.tva/100)}),0).toFixed(2))+"\u20ac"})]})})),Object(q.jsx)("p",{children:"---------------------------------"}),Object.keys(C||{}).map((function(e){return Object(q.jsxs)("div",{className:"b_el",children:[Object(q.jsx)("p",{children:Object(q.jsxs)("b",{children:["TVA(",Number(e).toFixed(2),"%)"]})}),Object(q.jsxs)("p",{children:[C[e].toFixed(2),"\u20ac"]})]})})),Object(q.jsxs)("div",{className:"b_el",children:[Object(q.jsx)("p",{children:Object(q.jsx)("b",{children:"Total HT"})}),Object(q.jsxs)("p",{children:[null===(h=x.today)||void 0===h?void 0:h.total.toFixed(2),"\u20ac"]})]}),Object(q.jsxs)("div",{className:"b_el",children:[Object(q.jsx)("p",{children:Object(q.jsx)("b",{children:"Total TTC"})}),Object(q.jsxs)("p",{children:[((null===(g=x.today)||void 0===g?void 0:g.total)+y).toFixed(2),"\u20ac"]})]}),Object(q.jsx)("p",{children:"---------------------------------"}),Object(q.jsxs)("div",{className:"b_el",children:[Object(q.jsx)("p",{children:Object(q.jsx)("b",{children:"Fond de caisse initial"})}),Object(q.jsxs)("p",{children:[null===(O=x.lastOuverture)||void 0===O?void 0:O.montant.toFixed(2),"\u20ac"]})]}),Object(q.jsxs)("div",{className:"b_el",children:[Object(q.jsx)("p",{children:Object(q.jsx)("b",{children:"Fond de caisse final"})}),Object(q.jsxs)("p",{children:[((null===(m=x.lastOuverture)||void 0===m?void 0:m.montant)+(null===(p=x.today)||void 0===p?void 0:p.total)+y).toFixed(2),"\u20ac"]})]})]})]})},Et=n(150),Qt=n.n(Et),kt=function(e){var t,n,c,i,r=e.zHistory;return Object(q.jsxs)("div",{className:"ticketz",children:[Object(q.jsxs)("div",{className:"z-head",children:[Object(q.jsx)("h3",{children:null===(t=r.restaurant)||void 0===t?void 0:t.name}),Object(q.jsx)("h1",{children:"Ticket Z"}),Object(q.jsx)("p",{children:null===(n=r.restaurant)||void 0===n?void 0:n.address}),Object(q.jsxs)("p",{children:["Tel : ",null===(c=r.restaurant)||void 0===c?void 0:c.telephone]})]}),Object(q.jsxs)("div",{className:"z-body",children:[Object(q.jsx)("p",{children:"---------------------------------"}),Object(q.jsxs)("div",{className:"b_el",children:[Object(q.jsx)("p",{children:Object(q.jsx)("b",{children:"Impression :"})}),Object(q.jsx)("p",{children:r.impression})]}),Object(q.jsxs)("div",{className:"b_el",children:[Object(q.jsx)("p",{children:Object(q.jsx)("b",{children:"Ouverture :"})}),Object(q.jsx)("p",{children:r.ouverture})]}),Object(q.jsxs)("div",{className:"b_el",children:[Object(q.jsx)("p",{children:Object(q.jsx)("b",{children:"Fermeture :"})}),Object(q.jsx)("p",{children:r.fermeture})]}),Object(q.jsx)("p",{children:"---------------------------------"}),Object(q.jsxs)("h6",{children:[Object(q.jsx)("b",{children:"Commandes :"})," ",r.commandes]}),Object(q.jsxs)("h6",{children:[Object(q.jsx)("b",{children:"Clients :"})," ",r.clients]}),Object(q.jsxs)("h6",{children:[Object(q.jsx)("b",{children:"Ticket moyen :"})," ",r.ticket_moyen,"\u20ac"]}),Object(q.jsxs)("h6",{children:[Object(q.jsx)("b",{children:"Annules :"})," ",r.cancledOrders.length||0]}),Object(q.jsx)("p",{children:"---------------------------------"}),null===(i=r.products)||void 0===i?void 0:i.map((function(e){return Object(q.jsxs)("div",{className:"b_el",children:[Object(q.jsx)("p",{children:Object(q.jsx)("b",{children:e.quantity+" X "+e.name})}),Object(q.jsxs)("p",{children:[e.totalPrice.toFixed(2),"\u20ac"]})]})})),Object(q.jsx)("p",{children:"---------------------------------"}),Object.keys(r.pay_method||{}).map((function(e){var t,n,c;return Object(q.jsx)("div",{className:"b_el",children:Object(q.jsxs)("p",{children:[null===(t=r.pay_method[e])||void 0===t?void 0:t.qt," ",null===(n=r.pay_method[e])||void 0===n?void 0:n.name," : ",null===(c=r.pay_method[e])||void 0===c?void 0:c.prix]})})})),Object(q.jsx)("p",{children:"---------------------------------"}),Object.keys(r.tvas||{}).map((function(e){return Object(q.jsxs)("div",{className:"b_el",children:[Object(q.jsx)("p",{children:Object(q.jsxs)("b",{children:["TVA(",Number(e).toFixed(2),"%)"]})}),Object(q.jsxs)("p",{children:[r.tvas[e].toFixed(2),"\u20ac"]})]})})),Object(q.jsxs)("div",{className:"b_el",children:[Object(q.jsx)("p",{children:Object(q.jsx)("b",{children:"Total HT"})}),Object(q.jsxs)("p",{children:[r.ht,"\u20ac"]})]}),Object(q.jsxs)("div",{className:"b_el",children:[Object(q.jsx)("p",{children:Object(q.jsx)("b",{children:"Total TTC"})}),Object(q.jsxs)("p",{children:[r.ttc,"\u20ac"]})]}),Object(q.jsx)("p",{children:"---------------------------------"}),Object(q.jsxs)("div",{className:"b_el",children:[Object(q.jsx)("p",{children:Object(q.jsx)("b",{children:"Fond de caisse initial"})}),Object(q.jsxs)("p",{children:[r.fond_initial,"\u20ac"]})]}),Object(q.jsxs)("div",{className:"b_el",children:[Object(q.jsx)("p",{children:Object(q.jsx)("b",{children:"Fond de caisse final"})}),Object(q.jsxs)("p",{children:[r.fond_final,"\u20ac"]})]})]})]})},wt=function(){var e,t,n,c,r,a,u,j,h,m,p,x,v,f,C,y,B=R().t,E=Object(b.c)(),Q=Object(o.f)(),k=localStorage.getItem("username")||"",w=localStorage.getItem("user_id")||"",N=localStorage.getItem("username")||"",S=localStorage.getItem("caisse_id"),_=new Date,T=_.toISOString().substr(0,10),D=Object(i.useState)(T),F=Object(s.a)(D,2),P=F[0],L=(F[1],Object(b.d)((function(e){return e.caisse.initialValue}))),M=Object(b.d)((function(e){return e.data.products})),J=Object(b.d)((function(e){return e.order.checkoutData})),H=(null===J||void 0===J||null===(e=J.filter((function(e){return"pending"==e.status&&e.date==T})))||void 0===e?void 0:e.length)||0,K=null===J||void 0===J?void 0:J.filter((function(e){return"rejected"==e.status})),G=Object(b.d)((function(e){return e.data.orderHistory}))||[],W=null===G||void 0===G||null===(t=G.slice())||void 0===t?void 0:t.sort((function(e,t){return t.id-e.id})).filter((function(e){return e.paymentsInDb&&e.paymentsInDb.length>0})),V=Object(i.useState)(L),$=Object(s.a)(V,2),te=$[0],ne=($[1],Object(i.useState)({})),ce=Object(s.a)(ne,2),ie=ce[0],re=ce[1],ae=Object(i.useState)(!1),se=Object(s.a)(ae,2),oe=se[0],le=(se[1],Object(i.useState)(1)),de=Object(s.a)(le,2),ue=de[0],je=de[1],Ae=Object(i.useState)({}),be=Object(s.a)(Ae,2),he=be[0],ge=be[1],Oe=Object(i.useState)({}),pe=Object(s.a)(Oe,2),xe=pe[0],ve=pe[1],fe=Object(i.useState)(!1),Ce=Object(s.a)(fe,2),ye=Ce[0],Ie=Ce[1],Be=Object(i.useState)(!1),Qe=Object(s.a)(Be,2),ke=Qe[0],we=Qe[1],Ne=Object(i.useState)(!1),Se=Object(s.a)(Ne,2),_e=Se[0],De=Se[1],Fe=Object(i.useState)([]),Pe=Object(s.a)(Fe,2),Le=Pe[0],Me=Pe[1],Re=null===ie||void 0===ie||null===(n=ie.lastOuverture)||void 0===n?void 0:n.date.substr(0,10),Je=null===ie||void 0===ie||null===(c=ie.lastOuverture)||void 0===c?void 0:c.date.substr(11,5),ze=_.toISOString().substr(11,5),qe=Re+"  "+Je,He=function(e){var t=e.id;return null===M||void 0===M?void 0:M.find((function(e){return e.id==t}))};Object(i.useEffect)((function(){I.a.post("http://141.94.77.9:5000/api/getHistoriqueZcaisse",{user_id:w}).then((function(e){return Me(e.data.allHistorique)})).catch((function(e){return console.log(e)}))}),[]),Object(i.useEffect)(Object(O.a)(Object(g.a)().mark((function e(){return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(P),e.next=3,I.a.post("http://141.94.77.9:5000/api/clotureData",{user_id:w,caisse_id:S,TODAY:P}).then((function(e){console.log("colturedata",e.data),re(e.data);var t=new FormData;t.append("rest_id",w),t.append("page",ue),t.append("date",P),I()({method:"post",url:"http://141.94.77.9/menu_premium_v2/index.php/api/order/venteCaisse",data:t,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e.data.data.data),ge(e.data)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)}))),[oe]);var Ke=null===(r=ie.today)||void 0===r||null===(a=r.orderItems)||void 0===a?void 0:a.map((function(e,t){var n,c;return{id:t,col1:null===(n=He({id:e.item_id}))||void 0===n?void 0:n.name,col2:e.quantity,col3:(null===(c=e.price)||void 0===c?void 0:c.toFixed(2))+"\u20ac",col4:(e.price*e.quantity).toFixed(2)+"\u20ac"}})),We=0;Object.keys((null===(u=ie.today)||void 0===u?void 0:u.tvas)||{}).map((function(e){var t;We+=null===(t=ie.today)||void 0===t?void 0:t.tvas[e]}));return Object(q.jsxs)("div",{children:[Object(q.jsx)(U.a,{variant:"warning",className:"colture_nav",children:Object(q.jsxs)(Z.a,{className:"colture_navbar",children:[Object(q.jsx)(U.a.Brand,{children:Object(q.jsx)("div",{class:"logo-container",children:Object(q.jsx)("img",{id:"chrome",class:"logo",src:ee})})}),Object(q.jsxs)("h6",{className:"zcaisse_history",onClick:function(){return De(!0)},children:[Object(q.jsx)(l.a,{size:"1x",icon:d.s,style:{marginRight:"0.5rem"}}),"Historique"]}),Object(q.jsxs)(X.a,{className:"ms-auto",children:[Object(q.jsx)(X.a.Link,{children:" "}),Object(q.jsx)(X.a.Link,{onClick:function(){Q("/main"),E(Ee())},children:Object(q.jsx)("img",{width:"45px",src:lt,className:"colture-table-icon"})})]}),Object(q.jsxs)("h6",{className:"cloture-server",style:{color:"white",marginLeft:"1rem",marginTop:"0.5rem",borderLeft:"1px solid white",padding:"5px"},children:[Object(q.jsx)("img",{className:"cloture_server_img",src:Ue,width:32,height:32,style:{marginRight:"0.5rem"}}),Object(q.jsx)("b",{children:N}),Object(q.jsx)(l.a,{onClick:function(){return localStorage.removeItem("user"),localStorage.removeItem("username"),void Q("/")},size:"2x",icon:d.E,style:{marginLeft:"0.5rem",paddingTop:"0.5rem"}})]})]})}),ie.today?Object(q.jsxs)("div",{style:{padding:"1rem",display:"flex",width:"100%",height:"93vh",overflow:"hidden",paddingTop:"1rem",backgroundColor:"white"},children:[Object(q.jsx)("div",{style:{width:"30%",height:"100vh"},children:Object(q.jsx)(Bt,{tvas:null===(j=ie.today)||void 0===j?void 0:j.tvas,products:null===(h=ie.today)||void 0===h||null===(m=h.orderItems)||void 0===m?void 0:m.map((function(e){var t;return Object(Y.a)(Object(Y.a)({},e),{},{totalPrice:e.price*e.quantity,name:null===(t=He({id:e.item_id}))||void 0===t?void 0:t.name})})),data:he,recap:ie,selectedDate:P,tvasum:We})}),Object(q.jsxs)("div",{style:{width:"70%",height:"100vh"},children:[Object(q.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-evenly"},children:[Object(q.jsxs)("div",{className:"rec",children:[Object(q.jsx)("h1",{children:Object(q.jsx)("b",{children:Object(q.jsx)(Qt.a,{value:ie.commandesTotal,formatValue:function(e){return e.toFixed(0)}})})}),Object(q.jsx)("h5",{children:"Total des commandes"})]}),Object(q.jsxs)("div",{className:"rec",children:[Object(q.jsx)("h1",{children:Object(q.jsx)("b",{children:Object(q.jsx)(Qt.a,{value:null===(p=ie.today)||void 0===p?void 0:p.clients,formatValue:function(e){return e.toFixed(0)}})})}),Object(q.jsx)("h5",{children:"Clients total"})]}),Object(q.jsxs)("div",{className:"rec",children:[Object(q.jsx)("h1",{children:Object(q.jsxs)("b",{children:[Object(q.jsx)(Qt.a,{value:ie.chiffre,formatValue:function(e){return e.toFixed(2)}})," ",Object(q.jsx)("br",{}),"\u20ac"]})}),Object(q.jsx)("h5",{children:"Chiffre d'affaire"})]}),Object(q.jsxs)("div",{className:"rec",children:[Object(q.jsx)("h1",{children:Object(q.jsxs)("b",{children:[Object(q.jsx)(Qt.a,{value:ie.chiffre/ie.commandesTotal,formatValue:function(e){return e.toFixed(2)}}),Object(q.jsx)("br",{}),"\u20ac"]})}),Object(q.jsx)("h5",{children:"Panier moyen"})]})]}),Object(q.jsxs)("div",{style:{width:"100%",height:"300px",marginTop:"1rem"},children:[Object(q.jsx)(Ct.a,{className:"colture-datagrid",loading:0==(null===Ke||void 0===Ke?void 0:Ke.length),pageSize:10,paginationMode:"client",onPageChange:function(e){je(e+1)},rowCount:null===he||void 0===he||null===(x=he.data)||void 0===x?void 0:x.total,rows:void 0==Ke?[]:Ke,columns:[{field:"id",headerName:"#",width:50},{field:"col1",headerName:"Nom",width:180},{field:"col2",headerName:"Quantit\xe9s",width:150},{field:"col3",headerName:"Prix",width:150},{field:"col4",headerName:"Sous-Total",width:150}]}),Object(q.jsxs)("div",{className:"colture_buttons",children:[Object(q.jsxs)("div",{style:{width:"100%",marginTop:"1rem",display:"flex",justifyContent:"center"},children:[Object(q.jsx)(A.a,{className:"colture_buton",onClick:function(){return function(){var e,t,n,c,i,r,a,s,o,l,d,u=[],j={surPlace:0,livraison:0,emporter:0,borne:0};W.map((function(e){return"surplace"==e.order_type?j.surPlace+=1:"emporter"==e.order_type?j.livraison+=1:"livraison"==e.order_type?j.emporter+=1:1==e.from_kiosk?j.borne+=1:void 0}));var A=function(e){var t,n=null===(t=ie.today)||void 0===t?void 0:t.groups[e],c=0;null===n||void 0===n||n.forEach((function(e){c=c+e.price+e.price*e.tva/100})),u.push({qt:n.length,name:e,prix:c})};for(var b in null===(h=ie.today)||void 0===h?void 0:h.groups){var h;A(b)}var g={5.5:0,10:0,20:0};for(var O in null===(m=ie.today)||void 0===m?void 0:m.tvas){var m,p,x=null===(p=ie.today)||void 0===p?void 0:p.tvas[O];for(var v in g)v==O&&(g[v]=x)}var f={restaurant:{name:ie.Restaurant.name,address:ie.Restaurant.address,telephone:ie.Restaurant.telephone},cancledOrders:K,ordersType:j,products:null===(e=ie.today)||void 0===e||null===(t=e.orderItems)||void 0===t?void 0:t.map((function(e){return Object(Y.a)(Object(Y.a)({},e),{},{totalPrice:e.price*e.quantity,name:He({id:e.item_id}).name})})),impression:P+" "+ze,ouverture:qe,fermeture:P+" "+ze,commandes:ie.today.nbr,logs:null===(n=ie.today.logs)||void 0===n?void 0:n.filter((function(e){return"Annulation"==e.title_log})),clients:Object.keys((null===(c=ie.today)||void 0===c?void 0:c.clientGroups)||{}).length,ticket_moyen:(((null===(i=ie.today)||void 0===i?void 0:i.total)+We)/(null===(r=ie.today)||void 0===r?void 0:r.nbr)).toFixed(2),pay_method:u,tva:g,ht:null===(a=ie.today)||void 0===a?void 0:a.total.toFixed(2),ttc:((null===(s=ie.today)||void 0===s?void 0:s.total)+We).toFixed(2),fond_initial:null===(o=ie.lastOuverture)||void 0===o?void 0:o.montant.toFixed(2),fond_final:((null===(l=ie.lastOuverture)||void 0===l?void 0:l.montant)+(null===(d=ie.today)||void 0===d?void 0:d.total)+We).toFixed(2)};I.a.post("http://141.94.77.9:5000/api/printzcaisse",{PrintData:f,user_id:w}).then((function(e){return console.log(e.data)})).catch((function(e){return console.log(e)}))}()},style:{marginRight:"1rem"},variant:"outline-info",children:"".concat(B("print")," X ").concat(B("ofCashier"))}),Object(q.jsx)(A.a,{className:"colture_buton",variant:"outline-danger",onClick:function(){return Ie(!ye)},children:"Visualiser Ticket"})]}),Object(q.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"1rem",height:"100px"},children:[Object(q.jsx)("h3",{style:{color:"#ff6b6b",fontWeight:"bold",marginRight:"1rem",width:"max-content"},children:((null===(v=ie.lastOuverture)||void 0===v?void 0:v.montant)+(null===(f=ie.today)||void 0===f?void 0:f.total)+We).toFixed(2)+" \u20ac"}),Object(q.jsx)(A.a,{variant:"danger",className:"clot_btn ",onClick:function(){return function(){var e,t,n,c,i,r,a,s,o,l,d,u=[],j={surPlace:0,livraison:0,emporter:0,borne:0};W.map((function(e){return"surplace"==e.order_type?j.surPlace+=1:"emporter"==e.order_type?j.livraison+=1:"livraison"==e.order_type?j.emporter+=1:1==e.from_kiosk?j.borne+=1:void 0}));var A=function(e){var t,n=null===(t=ie.today)||void 0===t?void 0:t.groups[e],c=0;null===n||void 0===n||n.forEach((function(e){c=c+e.price+e.price*e.tva/100})),u.push({qt:n.length,name:e,prix:c})};for(var b in null===(h=ie.today)||void 0===h?void 0:h.groups){var h;A(b)}var g={5.5:0,10:0,20:0};for(var O in null===(m=ie.today)||void 0===m?void 0:m.tvas){var m,p,x=null===(p=ie.today)||void 0===p?void 0:p.tvas[O];for(var v in g)v==O&&(g[v]=x)}var f={restaurant:{name:ie.Restaurant.name,address:ie.Restaurant.address,telephone:ie.Restaurant.telephone},cancledOrders:K,ordersType:j,products:null===(e=ie.today)||void 0===e||null===(t=e.orderItems)||void 0===t?void 0:t.map((function(e){return Object(Y.a)(Object(Y.a)({},e),{},{totalPrice:e.price*e.quantity,name:He({id:e.item_id}).name})})),impression:P+" "+ze,ouverture:qe,fermeture:P+" "+ze,commandes:ie.today.nbr,logs:null===(n=ie.today.logs)||void 0===n?void 0:n.filter((function(e){return"Annulation"==e.title_log})),clients:Object.keys((null===(c=ie.today)||void 0===c?void 0:c.clientGroups)||{}).length,ticket_moyen:(((null===(i=ie.today)||void 0===i?void 0:i.total)+We)/(null===(r=ie.today)||void 0===r?void 0:r.nbr)).toFixed(2),pay_method:u,tva:g,ht:null===(a=ie.today)||void 0===a?void 0:a.total.toFixed(2),ttc:((null===(s=ie.today)||void 0===s?void 0:s.total)+We).toFixed(2),fond_initial:null===(o=ie.lastOuverture)||void 0===o?void 0:o.montant.toFixed(2),fond_final:((null===(l=ie.lastOuverture)||void 0===l?void 0:l.montant)+(null===(d=ie.today)||void 0===d?void 0:d.total)+We).toFixed(2)},C={caisse_id:S,date:Date.now(),montant:te,type:"close"};0==H?I.a.post("http://141.94.77.9:5000/api/CloseCaisse",{user_id:w,user:k,montant:te,historiquePrint:C}).then((function(e){localStorage.clear(),E(Te()),z.a.fire({position:"center",icon:"success",title:"Caisse ferm\xe9e",showConfirmButton:!1,timer:1500}),I.a.post("http://141.94.77.9:5000/api/historiqueZcaisse",{PrintData:f,user_id:w}).then((function(e){return console.log(e.data)})).catch((function(e){return console.log(e)})),setTimeout((function(){Q("/init")}),1500)})):1==H?z.a.fire({position:"center",icon:"error",title:"Il ya ".concat(H," commande en cours"),showConfirmButton:!1,timer:2500}):z.a.fire({position:"center",icon:"error",title:"Il ya ".concat(H," commandes en cours"),showConfirmButton:!1,timer:2500})}()},children:B("close")})]})]})]})]})]}):Object(q.jsxs)("div",{className:"loading-z-caisse",children:[Object(q.jsx)("h1",{children:"Chargement de caisse..."}),Object(q.jsx)("img",{src:Ge,alt:"loading"})]}),Object(q.jsxs)(me.a,{show:ye,onHide:function(){return Ie(!1)},children:[Object(q.jsx)(me.a.Header,{closeButton:!0}),";",Object(q.jsx)(me.a.Body,{children:Object(q.jsx)("div",{className:"z-cais_show_ticket",children:Object(q.jsx)(Bt,{products:null===(C=ie.today)||void 0===C||null===(y=C.orderItems)||void 0===y?void 0:y.map((function(e){var t;return Object(Y.a)(Object(Y.a)({},e),{},{totalPrice:e.price*e.quantity,name:null===(t=He({id:e.item_id}))||void 0===t?void 0:t.name})})),data:he,recap:ie,selectedDate:P,tvasum:We})})}),Object(q.jsx)(me.a.Footer,{children:Object(q.jsx)(A.a,{variant:"secondary",onClick:function(){return Ie(!1)},children:"Fermer"})})]}),Object(q.jsxs)(me.a,{show:_e,onHide:function(){return De(!1)},children:[Object(q.jsx)(me.a.Header,{closeButton:!0,children:Object(q.jsx)("h4",{children:"Historique Z-Caisse"})}),Object(q.jsx)(me.a.Body,{children:Object(q.jsx)("div",{className:"z-cais_history",children:Le.map((function(e,t){return Object(q.jsxs)("div",{className:"z-history",children:[Object(q.jsxs)("h6",{children:[" Du ",e.data.ouverture,"  au ",e.data.fermeture]}),Object(q.jsxs)("div",{children:[Object(q.jsx)(A.a,{variant:"info",onClick:function(){return t=e.data,void I.a.post("http://141.94.77.9:5000/api/printzcaisse",{PrintData:t,user_id:w}).then((function(e){return console.log(e.data)})).catch((function(e){return console.log(e)}));var t},children:"Imprimer"}),Object(q.jsx)(A.a,{variant:"success",onClick:function(){return function(e){we(!0),ve(e),console.log(e)}(e.data)},style:{marginLeft:"1rem"},children:"Afficher"})]})]},t)}))})}),Object(q.jsx)(me.a.Footer,{children:Object(q.jsx)(A.a,{variant:"secondary",onClick:function(){return De(!1)},children:"Fermer"})})]}),Object(q.jsxs)(me.a,{show:ke,onHide:function(){return we(!1)},children:[Object(q.jsx)(me.a.Header,{closeButton:!0}),";",Object(q.jsx)(me.a.Body,{children:Object(q.jsx)("div",{className:"z-cais_show_ticket",children:Object(q.jsx)(kt,{zHistory:xe})})}),Object(q.jsx)(me.a.Footer,{children:Object(q.jsx)(A.a,{variant:"secondary",onClick:function(){return we(!1)},children:"Fermer"})})]})]})},Nt=(n(405),n(406),function(){var e=Object(b.d)((function(e){return e.data})),t=Object(i.useState)({products:e.products,categories:e.categories,nsteps:e.nSteps}),n=Object(s.a)(t,2),c=n[0];n[1];console.log(c);var r=Object(i.useState)(0),a=Object(s.a)(r,2),o=a[0],l=a[1],d=Object(i.useState)(0),u=Object(s.a)(d,2),j=u[0],g=u[1],O=Object(i.useState)(0),m=Object(s.a)(O,2),p=m[0],x=m[1],v=function(e){return c.products.find((function(t){return t.id==e}))||{}};return Object(i.useEffect)((function(){console.log("cat",o),console.log("prod",j),console.log("step",p),console.log(c.nsteps.filter((function(e){return e.product_id==j}))[0])}),[j,o,p]),Object(q.jsxs)("div",{className:"all",children:[Object(q.jsx)("div",{className:"cats",children:c.categories.filter((function(e){return 746==e.id})).map((function(e){return Object(q.jsxs)("div",{className:"cat",onClick:function(){l(e.id),x(0)},children:[Object(q.jsx)("img",Object(h.a)({src:e.picture,alt:"",height:"70px"},"height","70px")),Object(q.jsx)("h6",{children:e.name})]})}))}),Object(q.jsxs)("div",{className:"prods",children:[0==p?c.products.filter((function(e){return e.cat_id==o})).map((function(e){return Object(q.jsxs)("div",{className:"prod",onClick:function(){g(e.id),e.nsteps>p&&x(p+1)},children:[Object(q.jsx)("img",Object(h.a)({src:e.image,alt:"",height:"70px"},"height","70px")),Object(q.jsxs)("h6",{children:[e.name," ",Object(q.jsxs)("span",{children:["- ",e.price," $"]})," "]}),Object(q.jsx)("p",{children:e.description})]})})):c.nsteps.filter((function(e){return e.menu_id==j}))[0][p].choice.map((function(e){return Object(q.jsxs)("div",{className:"prod",children:[Object(q.jsx)("img",Object(h.a)({src:v(e).image,alt:"",height:"70px"},"height","70px")),Object(q.jsxs)("h6",{children:[v(e).name," ",Object(q.jsxs)("span",{children:["- ",v(e).price," $"]})," "]}),Object(q.jsx)("p",{children:v(e).description})]})})),v(j).nsteps>=p&&p>0?Object(q.jsx)(A.a,{onClick:function(){return x(p-1)},children:"retour"}):"",v(j).nsteps>p&&p>0?Object(q.jsx)(A.a,{onClick:function(){console.log(v(j)),v(j).nsteps>p&&x(p+1)},children:"suivant"}):"",v(j).nsteps==p?Object(q.jsx)(A.a,{children:"finir"}):""]}),Object(q.jsx)("div",{className:"cart"})]})}),St=(n(407),n.p,function(e){var t,n,c,a,l,d,u,j,A=e.order,h=e.thisDate,g=(e.ping,localStorage.getItem("address")),O=localStorage.getItem("user_id");console.log(A);Object(o.g)().table_id;var m=localStorage.getItem("telephone"),p=Object(i.useState)(A),x=Object(s.a)(p,2),v=x[0],f=x[1],C=(Object(b.d)((function(e){return e.order.checkoutData})),localStorage.getItem("currency")),y=Object(i.useState)(!0),B=Object(s.a)(y,2),E=(B[0],B[1],Object(i.useState)({})),Q=Object(s.a)(E,2),k=Q[0],w=Q[1];Object(i.useEffect)((function(){I.a.post("/api/getRestaurantData",{user_id:O}).then((function(e){console.log(e.data),w(e.data)})).catch((function(e){console.log(e)}))}),[v]),Object(i.useEffect)((function(){f(A)}),[A]),console.log(k),console.log(v);var N,S,_=(N=(null===v||void 0===v?void 0:v.tvas)||[],S="perc",N.reduce((function(e,t){return(e[t[S]]=e[t[S]]||[]).push(t.value),e}),{}));console.log(_);var T=0,D=!1;A.orderItems;if(null===(t=A.orderItems)||void 0===t||t.forEach((function(e){1==e.is_alcool&&(D=!0)})),1==D)T=20;else switch(void 0==A.orderType?A.order_type:A.orderType){case"surplace":case"sur place":default:T=10;break;case"emporter":case"livraison":T=5.5}var F=function(e){return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e}})};return Object(q.jsx)(Z.a,{fluid:!0,children:Object(q.jsx)("div",{className:"ticket",children:Object(q.jsxs)("div",{className:"ticket_container",children:[Object(q.jsx)("h3",{style:{marginTop:"0.5rem"},children:Object(q.jsx)("b",{children:"Ticket d'encaissement"})}),Object(q.jsxs)("p",{children:[k.name," ",Object(q.jsx)("br",{}),g||"-"+m||""," ",Object(q.jsx)("br",{}),"tel: ",k.telephone]}),Object(q.jsx)("h1",{children:Object(q.jsx)("b",{style:{fontSize:"56px"},children:null===v||void 0===v?void 0:v.order_id})}),Object(q.jsxs)("div",{className:"ticket_item",style:{flexWrap:"wrap"},children:[Object(q.jsxs)("p",{children:["Client :",v.customer_name]}),Object(q.jsxs)("p",{children:["Type :",v.orderType]}),Object(q.jsxs)("p",{children:["Numero :",v.customer_tel]}),Object(q.jsxs)("p",{children:["Adresse:",v.customer_adress]})]}),Object(q.jsx)("span",{style:{marginBottom:"0.5rem"},children:"-------------------------------------"}),v.orderItems&&v.orderItems.map((function(e,t){var n,c;return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)("div",{className:"ticket_item",children:[Object(q.jsx)("p",{children:t+1+"-"+(null===e||void 0===e?void 0:e.name)}),Object(q.jsxs)("div",{style:{display:"flex",width:"30%",justifyContent:"space-evenly"},children:[Object(q.jsx)("p",{children:void 0==(null===e||void 0===e?void 0:e.qt)?e.quantity:e.qt+"x"}),Object(q.jsxs)("p",{children:["  ".concat(null===e||void 0===e?void 0:e.price.toFixed(2)," ")," ",F("<i>".concat(C,"</i>"))]})]})]}),e.stepItems&&Object.keys(e.stepItems).length?Object(q.jsx)("div",{style:{display:"flex",flexDirection:"column"},className:"step_item",children:Object.keys(e.stepItems).map((function(t){return e.stepItems[t].map((function(e){return Object(q.jsxs)("span",{style:{textAlign:"start",color:"grey"},children:["-",e.name]})}))}))}):(null===e||void 0===e?void 0:e.steps)!=[]?Object(q.jsx)("div",{style:{display:"flex",flexDirection:"column"},className:"step_item",children:null===(n=e.steps)||void 0===n?void 0:n.map((function(e){return Object(q.jsxs)("span",{style:{textAlign:"start",color:"grey"},children:["-",e.name]})}))}):"",(null===e||void 0===e?void 0:e.extras)!=[]?null===e||void 0===e||null===(c=e.extras)||void 0===c?void 0:c.map((function(e){return e.default_quantity>0?Object(q.jsxs)("div",{className:"ticket_extra",children:[Object(q.jsxs)("p",{children:["+ ",e.title]}),Object(q.jsxs)("div",{style:{display:"flex",width:"30%",justifyContent:"space-evenly"},children:[" ",Object(q.jsx)("p",{children:e.default_quantity+"x"}),Object(q.jsxs)("p",{children:["  ".concat(e.price.toFixed(2)," "),F("<i>".concat(C,"</i>"))]})]})]}):""})):""]})})),Object(q.jsx)("span",{style:{marginBottom:"0.5rem"},children:"-------------------------------------"}),Object(q.jsxs)("div",{className:"ticket_item ticket_last",children:[Object(q.jsx)("p",{children:"Total HT : "}),Object(q.jsx)("div",{style:{display:"flex",width:"20%",justifyContent:"space-evenly"},children:Object(q.jsxs)("p",{children:[null===v||void 0===v?void 0:v.totalPrice," ",F("<i>".concat(C,"</i>"))]})})]}),(console.log(T),Object(q.jsxs)("div",{className:"ticket_item ticket_last",children:[Object(q.jsxs)("p",{children:["TVA(",T,"%):"]}),Object(q.jsx)("div",{style:{display:"flex",width:"20%",justifyContent:"space-evenly"},children:Object(q.jsxs)("p",{children:[((null===v||void 0===v?void 0:v.totalPrice)*T/100).toFixed(2),F("<i>".concat(C,"</i>"))]})})]})),Object(q.jsxs)("div",{className:"ticket_item ticket_last",children:[Object(q.jsx)("p",{children:"Total TTC : "}),Object(q.jsx)("div",{style:{display:"flex",width:"20%",justifyContent:"space-evenly"},children:Object(q.jsxs)("p",{children:[((null===v||void 0===v?void 0:v.totalPrice)+(null===v||void 0===v?void 0:v.totalPrice)*T/100).toFixed(2),F("<i>".concat(C,"</i>"))]})})]}),(null===(n=v.paymentsInDb)||void 0===n?void 0:n.length)>0&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("span",{style:{marginBottom:"0.5rem"},children:"-------------------------------------"}),null===(c=v.paymentsInDb)||void 0===c?void 0:c.map((function(e){return Object(q.jsxs)("div",{className:"ticket_item ticket_last",children:[Object(q.jsxs)("p",{children:["Pay\xe9(",e.pay_method,")"]}),Object(q.jsx)("div",{style:{display:"flex",width:"20%",justifyContent:"space-evenly"},children:Object(q.jsxs)("p",{children:[e.amount.toFixed(2),F("<i>".concat(C,"</i>"))]})})]})})),Object(q.jsx)("div",{className:"ticket_item ticket_last",children:(null===(a=v.paymentsInDb)||void 0===a?void 0:a.reduce((function(e,t){return e+t.amount}),0))-((null===v||void 0===v?void 0:v.totalPrice)+(null===v||void 0===v?void 0:v.totalPrice)*T/100)>0?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("p",{children:"Rendre monnaie"}),Object(q.jsx)("div",{style:{display:"flex",width:"20%",justifyContent:"space-evenly"},children:Object(q.jsxs)("p",{children:[null===(l=(null===(d=v.paymentsInDb)||void 0===d?void 0:d.reduce((function(e,t){return e+t.amount}),0))-((null===v||void 0===v?void 0:v.totalPrice)+(null===v||void 0===v?void 0:v.totalPrice)*T/100))||void 0===l?void 0:l.toFixed(2),F("<i>".concat(C,"</i>"))]})})]}):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("p",{children:"Reste a payer"}),Object(q.jsx)("div",{style:{display:"flex",width:"20%",justifyContent:"space-evenly"},children:Object(q.jsxs)("p",{children:[Math.abs(null===(u=(null===(j=v.paymentsInDb)||void 0===j?void 0:j.reduce((function(e,t){return e+t.amount}),0))-((null===v||void 0===v?void 0:v.totalPrice)+(null===v||void 0===v?void 0:v.totalPrice)*T/100))||void 0===u?void 0:u.toFixed(2)),F("<i>".concat(C,"</i>"))]})})]})})]}),Object(q.jsx)("p",{children:Object(q.jsx)("b",{children:null!==v&&void 0!==v&&v.part&&"partager"==(null===v||void 0===v?void 0:v.type)?Object(q.jsxs)("p",{style:{display:"flex"},children:["Votre part pour 1/".concat(null===v||void 0===v?void 0:v.part," personnes est : ").concat((((null===v||void 0===v?void 0:v.totalPrice)+(null===v||void 0===v?void 0:v.totalPrice)*T/100)/v.part).toFixed(2),"\n              "),F("<i>".concat(C,"</i>"))]}):""})}),Object(q.jsx)("p",{children:h}),Object(q.jsx)("img",{src:"https://chart.googleapis.com/chart?chs=200x200&cht=qr&chl=".concat(null===v||void 0===v?void 0:v.order_id,"&choe=UTF-8+"),width:"40%"}),Object(q.jsxs)("p",{children:["Scanner le numero de Commande ",null===v||void 0===v?void 0:v.order_id]})]})})})}),_t=(n(415),function(){var e,t,n,c,a,u,h,g,O,m,p,x,v,f,C,y=Object(i.useState)(!1),B=Object(s.a)(y,2),E=B[0],Q=B[1],k=localStorage.getItem("username")||"",w=Object(o.g)(),N=Object(b.c)(),S=Object(o.f)(),_=w.table_id;console.log(w);var T=Object(b.d)((function(e){return e.order.checkoutData})),D=Object(b.d)((function(e){return e.order.selectedTable})),F=Object(b.d)((function(e){return e.order.client}));console.log(T);var P=T.filter((function(e){return e.order_id==_}))[0]||{};console.log(P),void 0==P.totalPrice&&(P=Object(Y.a)(Object(Y.a)({},P),{},{totalPrice:P.price}));var L=new Date(void 0==P.Date?P.date:P.Date),M=null===L||void 0===L?void 0:L.getDate(),J=null===L||void 0===L?void 0:L.getMonth(),H=null===L||void 0===L?void 0:L.getFullYear(),K=null===L||void 0===L?void 0:L.getHours(),G=null===L||void 0===L?void 0:L.getMinutes(),W=Object(i.useState)(!1),V=Object(s.a)(W,2),$=V[0],ne=V[1],ce=Object(i.useState)(!1),ie=Object(s.a)(ce,2),re=ie[0],ae=ie[1],se=Object(i.useState)(!1),oe=Object(s.a)(se,2),le=oe[0],de=(oe[1],Object(i.useState)(1)),ue=Object(s.a)(de,2),je=ue[0],Ae=ue[1],be=Object(i.useState)("partager"),he=Object(s.a)(be,2),ge=he[0],pe=he[1],xe=Object(i.useState)("Especes"),ve=Object(s.a)(xe,2),fe=ve[0],Ce=ve[1],ye=Object(i.useState)(0),Ie=Object(s.a)(ye,2),Be=Ie[0],Ee=Ie[1],ke=Object(i.useState)(0),we=Object(s.a)(ke,2),Ne=we[0],Se=we[1],_e=Object(i.useState)(""),Te=Object(s.a)(_e,2),De=Te[0],Fe=(Te[1],Object(i.useState)(!1)),Pe=Object(s.a)(Fe,2),Le=Pe[0],Me=Pe[1],Re=Object(i.useState)(""),ze=Object(s.a)(Re,2),Ke=(ze[0],ze[1]),Ge=Object(i.useState)(1),Ze=Object(s.a)(Ge,2),Xe=Ze[0],Ye=Ze[1],$e=Object(i.useState)("pay"),et=Object(s.a)($e,2),tt=et[0],nt=et[1],ct=Object(i.useState)(!1),it=Object(s.a)(ct,2),rt=(it[0],it[1],Object(i.useState)("")),at=Object(s.a)(rt,2),st=at[0],ot=at[1],dt=Object(i.useState)([]),ut=Object(s.a)(dt,2),jt=ut[0],At=ut[1],bt=Object(i.useState)(0),ht=Object(s.a)(bt,2),gt=(ht[0],ht[1],localStorage.getItem("user_id")),Ot=0,mt=!1;P.orderItems;if(null===(e=P)||void 0===e||null===(t=e.orderItems)||void 0===t||t.forEach((function(e){20==e.tva&&(mt=!0)})),1==mt)Ot=20;else switch(void 0==P.orderType?P.order_type:P.orderType){case"surplace":case"sur place":default:Ot=10;break;case"emporter":case"livraison":Ot=5.5}var pt=function(){var e,t;I.a.post("http://141.94.77.9:5000/api/verifyCoupon",{code:st,user_id:gt,paidamount:null===(e=P)||void 0===e||null===(t=e.totalPrice)||void 0===t?void 0:t.toFixed(2)}).then((function(e){var t=e.data.couponInDb.discount,n=(new Date).toISOString().slice(0,10);e.data.couponInDb.expires_at>n?(Ee(Number(e.data.couponInDb.discount+Be)),Ce("ticket restaurant"),z.a.fire({icon:"success",title:"Coupon valid\xe9 pour ".concat(t," euro"),showConfirmButton:!1,timer:1500})):z.a.fire({icon:"warning",title:"Validit\xe9 epuis\xe9",showConfirmButton:!1,timer:1500})})).catch((function(e){return z.a.fire({icon:"warning",title:"Coupon non valide",showConfirmButton:!1,timer:1500})}))},xt=function(){return ne(!1)},vt=M+"-"+J+"-"+H+"-"+K+":"+G,ft=function(){Q(!0),I.a.post("http://141.94.77.9:5000/api/finalizeorder",{order:Object(Y.a)(Object(Y.a)({},P),{},{nbrCouverts:Xe,message:De,pay_method:fe,amount:Be,amountPaid:Ne})}).then((function(e){console.log(e.data),console.log(Be),console.log(Ne),At([].concat(Object(te.a)(jt),[{type:fe,value:Be}]));["Glovo","Just-Eat","Deliveroo","Uber Eats","ticket restaurant"].includes(fe);setTimeout((function(){var e,t;Ne+Be>=((null===(e=P)||void 0===e?void 0:e.totalPrice)+(null===(t=P)||void 0===t?void 0:t.totalPrice)*Ot/100).toFixed(2)&&yt()}),1),Ee(0)})).catch((function(e){console.log(e)}))},Ct=function(){console.log("called"),xt(),je>1?I.a.post("http://141.94.77.9:5000/api/updatehow_paid",{type:ge,order:P}).then((function(e){console.log(e.data),e.data&&S("/checkout2/".concat(_,"/").concat(ge,"/").concat(je))})).catch((function(e){console.log(e)})):ae(!0)},yt=function(){var e,t,n,c,i,r,a,s,o,l,d=0,u=!1;P.orderItems;if(P.orderItems.forEach((function(e){20==e.tva&&(u=!0)})),1==u)d=20;else switch(P.orderType){case"surplace":default:d=10;break;case"emporter":case"livraison":d=5.5}(I.a.post("http://141.94.77.9:5000/api/printFinalOrder",{user_id:gt,order:Object(Y.a)(Object(Y.a)({},P),{},{tvas:d,nbrCouverts:Xe,table_number:P.table||"",order_id:P.order_id,Date:new Date,amount:Be>=(null===(e=P)||void 0===e?void 0:e.totalPrice)+(100*Ot/(null===(t=P)||void 0===t?void 0:t.totalPrice)).toFixed(2)?((null===(n=P)||void 0===n?void 0:n.totalPrice)+100*Ot/(null===(c=P)||void 0===c?void 0:c.totalPrice)).toFixed(2)-Ne:Be-Ne,amountPaid:Be,paymentType:fe}),type:"payertout"}).then((function(e){return console.log(e.data)})).catch((function(e){return console.log(e)})),1==Le)&&I.a.post("http://141.94.77.9:5000/api/printnotefrais",{user_id:gt,order:Object(Y.a)(Object(Y.a)({},P),{},{tvas:d,nbrCouverts:Xe,table_number:P.table||"",order_id:P.order_id,Date:new Date,amount:Be>=(null===(a=P)||void 0===a?void 0:a.totalPrice)+((null===(s=P)||void 0===s?void 0:s.totalPrice)*Ot/100).toFixed(2)?((null===(o=P)||void 0===o?void 0:o.totalPrice)+(null===(l=P)||void 0===l?void 0:l.totalPrice)*Ot/100).toFixed(2)-Ne:Be-Ne,amountPaid:Be,paymentType:fe})}).then((function(e){return console.log(e.data)})).catch((function(e){return console.log(e)}));var j=(Be-((null===(i=P)||void 0===i?void 0:i.totalPrice)+(null===(r=P)||void 0===r?void 0:r.totalPrice)*Ot/100)).toFixed(2),A=Be.toFixed(2);z.a.fire({icon:"success",title:"<h5 >"+"le paiement effectu\xe9 avec succ\xe8s avec montant: <span style='color:red'>".concat(A,"\u20ac</span> du reste:<span style='color:green'>").concat(j,"\u20ac</span> ")+"</h5>",showConfirmButton:!1,timer:3e3}),Q(!1),S("/main"),N(Qe({order_id:_}))},It=function(e){return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e}})},Bt=localStorage.getItem("currency"),Et=R().t,Qt=Object(i.useRef)(),kt=Object(i.useState)(["9 8 7","6 5 4","3 2 1","0 , {bksp}"]),wt=Object(s.a)(kt,2),Nt=wt[0];wt[1];return Object(q.jsxs)("div",{style:{backgroundColor:"white"},children:[Object(q.jsx)(U.a,{variant:"warning",className:"navbar",children:Object(q.jsxs)(Z.a,{className:"history-navbar",children:[Object(q.jsx)(U.a.Brand,{children:Object(q.jsx)("div",{class:"logo-container",children:Object(q.jsx)("img",{id:"chrome",class:"logo",src:ee})})}),Object(q.jsxs)(X.a,{className:"ms-auto",children:[Object(q.jsx)(X.a.Link,{onClick:function(){return S("/main")},children:Object(q.jsx)("img",{width:"45px",src:lt,className:"table-icon"})}),Object(q.jsx)(X.a.Link,{children:Object(q.jsxs)("h6",{style:{color:"white",paddingTop:"1rem"},className:"agenda",children:[Object(q.jsx)(l.a,{icon:d.j,style:{marginRight:"5px"}}),"Agenda"]})}),Object(q.jsx)(X.a.Link,{onClick:function(){return S("/cloture")},children:Object(q.jsxs)("h6",{style:{color:"white",paddingTop:"1rem"},className:"checkout-cassier",children:[Object(q.jsx)(l.a,{icon:d.k,style:{marginRight:"5px"}}),Et("cashier")]})})]}),Object(q.jsxs)("h6",{className:"chekout-server",style:{color:"white",marginLeft:"1rem",marginTop:"0.5rem",borderLeft:"1px solid white",padding:"5px"},children:[Object(q.jsx)("img",{src:Ue,width:32,height:32,style:{marginRight:"0.5rem"}}),Object(q.jsx)("b",{children:k}),Object(q.jsx)(l.a,{onClick:function(){return localStorage.removeItem("user"),localStorage.removeItem("username"),void S("/")},size:"2x",icon:d.E,style:{marginLeft:"0.5rem",paddingTop:"0.5rem"}})]})]})}),Object(q.jsxs)(Z.a,{fluid:!0,children:[Object(q.jsxs)(qe.a,{className:"row_h",children:[Object(q.jsx)(He.a,{xs:8,className:"col_h",children:Object(q.jsxs)("div",{style:{marginTop:"1rem",height:"max-content",padding:"1rem",boxShadow:"rgba(17, 12, 46, 0.15) 0px 48px 100px 0px",overflow:"auto"},children:[Object(q.jsxs)("div",{style:{justifyContent:"space-between",display:"flex"},children:[Object(q.jsxs)("div",{className:"leftt",children:[Object(q.jsx)("h6",{className:"checkout-tbd",children:Object(q.jsx)("b",{children:"Commande"})}),Object(q.jsxs)("h6",{className:"checkout-tbd",children:[Object(q.jsx)(l.a,{icon:d.K,style:{color:"#ff6b6b",marginRight:"1rem"}}),Object(q.jsxs)("b",{children:["#",P.order_id]})]}),Object(q.jsxs)("h6",{className:"checkout-tbd",children:[Object(q.jsx)(l.a,{icon:d.s,style:{color:"#ff6b6b",marginRight:"1rem"}}),Object(q.jsx)("b",{children:vt})]}),"surplace"==P.orderType&&Object(q.jsxs)("h6",{className:"checkout-tbd",children:[Object(q.jsx)(l.a,{icon:d.K,style:{color:"#ff6b6b",marginRight:"1rem"}}),Object(q.jsxs)("b",{children:["Table ",D.nbr]})]})]}),Object.keys(F).length>0?Object(q.jsxs)("div",{className:"rightt",children:[Object(q.jsx)("h6",{className:"checkout-tbd",children:Object(q.jsx)("b",{children:F.name})}),Object(q.jsxs)("h6",{className:"checkout-tbd",children:[Object(q.jsx)(l.a,{icon:d.y,style:{color:"#ff6b6b",marginRight:"1rem"}}),Object(q.jsx)("b",{children:F.phone})]}),Object(q.jsxs)("h6",{className:"checkout-tbd",children:[Object(q.jsx)(l.a,{icon:d.u,style:{color:"#ff6b6b",marginRight:"1rem"}}),Object(q.jsx)("b",{children:F.address})]}),Object(q.jsxs)("h6",{className:"checkout-tbd",children:[Object(q.jsx)(l.a,{icon:d.n,style:{color:"#ff6b6b",marginRight:"1rem"}}),Object(q.jsx)("b",{children:P.orderType})]})]}):""]}),Object(q.jsxs)(Oe.a,{hover:!0,children:[Object(q.jsx)("thead",{className:"tbd",children:Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{children:"#"}),Object(q.jsx)("th",{children:"Article"}),Object(q.jsx)("th",{children:"Prix"}),Object(q.jsx)("th",{children:"Qt"}),Object(q.jsx)("th",{children:"Total"})]})}),Object(q.jsx)("tbody",{className:"ccc",children:null===(n=P)||void 0===n||null===(c=n.orderItems)||void 0===c?void 0:c.map((function(e,t){var n,c;return Object(q.jsxs)("tr",{children:[Object(q.jsx)("td",{children:t}),Object(q.jsxs)("td",{children:[e.name,Object(q.jsx)("br",{})]}),Object(q.jsxs)("td",{style:{display:"flex"},children:[null===(n=e.price)||void 0===n?void 0:n.toFixed(2)," ",It("<i>".concat(Bt,"</i>"))]}),Object(q.jsx)("td",{children:e.qt}),Object(q.jsxs)("td",{style:{display:"flex"},children:[null===(c=e.price)||void 0===c?void 0:c.toFixed(2)," ",It("<i>".concat(Bt,"</i>"))]})]})}))})]}),Object(q.jsx)(He.a,{xs:3,children:Object(q.jsx)(Oe.a,{children:Object(q.jsxs)("tbody",{className:"checkout-tbd",style:{width:"50%",height:"auto",align:"right"},children:[Object(q.jsxs)("tr",{children:[Object(q.jsx)("td",{children:Object(q.jsx)("h6",{className:"checkout-tbd",style:{display:"flex",fontWeight:"bold"},children:"Total HT :"})}),Object(q.jsx)("td",{children:Object(q.jsxs)("span",{style:{color:"#ff6b6b",display:"flex",marginLeft:"0.5rem",fontWeight:"bold"},children:[null===(a=P)||void 0===a||null===(u=a.totalPrice)||void 0===u?void 0:u.toFixed(2)," ",It("<i>".concat(Bt,"</i>"))]})})]}),Object(q.jsxs)("tr",{children:[Object(q.jsx)("td",{children:Object(q.jsxs)("h6",{className:"checkout-tbd",style:{display:"flex",fontWeight:"bold"},children:["TVA( ",Ot,"%)"]})}),Object(q.jsx)("td",{children:Object(q.jsxs)("span",{style:{color:"#ff6b6b",display:"flex",marginLeft:"0.5rem",fontWeight:"bold"},children:[((null===(h=P)||void 0===h?void 0:h.totalPrice)*Ot/100).toFixed(2),It("<i>".concat(Bt,"</i>"))]})})]}),Object(q.jsxs)("tr",{children:[Object(q.jsx)("td",{children:Object(q.jsxs)("h6",{className:"checkout-tbd",style:{display:"flex",fontWeight:"bold"},children:["TOTAL TTC :"," "]})}),Object(q.jsx)("td",{children:Object(q.jsxs)("span",{style:{color:"#ff6b6b",display:"flex",marginLeft:"0.5rem",fontWeight:"bold"},children:[" ",null===(g=(null===(O=P)||void 0===O?void 0:O.totalPrice)+(null===(m=P)||void 0===m?void 0:m.totalPrice)*Ot/100)||void 0===g?void 0:g.toFixed(2)," ",It("<i>".concat(Bt,"</i>"))]})})]})]})})}),Object(q.jsxs)("div",{className:"regler-addition-btns",children:[Object(q.jsx)(A.a,{variant:"outline-info",onClick:function(){return ne(!0)},className:"btn_chee",children:"R\xe9gler addition"}),"cooking"!=(null===(p=P)||void 0===p?void 0:p.status)&&"ready"!=(null===(x=P)||void 0===x?void 0:x.status)?Object(q.jsxs)(A.a,{variant:"outline-info",onClick:function(){var e;return S("/menu/"+(null===(e=P)||void 0===e?void 0:e.order_id))},className:"btn_chee",children:[Object(q.jsx)(l.a,{icon:d.q,style:{marginRight:"0.5rem"}}),"Modifier la commande"]}):""]})]})}),Object(q.jsx)(He.a,{xs:4,className:"col_h",children:Object(q.jsx)(St,{order:P,thisDate:vt})})]}),Object(q.jsx)(We,{}),Object(q.jsxs)(me.a,{show:$,onHide:xt,children:[Object(q.jsx)(me.a.Header,{closeButton:!0,children:Object(q.jsx)(me.a.Title,{children:"Addition"})}),Object(q.jsxs)(me.a.Body,{children:[Object(q.jsxs)(qe.a,{children:[Object(q.jsxs)(He.a,{xs:4,style:{borderRight:"1px solid black"},children:[Object(q.jsxs)("h5",{children:[Object(q.jsx)(l.a,{icon:d.J,style:{color:"#ff6b6b",marginRight:"0.5rem"}}),Object(q.jsx)("b",{children:"Nombre de parts :"})]}),Object(q.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",marginTop:"15%"},children:[Object(q.jsx)(l.a,{color:"#ff6b6b",icon:d.d,size:"2x",onClick:function(){je>1&&Ae(je-1)}}),Object(q.jsx)("h3",{children:je}),Object(q.jsx)(l.a,{color:"#ff6b6b",icon:d.e,size:"2x",onClick:function(){je<P.nbrCouverts&&Ae(je+1)}})]})]}),Object(q.jsx)(He.a,{xs:8,children:Object(q.jsxs)("div",{style:{display:"block",width:"80%",textAlign:"center"},children:[Object(q.jsx)("h5",{children:"Choix de l'addition"}),Object(q.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-evenly"},children:[Object(q.jsxs)("div",{onClick:function(){return pe("partager")},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(q.jsx)(l.a,{icon:d.h,size:"6x",color:"partager"==ge?"#ff6b6b":"grey",className:"faborder"}),Object(q.jsx)("h6",{children:"partager"})]}),Object(q.jsxs)("div",{onClick:function(){return pe("repartir")},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(q.jsx)(l.a,{icon:d.i,size:"6x",color:"repartir"==ge?"#ff6b6b":"grey",className:"faborder"}),Object(q.jsx)("h6",{children:"Repartir"})]}),Object(q.jsx)(A.a,{variant:"info",onClick:function(){return Ct()},className:"btn_che",style:{marginLeft:"2rem",backgroundColor:"#ff6b6b"},children:Object(q.jsx)("b",{children:"Payer tout"})})]})]})})]}),";"]}),Object(q.jsxs)(me.a.Footer,{children:[Object(q.jsx)(A.a,{variant:"secondary",onClick:xt,children:"Fermer"}),Object(q.jsx)(A.a,{className:"bgcolor",variant:"warning",onClick:function(){return Ct()},children:"Payer"})]})]}),Object(q.jsxs)(me.a,{show:re,onHide:function(){return ae(!1)},children:[Object(q.jsx)(me.a.Header,{closeButton:!0,children:Object(q.jsx)(me.a.Title,{children:"finaliser Commande"})}),Object(q.jsx)(me.a.Body,{children:Object(q.jsxs)(qe.a,{children:[Object(q.jsxs)(He.a,{xs:"5",children:[Object(q.jsxs)(Je.a,{onSubmit:function(e){e.preventDefault(),pt()},children:[Object(q.jsxs)(Je.a.Label,{children:[" ",Object(q.jsx)("b",{children:"Paiement Re\xe7u"})," "]}),Object(q.jsx)(Je.a.Control,{onFocus:function(e){nt("pay"),Qt.current.setInput("")},placeholder:"0.00",value:Ne,onChange:function(e){Ee(e.target.value)},readOnly:!0})]}),Object(q.jsxs)("h6",{style:{marginTop:"1rem"},children:[" ",Object(q.jsx)("b",{children:"Reste \xe0 devoir"})," "]}),Object(q.jsx)("h4",{style:{color:"red"},children:Object(q.jsxs)("b",{style:{display:"flex"},children:[" ",((null===(v=P)||void 0===v?void 0:v.totalPrice)+(null===(f=P)||void 0===f?void 0:f.totalPrice)*Ot/100-Ne).toFixed(2),It("<i>".concat(Bt,"</i>"))]})}),Object(q.jsxs)(Je.a,{onSubmit:function(e){e.preventDefault(),pt()},children:[Object(q.jsxs)(Je.a.Group,{style:{marginTop:"2rem"},className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[Object(q.jsxs)(Je.a.Label,{children:[" ",Object(q.jsx)("b",{children:"Details de paiement"})," "]}),Object(q.jsx)("div",{style:{height:"150px",overflow:"auto"},children:jt.map((function(e){return Object(q.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(q.jsx)("h5",{children:e.type}),Object(q.jsxs)("h5",{children:[e.value,"\u20ac"]})]})}))})]}),Object(q.jsxs)(Je.a.Group,{style:{marginTop:"2rem"},className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[Object(q.jsxs)(Je.a.Label,{children:[" ",Object(q.jsx)("b",{children:"Scanner code remise"})," "]}),Object(q.jsx)(Je.a.Control,{rows:1,placeholder:"*11111111111111*",onChange:function(e){return ot(e.target.value)}})]})]})]}),Object(q.jsxs)(He.a,{xs:"5",children:[Object(q.jsxs)(Je.a,{onSubmit:function(e){return e.preventDefault()},children:[Object(q.jsxs)(Je.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(q.jsx)(Je.a.Label,{children:Object(q.jsx)("b",{children:"Addition Total"})}),Object(q.jsx)(Je.a.Control,{readOnly:!0,type:"number",placeholder:"0.00",value:(P.totalPrice+(null===(C=P)||void 0===C?void 0:C.totalPrice)*Ot/100).toFixed(2)})]}),Object(q.jsxs)(Je.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(q.jsxs)(Je.a.Label,{children:[" ",Object(q.jsx)("b",{children:"Methode de paiement"})," "]}),Object(q.jsxs)(Je.a.Select,{"aria-label":"Default select example",onChange:function(e){return Ce(e.target.value)},children:[Object(q.jsx)("option",{value:"espece",children:"Especes"}),Object(q.jsx)("option",{value:"carte bleu",children:"Carte bleu"}),Object(q.jsx)("option",{value:"ticket restaurant",children:"Ticket restaurant"}),Object(q.jsx)("option",{value:"cheque",children:"Cheque"}),Object(q.jsx)("option",{value:"Glovo",children:"Glovo"}),Object(q.jsx)("option",{value:"Just-Eat",children:"Just-Eat"}),Object(q.jsx)("option",{value:"Deliveroo",children:"Deliveroo"}),Object(q.jsx)("option",{value:"Uber Eats",children:"Uber Eats"})]})]})]}),Object(q.jsxs)(Je.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(q.jsx)(Je.a.Label,{children:Object(q.jsx)("b",{children:"Total"})}),Object(q.jsx)(Je.a.Control,{type:"number",placeholder:"0.00",value:Be,onChange:function(e){return Ee(Number(e.target.value))}})]}),Object(q.jsx)(j.a,{theme:"hg-theme-default hg-layout-default myTheme5",display:{"{bksp}":"EFFACER"},buttonTheme:[{class:"key_btn3",buttons:"0 1 2 3 4 5 6 7 8 9 , {bksp} {enter}"},{class:"hg-highlight",buttons:"Q q"}],keyboardRef:function(e){console.log(e),Qt.current=e},layoutName:"default",layout:{default:Nt},onChange:function(e){for(var t=0,n=0;n<e.length;n++){var c=e[n];if(","==c){if(++t>=2)break}else if(0==n&&","==c){t=2;break}}if(t<2){if(Ke(e),console.log("Input changed",e),"pay"==tt){var i=function(e,t){var n=Number(1111.11).toLocaleString(t).replace(/\d+/g,"").split("");return null===e?null:(1==n.length&&n.unshift(""),Number(String(e).replace(new RegExp(n[0].replace(/\s/g," "),"g"),"").replace(n[1],".")))}(e,"fr");console.log(i),Ee(i),Ke("")}else Ye(e),Ke("");Ke("")}else Ke(""),console.log("Input changed",e),"pay"==tt?(Ee(0),Qt.current.setInput("0"),Ke("")):(Ye(e),Ke("")),Ke("")},onKeyPress:function(e){console.log("Button pressed",e)}})]}),Object(q.jsxs)(He.a,{xs:"2",className:"show-pay-modal",children:[Object(q.jsxs)(A.a,{style:{display:"flex",width:"100%",textAlign:"center",marginBottom:"0.5rem",paddingLeft:"2rem"},onClick:function(){Ee(Be+.5),Qt.current.setInput(String(Be+.5))},children:["0.5 ",It("<i>".concat(Bt,"</i>"))]}),Object(q.jsxs)(A.a,{style:{display:"flex",width:"100%",textAlign:"center",marginBottom:"0.5rem",paddingLeft:"2rem"},onClick:function(){Ee(Be+1),Qt.current.setInput(String(Be+1))},children:["1 ",It("<i>".concat(Bt,"</i>"))]}),Object(q.jsxs)(A.a,{style:{display:"flex",width:"100%",textAlign:"center",marginBottom:"0.5rem",paddingLeft:"2rem"},onClick:function(){Ee(Be+2),Qt.current.setInput(String(Be+2))},children:["2 ",It("<i>".concat(Bt,"</i>"))]}),Object(q.jsxs)(A.a,{style:{display:"flex",width:"100%",textAlign:"center",marginBottom:"0.5rem",paddingLeft:"2rem"},onClick:function(){Ee(Be+5),Qt.current.setInput(String(Be+5))},children:["5 ",It("<i>".concat(Bt,"</i>"))]}),Object(q.jsxs)(A.a,{style:{display:"flex",width:"100%",textAlign:"center",marginBottom:"0.5rem",paddingLeft:"2rem"},onClick:function(){Ee(Be+10),Qt.current.setInput(String(Be+10))},children:["10 ",It("<i>".concat(Bt,"</i>"))]}),Object(q.jsxs)(A.a,{style:{display:"flex",width:"100%",textAlign:"center",marginBottom:"0.5rem",paddingLeft:"2rem"},onClick:function(){Ee(Be+20),Qt.current.setInput(String(Be+20))},children:["20 ",It("<i>".concat(Bt,"</i>"))]}),Object(q.jsxs)(A.a,{style:{display:"flex",width:"100%",textAlign:"center",marginBottom:"0.5rem",paddingLeft:"2rem"},onClick:function(){Ee(Be+50),Qt.current.setInput(String(Be+50))},children:["50 ",It("<i>".concat(Bt,"</i>"))]}),Object(q.jsxs)(A.a,{style:{display:"flex",width:"100%",textAlign:"center",marginBottom:"0.5rem",paddingLeft:"2rem"},onClick:function(){Ee(Be+100),Qt.current.setInput(String(Be+100))},children:["100 ",It("<i>".concat(Bt,"</i>"))]}),Object(q.jsx)(A.a,{style:{display:"flex",width:"100%",textAlign:"center",marginBottom:"0.5rem",paddingLeft:"2rem"},onClick:function(){var e,t,n,c;Ee(((null===(e=P)||void 0===e?void 0:e.totalPrice)+(null===(t=P)||void 0===t?void 0:t.totalPrice)*Ot/100).toFixed(2)-Ne),Qt.current.setInput(String((null===(n=P)||void 0===n?void 0:n.totalPrice)+(null===(c=P)||void 0===c?void 0:c.totalPrice)*Ot/100-Ne))},children:"Payer Tout"}),Object(q.jsx)(A.a,{variant:"warning",style:{display:"flex",width:"100%",textAlign:"center",marginBottom:"0.5rem",paddingLeft:"2rem"},onClick:function(){Ee(0),Qt.current.setInput(String(0))},children:"Effacer"})]})]})}),Object(q.jsxs)(me.a.Footer,{children:[Le?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(Je.a.Label,{style:{fontSize:"24px",fontWeight:"bold"},children:"Nbr couverts"}),Object(q.jsx)(Je.a.Control,{onFocus:function(e){nt("couverts"),Qt.current.setInput("")},style:{width:"120px"},placeholder:"1 Couverts",type:"number",value:Xe,onChange:function(e){return Ye(e.target.value)}})]}):"",Object(q.jsx)(Je.a.Check,{size:"3x",type:"checkbox",label:"Note de frais",style:{fontSize:"24px",marginRight:"2rem",fontWeight:"bold"},onClick:function(){return Me(!Le)}}),Object(q.jsx)(A.a,{variant:"danger",onClick:function(){return ae(!1)},children:Et("cancel")}),le||E?E?Object(q.jsx)(A.a,{variant:"success",children:Object(q.jsx)(Ve.a,{animation:"border",variant:"light"})}):Object(q.jsx)(A.a,{variant:"outline-danger",onClick:function(){ae(!1),ft()},children:"Accompte"}):Object(q.jsx)(A.a,{variant:"success",onClick:function(){Be>0?(Se(Ne+Be),ft(),Qt.current.setInput("")):console.log("null")},children:"Valider"})]})]})]})]})}),Tt=n(185),Dt=n(336),Ft=function(){var e,t=Object(i.useState)([]),n=Object(s.a)(t,2),c=n[0],a=n[1],u=localStorage.getItem("username")||[],h=Object(o.g)(),g=Object(o.f)(),O=Object(b.c)(),m=h.type,p=h.part,x=h.table_id,v=Object(b.d)((function(e){return e.order.checkoutData})).filter((function(e){return e.order_id==x}))[0]||{},f=Object(i.useState)([]),C=Object(s.a)(f,2),y=C[0],B=C[1],E=Object(i.useState)([]),Q=Object(s.a)(E,2),k=Q[0],w=Q[1],N=Object(i.useState)(!0),S=Object(s.a)(N,2),_=S[0],T=S[1],D=Object(i.useState)("repartir"==m),F=Object(s.a)(D,2),P=F[0],L=F[1],M=Object(i.useState)(0),J=Object(s.a)(M,2),z=J[0],H=J[1],K=Object(i.useState)(0),G=Object(s.a)(K,2),W=G[0],V=G[1],$=Object(i.useState)(""),ne=Object(s.a)($,2),ce=ne[0],ie=(ne[1],Object(i.useState)("espece")),re=Object(s.a)(ie,2),ae=re[0],se=re[1],oe=Object(i.useState)(!1),le=Object(s.a)(oe,2),de=le[0],ue=le[1],je=Object(i.useState)(""),Ae=Object(s.a)(je,2),be=Ae[0],he=Ae[1],ge=Object(i.useState)(""),Oe=Object(s.a)(ge,2),pe=(Oe[0],Oe[1]),xe=Object(i.useState)("pay"),ve=Object(s.a)(xe,2),fe=ve[0],Ce=(ve[1],Object(i.useState)(1)),ye=Object(s.a)(Ce,2),Ie=ye[0],Be=ye[1],Ee=Object(i.useState)(!1),ke=Object(s.a)(Ee,2),we=ke[0],Ne=(ke[1],Object(i.useState)({})),Se=Object(s.a)(Ne,2),_e=Se[0],Te=Se[1],De=Object(i.useState)([]),Fe=Object(s.a)(De,2),Pe=Fe[0],Le=Fe[1],Me=Object(i.useState)([]),Re=Object(s.a)(Me,2),ze=(Re[0],Re[1],Object(i.useState)(0)),Ke=Object(s.a)(ze,2),Ge=Ke[0],We=(Ke[1],Object(i.useRef)()),Ze=Object(i.useState)(["9 8 7","6 5 4","3 2 1","0 , {bksp}"]),Xe=Object(s.a)(Ze,2),Ve=Xe[0],Ye=(Xe[1],[]),$e=0,et=!1;v.orderItems;if(v.orderItems.forEach((function(e){20==e.tva&&(et=!0)})),1==et)$e=20;else switch(v.orderType){case"surplace":default:$e=10;break;case"emporter":case"livraison":$e=5.5}Object(i.useEffect)((function(){}),[Ye]),Object(i.useEffect)((function(){var e,t=[],n=0,c=[];null===v||void 0===v||null===(e=v.orderItems)||void 0===e||e.forEach((function(e){var t=Object.assign({ids:n},e);c.push(t),n++})),console.log(c);var i=[c];console.log(p);for(var r=[],a=1;a<=p;a++)t.push(Object(Y.a)(Object(Y.a)({},v),{},{totalPrice:v.totalPrice,taxPrice:(null===v||void 0===v?void 0:v.totalPrice)*$e/100,part:p,type:m,client:a,ids:a})),"partager"==m&&r.push((v.totalPrice+(null===v||void 0===v?void 0:v.totalPrice)*$e/100)/p);localStorage.setItem("partageorder",Ye),Le(r);for(var s=1;s<p;s++)i=[].concat(Object(te.a)(i),[[]]);w(i),console.log(i),B(t),console.log(t)}),[]);var tt=localStorage.getItem("user_id"),nt=function(e,t){I.a.post("http://141.94.77.9:5000/api/finalizeorder",{order:Object(Y.a)(Object(Y.a)({},v),{},{message:ce,pay_method:ae,amount:z,amountPaid:W})}).then((function(n){I.a.post("http://141.94.77.9:5000/api/printFinalOrder",{user_id:tt,order:Object(Y.a)(Object(Y.a)({},v),{},{nbrCouverts:Ie,message:ce,pay_method:ae,amount:z/p,amountPaid:W,totalPrice:v.totalPrice/p}),type:m,part:p,pricepart:v.totalPrice/p}).then((function(e){})).catch((function(e){return console.log(e)})),V(0),ue(!0);for(var i=0;i<=p-1;i++)if(0==c.length){for(var r=[],s=0;s<=p-1;s++)r.push([]);i==_e.client-1&&(r[i]=[{type:ae,value:z}],a(r))}else{var o=c;i==_e.client-1&&(o[i]=[].concat(Object(te.a)(o[i]),[{type:ae,value:z}]),a(o))}var l=e.every((function(e){return 0===e}));0==e[t]?ue(!1):console.log("not paid yet"),l&&(g("/main"),O(Qe({order_id:x})))})).catch((function(e){console.log(e)}))},ct=function(e){return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e}})},it=localStorage.getItem("currency"),rt=R().t;var at=function(){for(var e=y.map((function(e,t){return Object(Y.a)(Object(Y.a)({},e),{},{orderItems:Object(te.a)(k[t])})})),t=[],n=[],c=[],i=0;i<e.length;i++){var r=e[i];console.log(r);for(var a=0,s=0,o=0,l=0;l<r.orderItems.length;l++){var d=r.orderItems[l];a=a+d.price+d.tva/100*d.price,s+=d.price,o+=d.tva/100*d.price}t.push(a),n.push(o),c.push(s)}Le(t);for(var u=[],j=0;j<t.length;j++){var A=t[j],b=Object.assign({pricepart:A},e[j]);b.totalPrice=c[j],b.taxPrice=n[j],u.push(b)}B(u),L(!1),T(!_)};return Object(q.jsxs)("div",{style:{backgroundColor:"white",width:"100%"},children:[Object(q.jsx)(U.a,{variant:"warning",style:{backgroundColor:"#ff6b6b",height:"70px"},children:Object(q.jsxs)(Z.a,{children:[Object(q.jsx)(U.a.Brand,{children:Object(q.jsx)("div",{class:"logo-container",children:Object(q.jsx)("img",{id:"chrome",class:"logo",src:ee})})}),Object(q.jsxs)(X.a,{className:"ms-auto",children:[Object(q.jsx)(X.a.Link,{onClick:function(){return g("/main")},children:Object(q.jsx)("img",{width:"45px",src:lt})}),Object(q.jsx)(X.a.Link,{children:Object(q.jsxs)("h6",{style:{color:"white",paddingTop:"1rem"},className:"checkout-2-agenda",children:[Object(q.jsx)(l.a,{icon:d.j,style:{marginRight:"5px"}}),"Agenda"]})}),Object(q.jsx)(X.a.Link,{onClick:function(){return g("/cloture")},children:Object(q.jsxs)("h6",{style:{color:"white",paddingTop:"1rem"},className:"checkout-2-chasier",children:[Object(q.jsx)(l.a,{icon:d.k,style:{marginRight:"5px"}}),rt("cashier")]})})]}),Object(q.jsxs)("h6",{className:"checkout-2-server",style:{color:"white",marginLeft:"1rem",marginTop:"0.5rem",borderLeft:"1px solid white",padding:"5px"},children:[Object(q.jsx)("img",{src:Ue,width:32,height:32,style:{marginRight:"0.5rem"}}),Object(q.jsx)("b",{children:u})]})]})}),Object(q.jsxs)(me.a,{show:P,children:[Object(q.jsx)(me.a.Header,{closeButton:!0,children:Object(q.jsx)(me.a.Title,{children:"Repartir"})}),Object(q.jsx)(me.a.Body,{children:Object(q.jsx)("div",{style:{display:"flex"},children:Object(q.jsx)(Tt.a,{onDragEnd:function(e){var t=e.source,n=e.destination;if(n){var c=+t.droppableId,i=+n.droppableId;if(c===i){var r=function(e,t,n){var c=Array.from(e),i=c.splice(t,1),r=Object(s.a)(i,1)[0];return c.splice(n,0,r),c}(k[c],t.index,n.index),a=Object(te.a)(k);a[c]=r,w(a)}else{var o=function(e,t,n,c){var i=Array.from(e),r=Array.from(t),a=i.splice(n.index,1),o=Object(s.a)(a,1)[0];r.splice(c.index,0,o);var l={};return l[n.droppableId]=i,l[c.droppableId]=r,l}(k[c],k[i],t,n),l=Object(te.a)(k);l[c]=o[c],l[i]=o[i],w(l)}}},children:null===k||void 0===k?void 0:k.map((function(e,t){return Object(q.jsx)(Tt.c,{droppableId:t.toString(),children:function(n,c){return Object(q.jsxs)("div",Object(Y.a)(Object(Y.a)({ref:n.innerRef,style:(i=c.isDraggingOver,{background:i?"lightblue":"lightgrey",padding:8,width:250})},n.droppableProps),{},{children:[Object(q.jsx)("h6",{children:"personne ".concat(t+1)}),e.map((function(e,t){return Object(q.jsx)(Tt.b,{draggableId:e.ids.toString(),index:t,children:function(t,n){return Object(q.jsx)("div",Object(Y.a)(Object(Y.a)(Object(Y.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{style:(c=n.isDragging,i=t.draggableProps.style,Object(Y.a)({userSelect:"none",padding:16,margin:"0 0 ".concat(8,"px 0"),background:c?"lightgreen":"grey"},i)),children:Object(q.jsx)("div",{style:{display:"flex",justifyContent:"space-around"},children:e.name})}));var c,i}},e.ids)})),n.placeholder]}));var i}},t)}))})})}),Object(q.jsx)(me.a.Footer,{children:Object(q.jsx)(A.a,{variant:"primary",onClick:function(){return at()},children:"Terminer"})})]}),Object(q.jsx)("div",{className:"co2",children:null===y||void 0===y?void 0:y.map((function(e){return 0!=Pe[e.client-1]?Object(q.jsxs)("div",{className:"checkout2",children:[Object(q.jsx)(St,{order:e,ping:_}),Object(q.jsx)(A.a,{variant:"success",className:"c2btn",onClick:function(){Te(e),ue(!0),console.log(e.client),console.log(Ge)},children:"impay\xe9"})]}):Object(q.jsxs)("div",{className:"checkout2",children:[Object(q.jsx)(St,{order:e,ping:_}),Object(q.jsx)(A.a,{variant:"outlined",color:"error",className:"c2btn",startIcon:Object(q.jsx)(Dt.a,{}),Disabled:!0,children:"pay\xe9"})]})}))}),Object(q.jsxs)(me.a,{show:de,onHide:function(){return ue(!1)},children:[Object(q.jsx)(me.a.Header,{closeButton:!0,children:Object(q.jsx)(me.a.Title,{children:"finaliser Commande"})}),Object(q.jsx)(me.a.Body,{children:Object(q.jsxs)(qe.a,{children:[Object(q.jsxs)(He.a,{xs:"5",children:[Object(q.jsxs)(Je.a,{onSubmit:function(e){return e.preventDefault()},children:[Object(q.jsx)(Je.a.Label,{children:"Paiement Re\xe7u"}),Object(q.jsx)(Je.a.Control,{type:"number",placeholder:"0.00",value:W,onChange:function(e){H(e.target.value)}})]}),Object(q.jsx)("h6",{style:{marginTop:"1rem"},children:"Monnaie"}),Object(q.jsx)("h4",{style:{color:"red"},children:Object(q.jsx)("b",{children:Number(Pe[_e.client-1]).toFixed(2)})}),Object(q.jsxs)(Je.a.Group,{style:{marginTop:"2rem"},className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[Object(q.jsxs)(Je.a.Label,{children:[" ",Object(q.jsx)("b",{children:"Details de paiement"})," "]}),Object(q.jsx)("div",{style:{height:"150px",overflow:"auto"},children:null===(e=c[_e.client-1])||void 0===e?void 0:e.map((function(e){return Object(q.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(q.jsx)("h5",{children:e.type}),Object(q.jsxs)("h5",{children:[e.value,"\u20ac"]})]})}))})]})]}),Object(q.jsxs)(He.a,{xs:"5",children:[Object(q.jsxs)(Je.a,{onSubmit:function(e){return e.preventDefault()},children:[Object(q.jsxs)(Je.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(q.jsx)(Je.a.Label,{children:"Paiement total"}),Object(q.jsx)(Je.a.Control,{type:"number",placeholder:"0.00",value:((_e.totalPrice+_e.taxPrice)/p).toFixed(2)})]}),Object(q.jsxs)(Je.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(q.jsx)(Je.a.Label,{children:"Methode de paiement"}),Object(q.jsxs)(Je.a.Select,{"aria-label":"Default select example",onChange:function(e){return se(e.target.value)},children:[Object(q.jsx)("option",{value:"espece",children:"Especes"}),Object(q.jsx)("option",{value:"carte bleu",children:"Carte bleu"}),Object(q.jsx)("option",{value:"ticket restaurant",children:"Ticket restaurant"}),Object(q.jsx)("option",{value:"cheque",children:"Cheque"}),Object(q.jsx)("option",{value:"Glovo",children:"Glovo"}),Object(q.jsx)("option",{value:"Just-Eat",children:"Just-Eat"}),Object(q.jsx)("option",{value:"Deliveroo",children:"Deliveroo"}),Object(q.jsx)("option",{value:"Uber Eats",children:"Uber Eats"})]})]})]}),Object(q.jsxs)(Je.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(q.jsx)(Je.a.Label,{children:Object(q.jsx)("b",{children:"Total"})}),Object(q.jsx)(Je.a.Control,{type:"number",placeholder:"0.00",value:z,onChange:function(e){return H(Number(e.target.value))}})]}),Object(q.jsx)(j.a,{theme:"hg-theme-default hg-layout-default myTheme5",display:{"{bksp}":"EFFACER"},buttonTheme:[{class:"key_btn3",buttons:"0 1 2 3 4 5 6 7 8 9 , {bksp} {enter}"},{class:"hg-highlight",buttons:"Q q"}],keyboardRef:function(e){return We.current=e},layoutName:"default",layout:{default:Ve},onChange:function(e){for(var t=0,n=0;n<e.length;n++){var c=e[n];if(","==c){if(++t>=2)break}else if(0==n&&","==c){t=2;break}}if(pe(e),t<2){if(pe(e),"pay"==fe){var i=function(e,t){var n=Number(1111.11).toLocaleString(t).replace(/\d+/g,"").split("");return null===e?null:(1==n.length&&n.unshift(""),he(Number(String(e).replace(new RegExp(n[0].replace(/\s/g," "),"g"),"").replace(n[1],".")).toString()),Number(String(e).replace(new RegExp(n[0].replace(/\s/g," "),"g"),"").replace(n[1],".")))}(e,"fr");console.log(i),H(i),pe("")}else Be(e),pe("");pe("")}else pe(""),"pay"==fe?(H(0),We.current.setInput("0"),pe("")):(Be(e),pe("")),pe("")},onKeyPress:function(e){console.log("Button pressed",e),"{bksp}"==e&&(he(be.slice(0,-1)),H(Number(z.toString().slice(0,-1))))}})]}),Object(q.jsxs)(He.a,{xs:"2",children:[Object(q.jsx)("h4",{children:"Cash"}),Object(q.jsxs)(A.a,{style:{display:"flex",width:"100%",textAlign:"center",marginBottom:"0.5rem",paddingLeft:"2rem"},onClick:function(){H(z+.5),he((z+.5).toString())},children:["0.5 ",ct("<i>".concat(it,"</i>"))]}),Object(q.jsxs)(A.a,{style:{display:"flex",width:"100%",textAlign:"center",marginBottom:"0.5rem",paddingLeft:"2rem"},onClick:function(){H(z+1),he((z+1).toString())},children:["1 ",ct("<i>".concat(it,"</i>"))]}),Object(q.jsxs)(A.a,{style:{display:"flex",width:"100%",textAlign:"center",marginBottom:"0.5rem",paddingLeft:"2rem"},onClick:function(){H(z+2),he((z+2).toString())},children:["2 ",ct("<i>".concat(it,"</i>"))]}),Object(q.jsxs)(A.a,{style:{display:"flex",width:"100%",textAlign:"center",marginBottom:"0.5rem",paddingLeft:"2rem"},onClick:function(){H(z+5),he((z+5).toString())},children:["5 ",ct("<i>".concat(it,"</i>"))]}),Object(q.jsxs)(A.a,{style:{display:"flex",width:"100%",textAlign:"center",marginBottom:"0.5rem",paddingLeft:"2rem"},onClick:function(){H(z+10),he((z+10).toString())},children:["10 ",ct("<i>".concat(it,"</i>"))]}),Object(q.jsxs)(A.a,{style:{display:"flex",width:"100%",textAlign:"center",marginBottom:"0.5rem",paddingLeft:"2rem"},onClick:function(){H(z+20),he((z+20).toString())},children:["20 ",ct("<i>".concat(it,"</i>"))]}),Object(q.jsxs)(A.a,{style:{display:"flex",width:"100%",textAlign:"center",marginBottom:"0.5rem",paddingLeft:"2rem"},onClick:function(){H(z+50),he((z+50).toString())},children:["50 ",ct("<i>".concat(it,"</i>"))]}),Object(q.jsxs)(A.a,{style:{display:"flex",width:"100%",textAlign:"center",marginBottom:"0.5rem",paddingLeft:"2rem"},onClick:function(){H(z+100),he((z+100).toString())},children:["100 ",ct("<i>".concat(it,"</i>"))]}),Object(q.jsx)(A.a,{style:{display:"flex",width:"100%",textAlign:"center",marginBottom:"0.5rem"},onClick:function(){H(Number(Pe[_e.client-1]).toFixed(2))},children:"Payer Tout"}),Object(q.jsx)(A.a,{variant:"danger",style:{display:"flex",width:"100%",textAlign:"center",marginBottom:"0.5rem",paddingLeft:"2rem"},onClick:function(){H(0),he((0).toString())},children:"Effacer"})]})]})}),Object(q.jsxs)(me.a.Footer,{children:[Object(q.jsx)(A.a,{variant:"outline-secondary",onClick:function(){return ue(!1)},children:rt("cancel")}),we?Object(q.jsx)(A.a,{variant:"outline-danger",onClick:function(){ue(!1),nt()},children:"Accompte"}):Object(q.jsx)(A.a,{variant:"success",onClick:function(){if(z>0){V(W+z),We.current.setInput(""),he("0"),H(0);var e=[],t=0,n=0;for(t=0;t<Pe.length;t++)_e.client-1==t?(n=t,e.push((Pe[t]-z).toFixed(2)<=0?0:(Pe[t]-z).toFixed(2)),(Pe[t]-z).toFixed(2)<=0&&ue(!1)):e.push(Pe[t]);Le(e),nt(e,n)}else console.log("null")},children:"Valider"})]})]})]})},Pt=n.p+"static/media/cc.883bea09.png",Lt=n.p+"static/media/delivery.c63ca6d5.png",Mt=n.p+"static/media/takeout.47a36a20.png",Rt=n.p+"static/media/cash.99b68bb2.jpg",Jt=n.p+"static/media/surplace.2e0aa439.png",zt=n.p+"static/media/borne.aac446c5.png",qt=(n(579),n.p+"static/media/updateorder.37f478bf.wav"),Ht=n.p+"static/media/born-sound.8be7451a.mp3",Kt=(Me.b.connect("http://141.94.77.9:5002"),function(){var e,t,n,c,a,u=Object(i.useState)(new Audio(Ht)),j=Object(s.a)(u,2),h=(j[0],j[1],localStorage.getItem("username")||""),g=Object(b.d)((function(e){return e.data.tables})),O=Object(i.useState)(!1),m=Object(s.a)(O,2),p=m[0],x=m[1],v=Object(i.useState)({}),f=Object(s.a)(v,2),C=f[0],y=f[1],B=Object(b.d)((function(e){return e.data.tva_mode})),E=Object(i.useState)(0),Q=Object(s.a)(E,2),k=(Q[0],Q[1]),w=Object(i.useState)([]),N=Object(s.a)(w,2),S=N[0],_=N[1],T=localStorage.getItem("user_id"),D=new Date,F=D.toISOString().substring(0,10),P=D.getHours()+":"+D.getMinutes();console.log(F,P);Object(b.c)();var L=D.getTime();console.log(L);var M=Object(o.g)().type,J=R().t,z=Object(o.f)(),H=Object(b.d)((function(e){return e.data.orderHistory}))||[],K=Object(b.d)((function(e){return e.order.checkoutData}));console.log("za",K);var G=function(e){return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e}})},W=localStorage.getItem("currency"),V=function(e){var t=e.e;return console.log(t),g.find((function(e){return e.id==t}))},$=function(){localStorage.removeItem("user"),localStorage.removeItem("username"),z("/")},ne=function(e){z("/menu/"+e)};Object(i.useEffect)((function(){var e,t=It.a.clone((null===C||void 0===C?void 0:C.orderItems)||[{}]);console.log("salaaam",t),_(t),null===(e=C.orderItems)||void 0===e||e.map((function(e){if(1==e.is_alcool){var t=B.find((function(e){return"alcool"==e.nom})).valeur;console.log(t),k(t)}}))}),[C]);var ce=function(){var e=0,t=0,n=[];return S.map((function(c){e+=c.price,t+=c.tva,n.push({value:c.tva,perc:c.tva/c.price*100})})),{tot:e,tva:t,tvas:n}},ie=Object(i.useState)(new Audio(qt)),re=Object(s.a)(ie,2);re[0],re[1];return Object(q.jsxs)("div",{className:"main_bg",children:[Object(q.jsx)(U.a,{variant:"warning",className:"navbar",children:Object(q.jsxs)(Z.a,{className:"history-navbar",children:[Object(q.jsx)(U.a.Brand,{children:Object(q.jsx)("div",{class:"logo-container",children:Object(q.jsx)("img",{id:"chrome",class:"logo",src:ee})})}),Object(q.jsxs)(X.a,{className:"ms-auto",children:[Object(q.jsx)(X.a.Link,{onClick:function(){return z("/main")},children:Object(q.jsx)("img",{width:"45px",src:lt,className:"table-icon"})}),Object(q.jsx)(X.a.Link,{children:Object(q.jsxs)("h6",{style:{color:"white",paddingTop:"1rem"},className:"agenda",children:[Object(q.jsx)(l.a,{icon:d.j,style:{marginRight:"5px"}}),"Agenda"]})}),Object(q.jsx)(X.a.Link,{onClick:function(){return z("/cloture")},children:Object(q.jsxs)("h6",{style:{color:"white",paddingTop:"1rem"},className:"caiss-h6",children:[Object(q.jsx)(l.a,{icon:d.k,style:{marginRight:"5px"}}),J("cashier")]})}),Object(q.jsx)(X.a.Link,{onClick:function(){return $()},children:Object(q.jsxs)("h6",{style:{color:"white",paddingTop:"1rem"},className:"log-out",children:[Object(q.jsx)(l.a,{icon:d.E,style:{marginRight:"5px"}}),J("disconnect")]})})]}),Object(q.jsxs)("h6",{className:"server-icon",style:{color:"white",marginLeft:"1rem",marginTop:"0.5rem",borderLeft:"1px solid white",padding:"5px"},children:[Object(q.jsx)("img",{src:Ue,width:32,height:32,style:{marginRight:"0.5rem"}}),Object(q.jsx)("b",{children:h}),Object(q.jsx)(l.a,{onClick:function(){return $()},size:"2x",icon:d.E,style:{marginLeft:"0.5rem",paddingTop:"0.5rem"}})]})]})}),Object(q.jsxs)(He.a,{style:{backgroundColor:"white"},fluid:!0,children:[Object(q.jsxs)(Oe.a,{hover:!0,className:"ttt",children:[Object(q.jsx)("thead",{className:"tbds",children:Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{children:"#"}),Object(q.jsx)("th",{children:"Type"}),Object(q.jsx)("th",{children:"Table"}),Object(q.jsx)("th",{children:"date"}),Object(q.jsx)("th",{children:"order"}),Object(q.jsx)("th",{children:"Prix"}),"all"==M?Object(q.jsx)("th",{children:"Reglement"}):"","encours"==M?Object(q.jsx)("th",{children:"statut"}):"",Object(q.jsx)("th",{children:"Paiement "})]})}),Object(q.jsx)("tbody",{className:"scro",children:"encours"==M?null===K||void 0===K||null===(e=K.slice())||void 0===e||null===(t=e.sort((function(e,t){return t.id-e.id})))||void 0===t?void 0:t.filter((function(e){return("pending"==e.status||"cooking"==e.status||"ready"==e.status)&&e.date==F})).map((function(e,t){var n,c,i=!1;e.orderItems;if(null===e||void 0===e||null===(n=e.orderItems)||void 0===n||n.forEach((function(e){1==e.is_alcool&&(i=!0)})),1==i)20;else switch(e.orderType){case"surplace":case"sur place":default:10;break;case"emporter":case"livraison":5.5}return Object(q.jsxs)("tr",{children:[Object(q.jsx)("td",{children:"pending"==e.status?Object(q.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},children:[Object(q.jsx)(l.a,{size:"2x",style:{cursor:"pointer"},icon:d.q,color:"#42d4cb",onClick:function(){return ne(void 0==e.order_id?e.id:e.order_id)}}),Object(q.jsx)(l.a,{size:"2x",style:{cursor:"pointer"},icon:d.k,color:"#ff6b6b",onClick:function(){return z("/checkout/"+(void 0==e.order_id?e.id:e.order_id))}})]}):"cooking"==e.status?Object(q.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},children:[Object(q.jsx)(l.a,{size:"2x",style:{cursor:"pointer"},icon:d.K,color:"#42d4cb"}),Object(q.jsx)(l.a,{size:"2x",style:{cursor:"pointer"},icon:d.k,color:"#ff6b6b",onClick:function(){return z("/checkout/"+(void 0==e.order_id?e.id:e.order_id))}})]}):"ready"==e.status?Object(q.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},children:[Object(q.jsx)(l.a,{icon:d.m,color:"green "}),Object(q.jsx)(l.a,{size:"2x",style:{cursor:"pointer"},icon:d.k,color:"#ff6b6b",onClick:function(){return z("/checkout/"+(void 0==e.order_id?e.id:e.order_id))}})]}):Object(q.jsx)(l.a,{icon:d.m,color:"green "})}),Object(q.jsxs)("td",{children:[void 0==(null===e||void 0===e?void 0:e.orderType)?"de borne":e.orderType,"surplace"==e.orderType?Object(q.jsx)("img",{src:Jt,width:32,height:32,style:{marginLeft:"0.5rem"}}):"emporter"==e.orderType?Object(q.jsx)("img",{src:Mt,width:32,height:32,style:{marginLeft:"0.5rem"}}):"livraison"==e.orderType?Object(q.jsx)("img",{src:Lt,width:32,height:32,style:{marginLeft:"0.5rem"}}):Object(q.jsx)("img",{src:zt,width:40,height:40,style:{marginLeft:"0.5rem"}})]}),Object(q.jsxs)("td",{children:["Table : ",null===(c=V({e:e.table_number}))||void 0===c?void 0:c.numero]}),Object(q.jsx)("td",{children:e.date+"-"+e.time}),Object(q.jsx)("td",{children:"#"+(void 0==e.order_id?e.id:e.order_id)}),Object(q.jsx)("td",{children:Object(q.jsxs)("b",{style:{display:"flex",color:"red"},children:[void 0==e.totalPrice?e.price+e.taxPrice:e.totalPrice+e.taxPrice," ",G("<i>".concat(W,"</i>"))]})}),Object(q.jsx)("td",{children:"pending"==e.status?Object(q.jsx)("b",{children:"En attente"}):"cooking"==e.status?Object(q.jsx)("b",{style:{color:"orange"},children:" En pr\xe9paration"}):Object(q.jsx)("b",{style:{color:"green"},children:" Pr\xeate"})}),Object(q.jsx)("td",{children:Object(q.jsx)("b",{children:"En cours"})})]})})):"annules"==M?null===K||void 0===K||null===(n=K.slice())||void 0===n||null===(c=n.sort((function(e,t){return t.id-e.id})))||void 0===c?void 0:c.filter((function(e){return"avenir"==M?e.date>F:"rejected"==e.status&&e.date==F})).map((function(e,t){var n,c=!1;e.orderItems;if(e.orderItems.forEach((function(e){1==e.is_alcool&&(c=!0)})),1==c)20;else if("surplace"===e.orderType)10;else 5.5;return Object(q.jsxs)("tr",{children:[Object(q.jsx)("td",{children:"pending"==e.status?Object(q.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},children:[Object(q.jsx)(l.a,{size:"2x",style:{cursor:"pointer"},icon:d.q,color:"#42d4cb",onClick:function(){return ne(void 0==e.order_id?e.id:e.order_id)}}),Object(q.jsx)(l.a,{size:"2x",style:{cursor:"pointer"},icon:d.k,color:"#ff6b6b",onClick:function(){return z("/checkout/"+(void 0==e.order_id?e.id:e.order_id))}})]}):Object(q.jsx)(l.a,{icon:d.G,color:"red"})}),Object(q.jsxs)("td",{children:[e.orderType,"surplace"==e.orderType?Object(q.jsx)("img",{src:Jt,width:32,height:32,style:{marginLeft:"0.5rem"}}):"emporter"==e.orderType?Object(q.jsx)("img",{src:Mt,width:32,height:32,style:{marginLeft:"0.5rem"}}):Object(q.jsx)("img",{src:Lt,width:32,height:32,style:{marginLeft:"0.5rem"}})]}),Object(q.jsxs)("td",{children:["Table : ",null===(n=V({e:e.table_number}))||void 0===n?void 0:n.numero]}),Object(q.jsx)("td",{children:e.date+"-"+e.time}),Object(q.jsx)("td",{children:"#"+(void 0==e.order_id?e.id:e.order_id)}),Object(q.jsx)("td",{children:Object(q.jsxs)("b",{style:{display:"flex",color:"red"},children:[void 0==e.totalPrice?e.price+e.tva*e.price/100:e.totalPrice+e.taxPrice," ",G("<i>".concat(W,"</i>"))]})}),Object(q.jsx)("td",{children:Object(q.jsx)("b",{children:"Annuler"})})]})})):"avenir"==M?"":null===H||void 0===H||null===(a=H.slice())||void 0===a?void 0:a.sort((function(e,t){return t.id-e.id})).filter((function(e){return e.paymentsInDb&&e.paymentsInDb.length>0})).map((function(e,t){var n,c=0,i=!1;e.orderItems;if(e.orderItems.forEach((function(e){1==e.is_alcool&&(i=!0)})),1==i)c=20;else switch(void 0==e.orderType?e.order_type:e.orderType){case"surplace":default:c=10;break;case"emporter":case"livraison":c=5.5}return Object(q.jsxs)("tr",{onClick:function(){return function(e){var t=e.order,n=It.a.clone(t);(n=Object(Y.a)(Object(Y.a)({},n),{},{order_id:n.id,taxPrice:n.tva,totalPrice:n.price})).orderItems=n.orderItems.map((function(e){return Object(Y.a)(Object(Y.a)({},e),{},{qt:e.quantity})})),y(n),x(!0)}({order:e})},children:[Object(q.jsx)("td",{children:1==e.source?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(l.a,{icon:d.r,color:"blue",style:{marginRight:"0.5rem"}}),Object(q.jsx)("b",{children:"Enligne"})]}):Object(q.jsx)(l.a,{icon:d.m,color:"green"})}),Object(q.jsxs)("td",{style:{display:"flex"},children:[e.order_type,"surplace"==e.order_type?Object(q.jsx)("img",{src:Jt,width:32,height:32,style:{marginLeft:"0.5rem"}}):"emporter"==e.order_type?Object(q.jsx)("img",{src:Mt,width:32,height:32,style:{marginLeft:"0.5rem"}}):Object(q.jsx)("img",{src:Lt,width:32,height:32,style:{marginLeft:"0.5rem"}})]}),Object(q.jsxs)("td",{children:["Table :"," ",(null===(n=V({e:e.table_number}))||void 0===n?void 0:n.numero)||"N/A"]}),Object(q.jsx)("td",{children:e.date+"-"+e.time}),Object(q.jsx)("td",{children:"#"+e.id}),Object(q.jsx)("td",{children:Object(q.jsxs)("b",{style:{display:"flex",color:"#ff6b6b"},children:[3!=e.source?(e.price+e.price*c/100).toFixed(2):e.price+e.tva*e.price/100," ",G("<i>".concat(W,"</i>"))]})}),Object(q.jsx)("td",{children:Object(q.jsx)("b",{style:{display:"flex",color:"#ff6b6b"},children:e.how_paid})}),Object(q.jsx)("td",{children:Object(te.a)(new Set(e.paymentsInDb.map((function(e){return e.pay_method})))).map((function(e){return Object(q.jsxs)("b",{children:[e,"-"]})}))})]})}))})]}),p&&Object(q.jsxs)("div",{className:"preview",children:[Object(q.jsx)(l.a,{onClick:function(){return x(!1)},icon:d.G,size:"2x",style:{position:"absolute",right:"5px"}}),Object(q.jsx)("div",{className:"scr",children:Object(q.jsx)(St,{order:C})}),Object(q.jsx)(A.a,{onClick:function(){x(!1);var e,t,n={from_kiosk:!1,table:(null===C||void 0===C?void 0:C.table_number)||"",client_id:(null===C||void 0===C?void 0:C.customer_id)||0,order_id:C.id,message:C.message||"aucune",customer_name:(null===C||void 0===C?void 0:C.customer_name)||"",customer_company:(null===C||void 0===C?void 0:C.customer_company)||"",code1:(null===C||void 0===C?void 0:C.code1)||"",code2:(null===C||void 0===C?void 0:C.code2)||"",interphone:(null===C||void 0===C?void 0:C.interphone)||"",etage:(null===C||void 0===C?void 0:C.etage)||"",table_number:(null===C||void 0===C?void 0:C.table_number)||0,customer_tel:(null===C||void 0===C?void 0:C.customer_tel)||"",customer_adress:null===C||void 0===C?void 0:C.customer_adress,status:null===C||void 0===C?void 0:C.status,orderType:null===C||void 0===C?void 0:C.order_type,paymentType:null===C||void 0===C?void 0:C.pay_method,totalPrice:null===C||void 0===C?void 0:C.price,taxPrice:null===C||void 0===C?void 0:C.tva,tvas:ce().tvas,orderItems:[],date:null===C||void 0===C?void 0:C.date,time:null===C||void 0===C?void 0:C.time};console.log(ce().tvas),S.map((function(e){n.orderItems.push(Object(Y.a)(Object(Y.a)({},e),{},{price:e.price,tva:e.tva}))})),I.a.post("http://141.94.77.9:5000/api/printOrder",{kitchen:!1,user_id:T,order:Object(Y.a)(Object(Y.a)({new:!1},n),{},{tvas:(e=ce().tvas,t="perc",null===e||void 0===e?void 0:e.reduce((function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n.value),e}),{})),Date:new Date,nbrCouverts:1})}).then((function(e){return console.log(e.data)})).catch((function(e){return console.log(e)}))},variant:"danger",style:{height:"50px",width:"100%",bottom:"0",position:"absolute"},children:"Imprimer"})]})]}),Object(q.jsx)(We,{})]})}),Gt=function(){var e,t,n,c=localStorage.getItem("username")||"",a=localStorage.getItem("user_id"),u=Object(b.d)((function(e){return e.data.clients})),j=Object(b.d)((function(e){return e.data.orderHistory}))||[],h=Object(b.d)((function(e){return e.data.tables})),g=Object(i.useState)({}),O=Object(s.a)(g,2),m=O[0],p=O[1],x=Object(i.useState)(!1),v=Object(s.a)(x,2),f=v[0],C=v[1],y=Object(i.useState)(!1),B=Object(s.a)(y,2),E=B[0],Q=B[1],k=Object(i.useState)(""),w=Object(s.a)(k,2),N=w[0],S=w[1],_=Object(o.g)(),T=Object(o.f)(),D=_.id,F=R().t,P=Object(b.c)();Object(i.useEffect)((function(){I.a.post("http://141.94.77.9:5000/api/getclients",{user_id:a}).then((function(e){P(ue({clients:e.data.clients}))}))}),[E]);var L=function(){localStorage.removeItem("user"),localStorage.removeItem("username"),T("/")},M=localStorage.getItem("currency"),J=function(e){var t=e.e;return console.log(t),h.find((function(e){return e.id==t}))};return Object(q.jsxs)("div",{className:"navbar",children:[Object(q.jsx)(U.a,{style:{backgroundColor:"#ff6b6b",height:"70px"},variant:"warning",children:Object(q.jsxs)(Z.a,{className:"history-navbar",children:[Object(q.jsx)(U.a.Brand,{children:Object(q.jsx)("div",{class:"logo-container",children:Object(q.jsx)("img",{id:"chrome",class:"logo",src:ee})})}),Object(q.jsxs)(X.a,{className:"ms-auto",children:[Object(q.jsx)(X.a.Link,{onClick:function(){return T("/main")},children:Object(q.jsx)("img",{width:"45px",src:lt,className:"table-icon"})}),Object(q.jsx)(X.a.Link,{children:Object(q.jsxs)("h6",{style:{color:"white",paddingTop:"1rem"},className:"agenda",children:[Object(q.jsx)(l.a,{icon:d.j,style:{marginRight:"5px"}}),"Agenda"]})}),Object(q.jsx)(X.a.Link,{onClick:function(){return T("/cloture")},children:Object(q.jsxs)("h6",{style:{color:"white",paddingTop:"1rem"},className:"caiss-h6",children:[Object(q.jsx)(l.a,{icon:d.k,style:{marginRight:"5px"}}),F("cashier")]})}),Object(q.jsx)(X.a.Link,{onClick:function(){return L()},children:Object(q.jsxs)("h6",{style:{color:"white",paddingTop:"1rem"},className:"log-out",children:[Object(q.jsx)(l.a,{icon:d.E,style:{marginRight:"5px"}}),F("disconnect")]})})]}),Object(q.jsxs)("h6",{className:"client-server-icon",style:{color:"white",marginLeft:"1rem",marginTop:"0.5rem",borderLeft:"1px solid white",padding:"5px"},children:[Object(q.jsx)("img",{src:Ue,width:32,height:32,style:{marginRight:"0.5rem"}}),Object(q.jsx)("b",{children:c}),Object(q.jsx)(l.a,{onClick:function(){return L()},size:"2x",icon:d.E,style:{marginLeft:"0.5rem",paddingTop:"0.5rem"}})]}),Object(q.jsxs)("div",{className:"client-search",children:[Object(q.jsx)("label",{children:Object(q.jsx)(l.a,{icon:d.C})}),Object(q.jsx)("input",{type:"text",placeholder:"Chercher...",onChange:function(e){return S(e.target.value)}})]})]})}),Object(q.jsx)(Z.a,{style:{backgroundColor:"white"},fluid:!0,children:Object(q.jsxs)(Oe.a,{hover:!0,className:"ttt",children:[Object(q.jsx)("thead",{className:"tbds",children:D?Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{children:"#"}),Object(q.jsx)("th",{children:"Type"}),Object(q.jsx)("th",{children:"Table"}),Object(q.jsx)("th",{children:"date"}),Object(q.jsx)("th",{children:"order"}),Object(q.jsx)("th",{children:"Prix"}),Object(q.jsx)("th",{children:"Paiement "})]}):Object(q.jsxs)("tr",{children:[Object(q.jsx)("th",{children:"#"}),Object(q.jsx)("th",{children:"Nom/Prenom"}),Object(q.jsx)("th",{children:"Telephone"}),Object(q.jsx)("th",{children:"Email"}),Object(q.jsx)("th",{children:"Adresse"}),Object(q.jsx)("th",{children:"Ville"}),Object(q.jsx)("th",{children:"Code postal"})]})}),Object(q.jsx)("tbody",{className:"scro",children:D?null===j||void 0===j||null===(e=j.slice())||void 0===e?void 0:e.sort((function(e,t){return t.id-e.id})).filter((function(e){return e.customer_id==D})).map((function(e,t){var n,c;return Object(q.jsxs)("tr",{children:[Object(q.jsx)("td",{children:Object(q.jsx)(l.a,{icon:d.m,color:"green"})}),Object(q.jsxs)("td",{style:{display:"flex"},children:[e.order_type,"surplace"==e.order_type?Object(q.jsx)("img",{src:Jt,width:32,height:32,style:{marginLeft:"0.5rem"}}):Object(q.jsx)("img",{src:Lt,width:32,height:32,style:{marginLeft:"0.5rem"}})]}),Object(q.jsxs)("td",{children:["Table :"," ",(null===(n=J({e:e.table_number}))||void 0===n?void 0:n.numero)||"N/A"]}),Object(q.jsx)("td",{children:e.date+"-"+e.time}),Object(q.jsx)("td",{children:"#"+e.id}),Object(q.jsx)("td",{children:Object(q.jsxs)("b",{style:{display:"flex",color:"#ff6b6b"},children:[e.price," ",(c="<i>".concat(M,"</i>"),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:c}}))]})}),Object(q.jsxs)("td",{children:[Object(q.jsx)("b",{children:"espece"==e.pay_method?"Especes":"Carte Bancaire"==e.pay_method||1==e.pay_method?"Carte Bancaire":"Especes"}),"espece"==e.pay_method||2==e.pay_method?Object(q.jsx)("img",{src:Rt,width:32,height:32,style:{marginLeft:"0.5rem"}}):"Carte Bancaire"==e.pay_method||1==e.pay_method?Object(q.jsx)("img",{src:Pt,width:32,height:32,style:{marginLeft:"0.5rem"}}):""]})]})})):u.filter((function(e){return e.nom_prenom.toLowerCase().includes(N.toLowerCase())||e.email.toLowerCase().includes(N.toLowerCase())||e.adresse.toLowerCase().includes(N.toLowerCase())||e.ville.toLowerCase().includes(N.toLowerCase())||e.telephone.includes(N)})).map((function(e,t){return Object(q.jsxs)("tr",{className:"client-tr",children:[Object(q.jsx)("td",{children:Object(q.jsx)(l.a,{icon:d.q,color:"#ff6b6b",size:"2x",onClick:function(){p(e),console.log(e),C(!0)}})}),Object(q.jsx)("td",{onClick:function(){return T("/clients/"+e.id)},children:e.nom_prenom||"N/A"}),Object(q.jsx)("td",{children:e.telephone||"N/A"}),Object(q.jsx)("td",{children:e.email||"N/A"}),Object(q.jsx)("td",{children:e.adresse||"N/A"}),Object(q.jsx)("td",{children:e.ville||"N/A"}),Object(q.jsx)("td",{children:e.code_postal||"N/A"})]})}))})]})}),Object(q.jsxs)(me.a,{show:f,onHide:function(){return C(!1)},children:[Object(q.jsx)(me.a.Header,{closeButton:!0,children:Object(q.jsx)(me.a.Title,{children:"Client"})}),Object(q.jsx)(me.a.Body,{children:Object(q.jsx)("div",{children:Object(q.jsxs)(Je.a,{auto:!0,children:[Object(q.jsx)(Je.a.Group,{className:"mb-3",children:Object(q.jsx)(qe.a,{children:Object(q.jsx)(He.a,{children:Object(q.jsx)(Je.a.Control,{value:m.nom_prenom,type:"text",placeholder:"nom/prenom",onChange:function(e){return p(Object(Y.a)(Object(Y.a)({},m),{},{nom_prenom:e.target.value}))}})})})}),Object(q.jsx)(Je.a.Group,{className:"mb-3",children:Object(q.jsxs)(qe.a,{children:[Object(q.jsxs)(He.a,{children:[(null===(t=m.telephone)||void 0===t?void 0:t.length)>0&&(null===(n=m.telephone)||void 0===n?void 0:n.length)<10?Object(q.jsx)(Re.a,{bg:"danger",children:"Numero pas valide (10 chiffres obligatoire)"}):"",Object(q.jsx)(Je.a.Control,{value:m.telephone,type:"tel",placeholder:"telephone",onChange:function(e){return p(Object(Y.a)(Object(Y.a)({},m),{},{telephone:e.target.value}))}})]}),Object(q.jsx)(He.a,{children:Object(q.jsx)(Je.a.Control,{value:m.email,type:"email",placeholder:"Email",onChange:function(e){return p(Object(Y.a)(Object(Y.a)({},m),{},{email:e.target.value}))}})})]})}),Object(q.jsx)(Je.a.Group,{className:"mb-3",children:Object(q.jsxs)(qe.a,{children:[Object(q.jsx)(He.a,{children:Object(q.jsx)(Je.a.Control,{value:m.adresse,as:"textarea",type:"text",placeholder:"adresse",onChange:function(e){return p(Object(Y.a)(Object(Y.a)({},m),{},{adresse:e.target.value}))}})}),Object(q.jsx)(He.a,{children:Object(q.jsx)(Je.a.Control,{value:m.societe,type:"text",placeholder:"soci\xe9t\xe9",onChange:function(e){return p(Object(Y.a)(Object(Y.a)({},m),{},{societe:e.target.value}))}})})]})}),Object(q.jsx)(Je.a.Group,{className:"mb-3",children:Object(q.jsxs)(qe.a,{children:[Object(q.jsx)(He.a,{children:Object(q.jsx)(Je.a.Control,{value:m.code_1,type:"text",placeholder:"code 1",onChange:function(e){return p(Object(Y.a)(Object(Y.a)({},m),{},{code_1:e.target.value}))}})}),Object(q.jsx)(He.a,{children:Object(q.jsx)(Je.a.Control,{value:m.code_2,type:"text",placeholder:"code 2",onChange:function(e){return p(Object(Y.a)(Object(Y.a)({},m),{},{code_2:e.target.value}))}})}),Object(q.jsx)(He.a,{xs:"6",children:Object(q.jsx)(Je.a.Control,{value:m.ville,type:"text",placeholder:"Ville",onChange:function(e){return p(Object(Y.a)(Object(Y.a)({},m),{},{ville:e.target.value}))}})})]})}),Object(q.jsx)(Je.a.Group,{className:"mb-3",children:Object(q.jsxs)(qe.a,{children:[Object(q.jsx)(He.a,{children:Object(q.jsx)(Je.a.Control,{value:m.interphone,type:"text",placeholder:"interphone",onChange:function(e){return p(Object(Y.a)(Object(Y.a)({},m),{},{interphone:e.target.value}))}})}),Object(q.jsx)(He.a,{children:Object(q.jsx)(Je.a.Control,{value:m.etage,type:"text",placeholder:"etage",onChange:function(e){return p(Object(Y.a)(Object(Y.a)({},m),{},{etage:e.target.value}))}})}),Object(q.jsx)(He.a,{xs:"6",children:Object(q.jsx)(Je.a.Control,{value:m.code_postal,type:"postal",placeholder:"Code postal",onChange:function(e){return p(Object(Y.a)(Object(Y.a)({},m),{},{code_postal:e.target.value}))}})})]})})]})})}),Object(q.jsxs)(me.a.Footer,{children:[Object(q.jsx)(A.a,{variant:"secondary",onClick:function(){return C(!1)},children:"Annuler"}),Object(q.jsx)(A.a,{style:{backgroundColor:"#ff6b6b",borderColor:"#ff6b6b"},variant:"primary",onClick:function(){C(!1),I.a.post("http://141.94.77.9:5000/api/updateClient",{client_id:m.id,client:m}).then((function(e){return Q(!E)})).catch((function(e){return console.log(e)}))},children:"Terminer"})]})]}),Object(q.jsx)(We,{})]})},Wt=function(){var e=Object(b.c)(),t=Object(o.f)(),n=localStorage.getItem("username")||"";return Object(q.jsxs)("div",{children:[Object(q.jsx)(U.a,{style:{backgroundColor:"#ff6b6b",height:"70px"},variant:"warning",children:Object(q.jsxs)(Z.a,{children:[Object(q.jsx)(U.a.Brand,{children:Object(q.jsx)("div",{class:"logo-container",children:Object(q.jsx)("img",{id:"chrome",class:"logo",src:ee})})}),Object(q.jsx)(X.a,{className:"ms-auto",children:Object(q.jsx)(X.a.Link,{onClick:function(){t("/main"),e(Ee())},children:Object(q.jsx)("img",{width:"45px",src:lt})})}),Object(q.jsxs)("h6",{style:{color:"white",marginLeft:"1rem",marginTop:"0.5rem",borderLeft:"1px solid white",padding:"5px"},children:[Object(q.jsx)("img",{src:Ue,width:32,height:32,style:{marginRight:"0.5rem"}}),Object(q.jsx)("b",{children:n}),Object(q.jsx)(l.a,{onClick:function(){return localStorage.removeItem("user"),localStorage.removeItem("username"),void t("/")},size:"2x",icon:d.E,style:{marginLeft:"0.5rem",paddingTop:"0.5rem"}})]})]})}),Object(q.jsx)("div",{id:"calendar",style:{height:"800px"}})]})},Ut=Me.a.connect("http://141.94.77.9:5002");var Zt=function(){var e=Object(i.useState)(new Audio(qt)),t=Object(s.a)(e,2),n=t[0],c=(t[1],Object(i.useState)(new Audio(Ht))),r=Object(s.a)(c,2),a=(r[0],r[1],Object(b.c)()),l=localStorage.getItem("user_id");return Ut.on("update".concat(l),(function(e){n.play(),"cooking"==e.status?z.a.fire({icon:"success",title:"<h5 >"+"La commande <span style='color:green'>".concat(e.order_id,"</span> en pr\xe9paration")+"</h5>",showConfirmButton:!1,timer:2500}):"ready"==e.status?z.a.fire({icon:"success",title:"<h5 >"+"La commande <span style='color:green'>".concat(e.order_id,"\u20ac</span> et pr\xe9te")+"</h5>",showConfirmButton:!1,timer:2500}):z.a.fire({icon:"success",title:"<h5 >"+"La commande <span style='color:green'>".concat(e.order_id,"\u20ac</span> a \xe9t\xe9 annul\xe9")+"</h5>",showConfirmButton:!1,timer:2500}),a(Ne({order:e}))})),Object(q.jsx)("div",{className:"App",children:Object(q.jsxs)(o.c,{children:[Object(q.jsx)(o.a,{exact:!0,path:"/",element:Object(q.jsx)(V,{})}),Object(q.jsx)(o.a,{path:"/init",element:Object(q.jsx)(he,{})}),Object(q.jsx)(o.a,{path:"/main",element:Object(q.jsx)(Xe,{})}),Object(q.jsx)(o.a,{path:"/menu",element:Object(q.jsx)(ut,{})}),Object(q.jsx)(o.a,{path:"/menu/:order_id",element:Object(q.jsx)(ut,{})}),Object(q.jsx)(o.a,{path:"/caisse",element:Object(q.jsx)(ft,{})}),Object(q.jsx)(o.a,{path:"/cloture",element:Object(q.jsx)(wt,{})}),Object(q.jsx)(o.a,{path:"/calendar",element:Object(q.jsx)(Wt,{})}),Object(q.jsx)(o.a,{path:"/history/:type",element:Object(q.jsx)(Kt,{})}),Object(q.jsx)(o.a,{path:"/clients",element:Object(q.jsx)(Gt,{})}),Object(q.jsx)(o.a,{path:"/clients/:id",element:Object(q.jsx)(Gt,{})}),Object(q.jsx)(o.a,{path:"/checkout2/:table_id/:type/:part",element:Object(q.jsx)(Ft,{})}),Object(q.jsx)(o.a,{path:"/checkout/:table_id",element:Object(q.jsx)(_t,{})}),Object(q.jsx)(o.a,{path:"/test",element:Object(q.jsx)(Nt,{})})]})})},Xt=(n(595),n(47)),Vt=n(76),Yt=n(333),$t=n.n(Yt),en=Object(Xt.c)({auth:T,message:C,data:be,order:Fe,caisse:Ot}),tn={key:"root",version:1,storage:$t.a},nn=Object(Vt.g)(tn,en),cn=Object(m.a)({reducer:nn,middleware:function(e){return e({serializableCheck:{ignoredActions:[Vt.a,Vt.f,Vt.b,Vt.c,Vt.d,Vt.e]}})}}),rn=n(169),an=(n(598),n(599),n(334)),sn=Object(Vt.h)(cn);Object(a.render)(Object(q.jsx)(b.a,{store:cn,children:Object(q.jsx)(rn.a,{children:Object(q.jsx)(an.a,{loading:null,persistor:sn,children:Object(q.jsx)(Zt,{})})})}),document.getElementById("root"))}},[[600,1,2]]]);
//# sourceMappingURL=main.b652352f.chunk.js.map